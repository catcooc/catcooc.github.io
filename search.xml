<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ChatGPT (å¯èƒ½)æ˜¯æ€éº¼ç…‰æˆçš„ - GPT ç¤¾æœƒåŒ–çš„éç¨‹</title>
    <url>/post/3f37b543.html</url>
    <content><![CDATA[<h1 id="chatgpt-å¯èƒ½æ˜¯æ€éº¼ç…‰æˆçš„---gpt-ç¤¾æœƒåŒ–çš„éç¨‹">ChatGPT
(å¯èƒ½)æ˜¯æ€éº¼ç…‰æˆçš„ - GPT ç¤¾æœƒåŒ–çš„éç¨‹</h1>
<span id="more"></span>
<p>æå®æ¯…è€å¸ˆYouTubeåŸè§†é¢‘</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/e0aKI2GGZNg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
<p>Instruct GPT https://arxivorg/abs/2203.02155</p>
<p>GPT-3 https://arxiv.org/pdf/2005.14165</p>
<p>https://openai.com/blog/chatgpt/</p>
<p>GPT =Generative Pre-trained Transformer</p>
<ol type="1">
<li><p>å­¦ä¹ æ–‡å­—æ¥é¾™</p>
<ul>
<li>å­¦ä¹ ä¸€å †è¯åé¢å‡ºç°ä»€ä¹ˆè¯çš„æ¦‚ç‡ æ¯”å¦‚ç»™ä¸€ä¸ªä¸å®Œæ•´çš„å¥å­ â€œä½ å¥½â€
è®©ä»–åé¢æ¥è¯</li>
<li>GPTå…ˆä»ç½‘ç»œä¸­çœ‹å¤§é‡æ–‡å¥ ä»è€ŒçŸ¥é“ ä¸€æ®µæ–‡å­—åå‡ºç°è¯çš„å‡ ç‡åˆ†å¸ƒ
åœ¨å›ç­”æ—¶æŒ‰è¿™ç§å‡ ç‡åˆ†å¸ƒå›ç­” ä»è€Œæ¯æ¬¡å›ç­”éƒ½ä¸ä¸€æ ·</li>
</ul></li>
<li><p>äººç±»è€å¸ˆå¼•å¯¼æ–‡å­—æ¥é¾™çš„æ–¹å‘</p>
<ul>
<li>æ‰¾äººæ¥æ€è€ƒæƒ³é—®GPTçš„é—®é¢˜ï¼Œå¹¶æä¾›æ­£ç¡®ç­”æ¡ˆ æä¾›æ¯”è¾ƒå¥½çš„æ•°æ®
è®©ä»–å­¦ä¹ </li>
</ul></li>
<li><p>æ¨¡ä»¿äººç±»è€å¸ˆçš„å–œå¥½</p>
<ul>
<li>æ‰¾ä¸€æ‰¹äººè¯„ä»·GPTçš„å›ç­” ç„¶åç”¨è¿™ä¸ªè¯„ä»·æ•°æ® è®­ç»ƒä¸€ä¸ª teacher model
ç”¨æ¥è¯„åˆ†</li>
</ul></li>
<li><p>å¢å¼ºå¼å­¦ä¹ å‘è€å¸ˆæ¨¡æ‹Ÿè€å¸ˆå­¦ä¹ </p>
<ul>
<li>å½“åˆ«äººé—®GPT é—®é¢˜ GPT ç»™å‡ºç­”æ¡ˆ å¹¶æŠŠé—®é¢˜å’Œç­”æ¡ˆè¾“å…¥Teacher model
å¾—åˆ°è¯„åˆ† ä¿®æ”¹GPTå‚æ•°ï¼ˆRewardï¼‰</li>
</ul>
<p>ä½†æ˜¯ChatGPTä»ç„¶ä¸å®Œç¾ é—®ä¸€ä¸‹ æ²¡ç”¨çš„é—®é¢˜ï¼ˆè®­ç»ƒä¸­æ²¡æœ‰è€ƒè™‘åˆ°çš„é—®é¢˜é—®æ³•ï¼‰
ä»–å°±ä¸è¡Œäº†</p></li>
</ol>
]]></content>
      <tags>
        <tag>-äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>MMDetection3D å®è·µ</title>
    <url>/post/9f7e2fde.html</url>
    <content><![CDATA[<p>MMDetection3D å®è·µ<br />
<span id="more"></span></p>
<h1 id="mmdetection3d-å®è·µ">MMDetection3D å®è·µ</h1>
<p>å‚è€ƒè§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1aG4y197is/?spm_id_from=333.788&amp;vd_source=89cd1bd958a3eea212de763dc113559e</p>
<p>å‚è€ƒæ–‡æ¡£ï¼šhttps://mmdetection3d.readthedocs.io/en/latest/</p>
<h2 id="mmdetection3d-å®‰è£…é…ç½®">MMDetection3D å®‰è£…é…ç½®</h2>
<p>åœ¨å·²ç»é…ç½®å¥½torch å’Œopenmimæƒ…å†µä¸‹</p>
<p>æ¿€æ´»é…ç½®ç¯å¢ƒ</p>
<p>å®‰è£…open3d</p>
<p><code>pip install open3d</code></p>
<p><code>git clone https://github.com/open-mmlab/mmdetection3d.git</code></p>
<p><code>cd mmdetection3d</code></p>
<p><code>mim install -e .</code></p>
<p>ä¸€å°æ®µæŠ¥é”™ä¿¡æ¯ã€‚ã€‚ã€‚ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ERROR: pip&#x27;s dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.`</span><br><span class="line">`mmsegmentation 0.30.0 requires mmcv-full&lt;1.7.0,&gt;=1.4.4, but you have mmcv-full 1.7.1 which is incompatible.`</span><br><span class="line">`Successfully installed Flask-2.2.5 Jinja2-3.1.2 MarkupSafe-2.1.3 PyWavelets-1.4.1 Send2Trash-1.8.2 absl-py-1.4.0 anyio-3.7.0 argon2-cffi-21.3.0 argon2-cffi-bindings-21.2.0 arrow-1.2.3 attrs-23.1.0 beautifulsoup4-4.12.2 black-23.3.0 bleach-6.0.0 cachetools-5.3.1 cffi-1.15.1 configargparse-1.5.3 dash-2.10.2 dash-core-components-2.0.0 dash-html-components-2.0.0 dash-table-5.0.0 defusedxml-0.7.1 descartes-1.1.0 exceptiongroup-1.1.1 fastjsonschema-2.17.1 fire-0.5.0 flake8-6.0.0 fqdn-1.5.1 google-auth-2.20.0 google-auth-oauthlib-1.0.0 grpcio-1.54.2 imageio-2.31.1 iniconfig-2.0.0 ipython-genutils-0.2.0 isoduration-20.11.0 itsdangerous-2.1.2 joblib-1.2.0 jsonpointer-2.4 jsonschema-4.17.3 jupyter-1.0.0 jupyter-console-6.6.3 jupyter-events-0.6.3 jupyter-server-2.6.0 jupyter-server-terminals-0.4.4 jupyterlab-pygments-0.2.2 lazy_loader-0.2 llvmlite-0.40.1rc1 lyft_dataset_sdk-0.0.8 matplotlib-3.5.2 mccabe-0.7.0 mistune-3.0.1 mmcv-2.0.0 mmdet-3.0.0 mmdet3d-1.1.1 mmengine-0.7.4 mypy-extensions-1.0.0 nbclassic-1.0.0 nbclient-0.8.0 nbconvert-7.6.0 nbformat-5.7.0 networkx-3.1 notebook-6.5.4 notebook-shim-0.2.3 numba-0.57.0 nuscenes-devkit-1.1.10 oauthlib-3.2.2 open3d-0.17.0 overrides-7.3.1 pandocfilters-1.5.0 pathspec-0.11.1 plotly-5.15.0 pluggy-1.0.0 plyfile-0.9 prometheus-client-0.17.0 protobuf-4.23.3 pyasn1-0.5.0 pyasn1-modules-0.3.0 pycodestyle-2.10.0 pycparser-2.21 pyflakes-3.0.1 pyquaternion-0.9.9 pyrsistent-0.19.3 pytest-7.3.2 python-json-logger-2.0.7 pywinpty-2.0.10 qtconsole-5.4.3 qtpy-2.3.1 requests-oauthlib-1.3.1 rfc3339-validator-0.1.4 rfc3986-validator-0.1.1 rsa-4.9 scikit-image-0.21.0 scikit-learn-1.2.2 shapely-1.8.5 sniffio-1.3.0 soupsieve-2.4.1 tenacity-8.2.2 tensorboard-2.13.0 tensorboard-data-server-0.7.1 terminado-0.17.1 threadpoolctl-3.1.0 tifffile-2023.4.12 tinycss2-1.2.1 tomli-2.0.1 trimesh-3.22.1 uri-template-1.2.0 webcolors-1.13 webencodings-0.5.1 websocket-client-1.6.0 werkzeug-2.2.3</span><br></pre></td></tr></table></figure>
<p><code>import mmdet3d</code></p>
<p><code>mmdet3d.__version__</code><br />
<code>'1.1.1'</code></p>
<p>ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹æ¨ç†</p>
<p>ç‚¹äº‘æ•°æ®æ¸…ç†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install open3d </span><br></pre></td></tr></table></figure>
<p>ImportError: cannot import name 'show_result_meshlab' from
'mmdet3d.apis'</p>
<p>åœ¨ä½¿ç”¨â€™show_resultâ€™å¤„æ”¹ä¸ºâ€™model.show_resultï¼ˆï¼‰â€™ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">model.show_result(</span><br><span class="line">img,result,model.CLASSES, score_thr=args.score_thr, wait_time=1)</span><br></pre></td></tr></table></figure>
<p><code>!mim download mmdet3d --config pointpillars_hv_secfpn_8xb6-160e_kitti-3d-car --dest checkpoints</code></p>
<p><code>!python demo/pcd_demo.py demo/data/kitti/000008.bin checkpoints/pointpillars_hv_secfpn_8xb6-160e_kitti-3d-car.py checkpoints/hv_pointpillars_secfpn_6x8_160e_kitti-3d-car_20220331_134606-d42d15ed.pth --show</code></p>
<p><img
src="E:/WechatFiles/WeChat%20Files/wxid_vnbsys77zytt22/FileStorage/Temp/1687337312236.png"
alt="1687337312236" /></p>
]]></content>
      <tags>
        <tag>OpenMMLab</tag>
        <tag>è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenMMLabå®æˆ˜è¥ç¬¬ä¸‰è¯¾ å›¾åƒåˆ†ç±»ä»£ç å®æˆ˜ä¸è¶…ç®—å¹³å°ä»‹ç»</title>
    <url>/post/b64f8831.html</url>
    <content><![CDATA[<h1 id="pytorchç®€å•ä»£ç ç»“æ„å±•ç¤º">Pytorchç®€å•ä»£ç ç»“æ„å±•ç¤º</h1>
<span id="more"></span>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># https://pytorch.org/tutorials/beginner/basics/quickstart_tutorial.html</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> ToTensor</span><br><span class="line"></span><br><span class="line"><span class="comment"># Download training data from open datasets.</span></span><br><span class="line">training_data = datasets.FashionMNIST(</span><br><span class="line">    root=<span class="string">&quot;data&quot;</span>,</span><br><span class="line">    train=<span class="literal">True</span>,</span><br><span class="line">    download=<span class="literal">True</span>,</span><br><span class="line">    transform=ToTensor(),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Download test data from open datasets.</span></span><br><span class="line">test_data = datasets.FashionMNIST(</span><br><span class="line">    root=<span class="string">&quot;data&quot;</span>,</span><br><span class="line">    train=<span class="literal">False</span>,</span><br><span class="line">    download=<span class="literal">True</span>,</span><br><span class="line">    transform=ToTensor(),</span><br><span class="line">)</span><br><span class="line">batch_size = <span class="number">64</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create data loaders.</span></span><br><span class="line">train_dataloader = DataLoader(training_data, batch_size=batch_size)</span><br><span class="line">test_dataloader = DataLoader(test_data, batch_size=batch_size)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> test_dataloader:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Shape of X [N, C, H, W]: <span class="subst">&#123;X.shape&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Shape of y: <span class="subst">&#123;y.shape&#125;</span> <span class="subst">&#123;y.dtype&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># Get cpu or gpu device for training.</span></span><br><span class="line">device = <span class="string">&quot;cuda&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;mps&quot;</span> <span class="keyword">if</span> torch.backends.mps.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Using <span class="subst">&#123;device&#125;</span> device&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define model</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NeuralNetwork</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.flatten = nn.Flatten()</span><br><span class="line">        self.linear_relu_stack = nn.Sequential(</span><br><span class="line">            nn.Linear(<span class="number">28</span>*<span class="number">28</span>, <span class="number">512</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">512</span>, <span class="number">512</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">512</span>, <span class="number">10</span>)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = self.flatten(x)</span><br><span class="line">        logits = self.linear_relu_stack(x)</span><br><span class="line">        <span class="keyword">return</span> logits</span><br><span class="line"></span><br><span class="line">model = NeuralNetwork().to(device)</span><br><span class="line"><span class="built_in">print</span>(model)</span><br><span class="line"><span class="comment">## Define loss funtion and Optimizer</span></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=<span class="number">1e-3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">train</span>(<span class="params">dataloader, model, loss_fn, optimizer</span>):</span><br><span class="line">    size = <span class="built_in">len</span>(dataloader.dataset)</span><br><span class="line">    model.train()</span><br><span class="line">    <span class="keyword">for</span> batch, (X, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(dataloader):</span><br><span class="line">        X, y = X.to(device), y.to(device)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Compute prediction error</span></span><br><span class="line">        pred = model(X)</span><br><span class="line">        loss = loss_fn(pred, y)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Backpropagation</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> batch % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            loss, current = loss.item(), batch * <span class="built_in">len</span>(X)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;loss: <span class="subst">&#123;loss:&gt;7f&#125;</span>  [<span class="subst">&#123;current:&gt;5d&#125;</span>/<span class="subst">&#123;size:&gt;5d&#125;</span>]&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">dataloader, model, loss_fn</span>):</span><br><span class="line">    size = <span class="built_in">len</span>(dataloader.dataset)</span><br><span class="line">    num_batches = <span class="built_in">len</span>(dataloader)</span><br><span class="line">    model.<span class="built_in">eval</span>()</span><br><span class="line">    test_loss, correct = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> X, y <span class="keyword">in</span> dataloader:</span><br><span class="line">            X, y = X.to(device), y.to(device)</span><br><span class="line">            pred = model(X)</span><br><span class="line">            test_loss += loss_fn(pred, y).item()</span><br><span class="line">            correct += (pred.argmax(<span class="number">1</span>) == y).<span class="built_in">type</span>(torch.<span class="built_in">float</span>).<span class="built_in">sum</span>().item()</span><br><span class="line">    test_loss /= num_batches</span><br><span class="line">    correct /= size</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Test Error: \n Accuracy: <span class="subst">&#123;(<span class="number">100</span>*correct):&gt;<span class="number">0.1</span>f&#125;</span>%, Avg loss: <span class="subst">&#123;test_loss:&gt;8f&#125;</span> \n&quot;</span>)</span><br><span class="line">    </span><br><span class="line">epochs = <span class="number">5</span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Epoch <span class="subst">&#123;t+<span class="number">1</span>&#125;</span>\n-------------------------------&quot;</span>)</span><br><span class="line">    train(train_dataloader, model, loss_fn, optimizer)</span><br><span class="line">    test(test_dataloader, model, loss_fn)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Done!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Saving Models</span></span><br><span class="line">torch.save(model.state_dict(), <span class="string">&quot;model.pth&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Saved PyTorch Model State to model.pth&quot;</span>)</span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment"># loading Models</span></span><br><span class="line">model = NeuralNetwork()</span><br><span class="line">model.load_state_dict(torch.load(<span class="string">&quot;model.pth&quot;</span>))</span><br><span class="line"><span class="comment">#Predict new images</span></span><br><span class="line">classes = [</span><br><span class="line">    <span class="string">&quot;T-shirt/top&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Trouser&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Pullover&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Dress&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Coat&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Sandal&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Shirt&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Sneaker&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Bag&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Ankle boot&quot;</span>,</span><br><span class="line">]</span><br><span class="line"><span class="comment">#æ²¡æœ‰å½’ä¸€åŒ–</span></span><br><span class="line">model.<span class="built_in">eval</span>()</span><br><span class="line">x, y = test_data[<span class="number">0</span>][<span class="number">0</span>], test_data[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line"><span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    pred = model(x)</span><br><span class="line">    predicted, actual = classes[pred[<span class="number">0</span>].argmax(<span class="number">0</span>)], classes[y]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;Predicted: &quot;<span class="subst">&#123;predicted&#125;</span>&quot;, Actual: &quot;<span class="subst">&#123;actual&#125;</span>&quot;&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="openmmlabé‡Œæ˜¯æ€ä¹ˆåšçš„">OpenMMLabé‡Œæ˜¯æ€ä¹ˆåšçš„</h1>
<p>OpenMMLab é¡¹ç›®ä¸­çš„é‡è¦æ¦‚å¿µ--é…ç½®æ–‡ä»¶ æ¯”pytorchæ›´ç®€å•çš„çš„æ–¹å¼
é€šè¿‡å®ƒOpenMMLabå¯ä»¥è¿˜åŸå›pytorchä»£ç </p>
<p>æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒæ¶‰åŠå‡ ä¸ªæ–¹é¢:</p>
<ul>
<li>æ¨¡å‹ç»“æ„æ¨¡å‹ æœ‰å‡ å±‚ã€æ¯å±‚å¤šå°‘é€šé“æ•°ç­‰ç­‰</li>
<li>æ•°æ®é›†
ç”¨ä»€ä¹ˆæ•°æ®è®­ç»ƒæ¨¡å‹:æ•°æ®é›†åˆ’åˆ†ã€æ•°æ®æ–‡ä»¶è·¯å¾„ã€æ•°æ®å¢å¼ºç­–ç•¥ç­‰ç­‰</li>
<li>è®­ç»ƒç­–ç•¥ æ¢¯åº¦ä¸‹é™ç®—æ³•ã€å­¦ä¹ ç‡å‚æ•°ã€batch
sizeè®­ç»ƒæ€»è½®æ¬¡ã€å­¦ä¹ ç‡å˜åŒ–ç­–ç•¥ç­‰ç­‰</li>
<li>è¿è¡Œæ—¶ GPUã€åˆ†å¸ƒå¼ç¯å¢ƒé…ç½®ç­‰ç­‰</li>
<li>ä¸€äº›è¾…åŠ©åŠŸèƒ½ å¦‚æ‰“å°æ—¥å¿—ã€å®šæ—¶ä¿å­˜checkpointç­‰ç­‰</li>
</ul>
<h1 id="ä¸€äº›é—®é¢˜å’Œå›ç­”æ•´ç†">ä¸€äº›é—®é¢˜å’Œå›ç­”æ•´ç†</h1>
<p>åªè®°å½•äº†ä¸€äº›æˆ‘æ„Ÿå…´è¶£çš„é—®é¢˜å’Œå›ç­”ï¼ˆå¹¶ä¸æ˜¯åŸè¯ç»è¿‡æ•´ç†ï¼‰</p>
<p><strong>é—®é¢˜</strong>ï¼š è¾“å…¥å›¾ç‰‡çš„å°ºå¯¸å¯ä»¥ä¸å›ºå®šå—ï¼Ÿ</p>
<p><strong>å›ç­”</strong>ï¼š å¯¹äºæ—©æœŸçš„å­˜åœ¨å…¨é“¾æ¥å±‚çš„å·ç§¯ç¥ç»ç½‘ç»œå¿…é¡»
è¾“å…¥å›¾åƒæ˜¯å›ºå®šçš„ï¼Œè€Œåç»­ä¸€äº›ä¸‹ç»ç½‘ç»œï¼ˆå¦‚ResNetï¼‰ç”¨äº†å…¨å±€å¹³å‡æ± åŒ–
ï¼Œä»£æ›¿äº†å…¨è¿æ¥å±‚æ‰€ä»¥ä¸é™åˆ¶å›¾åƒå°ºå¯¸ã€‚</p>
<p><strong>é—®é¢˜</strong>ï¼š
ç¥ç»ç½‘ç»œä¹Ÿéœ€è¦åƒäººä¸€æ ·ä½¿ç”¨å¤šç§æ„Ÿå®˜æ„ŸçŸ¥å—ï¼Ÿ</p>
<p><strong>å›ç­”</strong>ï¼š ä¸ºäº†æ›´å¥½æ„ŸçŸ¥ä¿¡æ¯ç¥ç»ç½‘ç»œç¡®å®éœ€è¦è¿™æ ·çš„ç­–ç•¥
å¦‚å¤šæ¨¡æ€å­¦ä¹ ã€‚</p>
<p><strong>é—®é¢˜</strong>ï¼š å‡ºç°åˆ†ç±»é”™è¯¯ å¦‚ä½•ä¿®æ”¹é”™è¯¯ï¼Ÿ</p>
<p><strong>å›ç­”</strong>ï¼š å¯ä»¥é€šè¿‡å¯è§£é‡Šå­¦ä¹  æ¥äº†è§£
ç¨‹åºå“ªé‡Œå‡ºäº†é”™ã€‚</p>
<h1
id="è¶…ç®—å¹³å°åº”ç”¨åŒ—äº¬è¶…çº§äº‘è®¡ç®—ä¸­å¿ƒ">è¶…ç®—å¹³å°åº”ç”¨ï¼ˆåŒ—äº¬è¶…çº§äº‘è®¡ç®—ä¸­å¿ƒï¼‰</h1>
<p>ç™»å½•å®˜ç½‘ä¸‹è½½å®¢æˆ·ç«¯</p>
<p>åˆ©ç”¨äº‘æ¡Œé¢å¹³å°</p>
<p>å…ˆç”¨ssh é€‰æ‹©åˆé€‚çš„åˆ†åŒºï¼ˆN30åˆ†åŒºï¼‰</p>
<p>ç•Œé¢ç›®å½• cd run åˆ†é…äº†300Gå†…å­˜</p>
<p>æŸ¥çœ‹æ¨¡å—</p>
<p><code>module avail</code></p>
<h3 id="æ­å»ºç¯å¢ƒ">æ­å»ºç¯å¢ƒ</h3>
<p>åˆ›å»ºç¯å¢ƒ</p>
<p><code>module load anaconda/2021.05</code></p>
<p><code>conda create --name mmclassification python=3.8</code></p>
<p>æ¿€æ´»ç¯å¢ƒ</p>
<p><code>source activate mmclassification</code></p>
<p>åŠ è½½cuda/11.1</p>
<p><code>module load cuda/11.1</code></p>
<p>å®‰è£…pytorch é€šè¿‡pipå®‰è£…CUDAä¸èƒ½ä½äº 11.1 ä¸æ¨èç”¨condaè£…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install torch==1.10.0+cu111 torchvision==0.11.0+cu111 torchaudio==0.10.0 -f https://download.pytorch.org/whl/torch_stable.html</span><br></pre></td></tr></table></figure>
<p>å®‰è£… mmcv-full æ¨¡å—ï¼Œmmcv-full æ¨¡å—å®‰è£…æ—¶å€™éœ€è¦æ³¨æ„ torch å’Œ cuda
ç‰ˆæœ¬ã€‚å‚è€ƒ<a
href="https://mmcv.readthedocs.io/en/latest/get_started/installation.html">è¿™é‡Œ</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install mmcv-full==1.7.0 -f</span><br><span class="line">https://download.openmmlab.com/mmcv/dist/cu111/torch1.10/index.html</span><br></pre></td></tr></table></figure>
<p>å®‰è£… openmmlab/mmclassification
æ¨¡å—ï¼Œå»ºè®®é€šè¿‡ä¸‹è½½ç¼–è¯‘çš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼›å®‰è£…è¯¥æ¨¡å—éœ€è¦ gcc â‰¥ 5ï¼Œä½¿ç”¨
module åŠ è½½ä¸€ä¸ª gcc ï¼Œä¾‹å¦‚ module load gcc/7.3</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åŠ è½½ gcc/7.3 æ¨¡å—</span></span><br><span class="line"> module load gcc/7.3</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"> # </span><span class="language-bash">git ä¸‹è½½ mmclassification ä»£ç </span></span><br><span class="line"> git clone https://github.com/openmmlab/mmclassification.git</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"> # </span><span class="language-bash">ç¼–è¯‘å®‰è£…</span></span><br><span class="line"> cd mmclassification</span><br><span class="line"> pip install -e .</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ç¯å¢ƒä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ module list
æŸ¥çœ‹å½“å‰ç¯å¢ƒä¸­åŠ è½½çš„ä¾èµ–æ¨¡å—ï¼Œå¦‚ä¸‹ï¼š</p>
<p><code>module list</code></p>
<p>å‡†å¤‡ shell è„šæœ¬ï¼Œå°†ç¯å¢ƒä¿¡æ¯é¢„å…ˆä¿å­˜åœ¨è„šæœ¬ä¸­ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åŠ è½½æ¨¡å—</span></span><br><span class="line">module load anaconda/2021.05</span><br><span class="line">module load cuda/11.1</span><br><span class="line">module load gcc/7.3</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¿€æ´»ç¯å¢ƒ</span></span><br><span class="line">source activate mmclassification</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å¿«ä¼ ä¼ è¾“æœ¬åœ°æ•°æ®é›†åˆ°è¶…ç®— åˆ›å»ºdataç›®å½•å­˜æ”¾</p>
<h3 id="åˆ’åˆ†æ•°æ®é›†">åˆ’åˆ†æ•°æ®é›†</h3>
<p>è‡ªå·±å†™çš„è„šæœ¬æ–‡ä»¶</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mymkdir</span>(<span class="params">file</span>):</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(file):</span><br><span class="line">            os.mkdir(file)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getData</span>(<span class="params">dirPath</span>):</span><br><span class="line">    subDirs=os.listdir(dirPath)</span><br><span class="line">    mymkdir(os.path.join(dirPath,<span class="string">&#x27;data&#x27;</span>))</span><br><span class="line">    destdir=os.path.join(dirPath,<span class="string">&#x27;data&#x27;</span>,<span class="string">&#x27;val&#x27;</span>)</span><br><span class="line">    mymkdir(destdir)</span><br><span class="line">    destdir2=os.path.join(dirPath,<span class="string">&#x27;data&#x27;</span>,<span class="string">&#x27;train&#x27;</span>)</span><br><span class="line">    mymkdir(destdir2)</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">dir</span> <span class="keyword">in</span> subDirs:</span><br><span class="line">        tempDir=os.path.join(dirPath,<span class="built_in">dir</span>)</span><br><span class="line">        destdirnow=os.path.join(destdir,<span class="built_in">dir</span>)</span><br><span class="line">        destdirnow2=os.path.join(destdir2,<span class="built_in">dir</span>)</span><br><span class="line">        mymkdir(destdirnow)</span><br><span class="line">        mymkdir(destdirnow2)</span><br><span class="line">        fs=os.listdir(tempDir)</span><br><span class="line">        random.shuffle(fs)</span><br><span class="line">        le=<span class="built_in">int</span>(<span class="built_in">len</span>(fs)*<span class="number">0.8</span>)  <span class="comment">#è¿™ä¸ªå¯ä»¥ä¿®æ”¹åˆ’åˆ†æ¯”ä¾‹</span></span><br><span class="line">        <span class="keyword">for</span> f <span class="keyword">in</span> fs[le:]:</span><br><span class="line">            shutil.move(os.path.join(tempDir,f), destdirnow)</span><br><span class="line">        <span class="keyword">for</span> f <span class="keyword">in</span> fs[:le]:</span><br><span class="line">            shutil.move(os.path.join(tempDir,f), destdirnow2)</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#print(os.path.join(os.getcwd(),&#x27;flower_dataset&#x27;))</span></span><br><span class="line">getData(os.path.join(os.getcwd(),<span class="string">&#x27;flower_dataset&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="mmcls-é…ç½®æ–‡ä»¶">MMCls é…ç½®æ–‡ä»¶</h3>
<p><code>mkdir configs/resnet18</code></p>
<p><code>cp ~/run/opnemmlab/resnet18_b32_flower.py ./configs/resnet18/</code></p>
<p>æŒ‰è¦æ±‚ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<h3 id="æäº¤è®¡ç®—">æäº¤è®¡ç®—</h3>
<p>å‡†å¤‡ä½œä¸šè„šæœ¬</p>
<p>å–æ¶ˆè®¡ç®—</p>
<p><code>scancel 279704 # 279704 ä¸ºä½œä¸šID</code></p>
<p>æŸ¥çœ‹GPUåˆ©ç”¨ç‡</p>
<p>åœ¨æäº¤ä½œä¸šä¹‹åï¼Œä½¿ç”¨ parajobs æˆ– squeue æŸ¥çœ‹ä½œä¸šçš„ç¬¬å…«åˆ—
NODELISTï¼ˆREASONï¼‰å¯¹äºè¿è¡Œä½œä¸šï¼ˆRçŠ¶æ€ï¼‰æ˜¾ç¤ºä½œä¸šä½¿ç”¨çš„èŠ‚ç‚¹åˆ—è¡¨</p>
<p><code>squeue</code></p>
<p>æŸ¥çœ‹åˆ°ä½¿ç”¨çš„èŠ‚ç‚¹åˆ—è¡¨ä¹‹åï¼Œä½¿ç”¨ ssh [èŠ‚ç‚¹] è¿›å…¥GPUç¯å¢ƒï¼Œæ‰§è¡Œ
nvidia-smi å¯æŸ¥çœ‹ GPU åˆ©ç”¨ç‡ã€‚</p>
<p><code>ssh g0004 #g0004èŠ‚ç‚¹</code></p>
<p><code>nvidia-smi</code></p>
]]></content>
      <tags>
        <tag>OpenMMLab - è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenMMLabå®æˆ˜è¥ç¬¬ä¸€è¯¾  è®¡ç®—æœºè§†è§‰ç®—æ³•åŸºç¡€ä¸OpenMMLabä»‹ç»</title>
    <url>/post/bd762e03.html</url>
    <content><![CDATA[<h1 id="è®¡ç®—æœºè§†è§‰ç®€å•ä»‹ç»">è®¡ç®—æœºè§†è§‰ç®€å•ä»‹ç»</h1>
<p>Computer Vision Tasks é€šè¿‡è®¡ç®—æœºç®—æ³•å¯¹å›¾åƒè§†é¢‘ç­‰å¯è§†åŒ–çš„ä¿¡æ¯è¿›è¡Œ
æ•°æ®æŒ–æ˜æ¨¡å¼è¯†åˆ«ç‰¹å¾æå–ç­‰ç­‰æ“ä½œ</p>
<h2 id="è®¡ç®—æœºè§†è§‰åŸºæœ¬é—®é¢˜">è®¡ç®—æœºè§†è§‰åŸºæœ¬é—®é¢˜</h2>
<ul>
<li><p>å›¾åƒåˆ†ç±»é—®é¢˜ (Classification or Classification Localization)
è¾“å…¥ä¸€å¼ å›¾ è¾“å‡ºå…¶åˆ†ç±»ï¼ˆåªé™äºå•ä¸€å¯¹è±¡ï¼‰</p></li>
<li><p>ç›®æ ‡æ£€æµ‹ (Object Detection) æ¯ä¸ªç‰©ä½“ç”¨æ¡†æ¡†æ¥ä¸”ç»™å‡ºå…¶ç±»åˆ«ä¿¡æ¯
ï¼ˆå¤šå¯¹è±¡ï¼‰</p></li>
<li><p>å›¾åƒåˆ†å‰²(Segmentation) ç²¾ç¡®çš„åˆ’åˆ†ç‰©ä½“è¾¹ç¼˜
ä¸”ç»™å‡ºå…¶ç±»åˆ«ä¿¡æ¯(å¤šå¯¹è±¡)åˆ†å‰²æœ‰ä¸¤ç±»:è¯­ä¹‰åˆ†å‰²(Semantic
Segmentation)ç›´æ¥å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œåˆ†ç±»ã€å®ä¾‹åˆ†å‰²(Instance
Segmentation)ä¸ä»…åˆ†å‡ºåƒç´ è¿˜è¯†åˆ«å‡ºå åœ¨ä¸€èµ·çš„ç‰©ä½“ã€‚</p></li>
</ul>
<span id="more"></span>
<h2 id="è®¡ç®—æœºè§†è§‰åº”ç”¨">è®¡ç®—æœºè§†è§‰åº”ç”¨</h2>
<ul>
<li><p>å„ç§ç›®æ ‡æ£€æµ‹ é€šç”¨ç›®æ ‡æ£€æµ‹ï¼ˆè¯†åˆ«å¤§åƒä¸‡ç‰©ï¼‰
ç‰¹æ®Šç›®æ ‡æ£€æµ‹ï¼ˆå¦‚äººè„¸è¯†åˆ« è·¯ç‰Œè¯†åˆ«ï¼‰</p></li>
<li><p>æ— äººé©¾é©¶ ä¸­çš„è§†è§‰æ„ŸçŸ¥éƒ¨åˆ†</p></li>
<li><p>å¯¹é¥æ„Ÿå«æ˜Ÿå›¾ç‰‡è¿›è¡Œè¯­ä¹‰åˆ†å‰²</p></li>
<li><p>å›¾åƒç”Ÿæˆã€é£æ ¼è¿ç§»ï¼šä»ä¸€å¼ å›¾ç‰‡ç”Ÿæˆä¸€å¼ å†…å®¹ç±»ä¼¼ä½†é£æ ¼ä¸åŒçš„å›¾åƒ</p></li>
<li><p>è™šæ‹Ÿä¸»æ’­äººè„¸å…³é”®ç‚¹æ£€æµ‹</p></li>
<li><p>è§†é¢‘ç†è§£è‡ªåŠ¨å‰ªè¾‘</p></li>
</ul>
<h2 id="è®¡ç®—æœºè§†è§‰å‘å±•å†å²">è®¡ç®—æœºè§†è§‰å‘å±•å†å²</h2>
<ul>
<li><p>æ—©æœŸèŒèŠ½ 1960-1980 è¾¹ç¼˜æå– ä»¥åŠæœ‰äººæå‡ºå¦‚ä½•è¯†åˆ«3ç»´ä¸–ç•ŒMachine
perceptionof 3d solids Larry Roberts 1964 ä¸‰ç»´çš„è§†è§‰è®¡ç®—ç†è®ºDavid Marr
1982</p></li>
<li><p>ç»Ÿè®¡æœºå™¨å­¦ä¹ äºæ¨¡å¼è¯†åˆ«ï¼ˆ1990-2000ï¼‰ Eigen Face Turk &amp;
Pentland 1991 VJäººè„¸æ£€æµ‹Viola &amp; Jones 2001</p></li>
<li><p>ImageNet å¤§å‹æ•°æ®åº“ï¼ˆ2006ï¼‰æ–¯å¦ç¦å¤§å­¦çš„æé£é£æ•™æˆäº2006
å¹´å¯åŠ¨äº†ImageNet
é¡¹ç›®ï¼Œæ—¨åœ¨ä¸ºè®¡ç®—æœºè§†è§‰ç®—æ³•ç ”ç©¶æä¾›ä¸€ä¸ªå¤§è§„æ¨¡ã€ä¼˜è´¨çš„å›¾ç‰‡æ•°æ®åº“ï¼ŒImageNet
è¿„ä»ŠåŒ…å«çº¦2ä¸‡ç±»ï¼Œå…±è®¡çº¦1500 ä¸‡å¼ å›¾ç‰‡<br />
è‡ª2010 å¹´èµ·ImageNet å®˜æ–¹ä¸¾åŠäº†ä¸€å¹´ä¸€åº¦çš„å¤§è§„æ¨¡è§†è§‰è¯†åˆ«æŒ‘æˆ˜èµ›
LSVRCï¼Œå›¾åƒåˆ†ç±»èµ›é“è¦æ±‚å‚èµ›ç»„åœ¨ä¸€ä¸ªåŒ…å«1000ç±»åˆ«ã€100ä¸‡å¼ å›¾åƒçš„ImageNet
å­é›†ä¸Šå®Œæˆå›¾åƒåˆ†ç±»ä»»åŠ¡</p></li>
<li><p>åˆæœ‰æˆæ•ˆçš„è§†è§‰ç³»ç»Ÿï¼ˆ-2010ï¼‰ImageNet Classification72% Top-5
Accuracy NEC-UIUC 2010 ã€Deformable Part Modelfor object detection
ä½†åº•å±‚è¿˜æ˜¯ä¾èµ–äººå·¥å®šä¹‰ç‰¹å¾æœºå™¨åªæ˜¯å‘Šè¯‰æˆ‘ä»¬ä»€ä¹ˆç‰¹å¾æ¯”è¾ƒé‡è¦</p></li>
<li><p>æ·±åº¦å­¦ä¹ çš„æ—¶ä»£ï¼ˆ2012-)è®©AIè‡ªä¸»å®šä¹‰ç‰¹å¾ AlexNetã€‚
çªç ´ä¼ ç»Ÿè§†è§‰ç³»ç»Ÿæ€§èƒ½ ã€Fast R-CNN ç›®æ ‡æ£€æµ‹èµ°å…¥æ·±åº¦å­¦ä¹ æ—¶ä»£
ã€æ·±åº¦ç”Ÿæˆå¯¹æŠ—ç½‘ç»œå®ç°å›¾åƒç”Ÿæˆ</p></li>
</ul>
<h1 id="openmmlabç®€ä»‹">OpenMMLabç®€ä»‹</h1>
OpenMMLab
æ˜¯ä¸€ä¸ªé€‚ç”¨äºå­¦æœ¯ç ”ç©¶å’Œå·¥ä¸šåº”ç”¨çš„å¼€æºé¡¹ç›®ï¼Œæ¶µç›–äº†è®¡ç®—æœºè§†è§‰çš„è®¸å¤šç ”ç©¶è¯¾é¢˜ï¼Œå¦‚ï¼šå›¾åƒåˆ†ç±»ã€ç›®æ ‡æ£€æµ‹ã€ç›®æ ‡åˆ†å‰²ã€è¶…åˆ†è¾¨ç‡å›¾åƒç”Ÿæˆç­‰<br />

<table>
<tr>
<td>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/OpenMMLab%E6%80%BB%E4%BD%93%E4%B8%80%E8%A7%88.png"border=0>
</td>
<td>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/OpenMMLab%E9%83%A8%E7%BD%B2%E4%B8%80%E4%BD%93%E5%8C%96.png" border=0>
</td>
</tr>
</font>
</table>
<p>MMDeployå¯ä»¥æŠŠç®—æ³•åº“è®­ç»ƒå¾—åˆ°çš„æ¨¡å‹è½¬æ¢æˆå¼€å‘è€…æƒ³è¦çš„æ ¼å¼
éƒ¨ç½²åœ¨å„ç§å¹³å°<br />
## ç®—æ³•æ¡†æ¶ä»‹ç»</p>
<ul>
<li>MMDetection æ”¯æŒç›®æ ‡æ£€æµ‹ å®ä¾‹åˆ†å‰²
å…¨æ™¯åˆ†å‰²ï¼ˆåœ¨å®ä¾‹åˆ†å‰²åŸºç¡€ä¸ŠæŠŠèƒŒæ™¯ä¹ŸæŠ è¿›æ¥ å¯¹æ— äººé©¾é©¶å¾ˆé‡è¦ï¼‰</li>
<li>MMDetection3D ç”¨äº3Dç›®æ ‡æ£€æµ‹ é€šè¿‡ç‚¹äº‘æ•°æ® æˆ–è€…è¯´çº¯è§†è§‰æ•°æ®
æ¥ç”»å‡ºç‰©ä½“3dçš„æ¡†</li>
<li>MMClassification å›¾åƒåˆ†ç±»åº“</li>
<li>MMSegmentation ç”¨äºè¯­ä¹‰åˆ†å‰²</li>
<li>MMPose &amp;MMHumam3D 2ç»´çš„å…³é”®ç‚¹æ£€æµ‹å’Œ3ç»´çš„ç«‹ä½“é‡å»º
å¯ä»¥åšä½“æ„Ÿæ¸¸æˆ</li>
<li>MMTracking å¯ä»¥è¿½è¸ªè§†é¢‘ä¸­çš„ç‰©ä½“</li>
<li>MMAction2 å¯¹æ—¶åºè§†é¢‘è¿›è¡ŒåŠ¨ä½œæ£€æµ‹ å¯ä»¥å®ç°è¡Œä¸ºè¯†åˆ«</li>
<li>MMOCR æ–‡æœ¬æ£€æµ‹</li>
<li>MMEditing åœ¨åƒç´ å±‚é¢è¿›è¡Œæ“ä½œè¯†åˆ« å¦‚å›¾åƒä¿®å¤ æŠ å›¾ å›¾åƒç”Ÿæˆ
è¶…åˆ†è¾¨ç‡</li>
</ul>
<h1 id="æœºå™¨å­¦ä¹ å·ç§¯ç¥ç»ç½‘ç»œåŸºç¡€çŸ¥è¯†">æœºå™¨å­¦ä¹ å·ç§¯ç¥ç»ç½‘ç»œåŸºç¡€çŸ¥è¯†</h1>
<h2 id="æœºå™¨å­¦ä¹ åŸºç¡€">æœºå™¨å­¦ä¹ åŸºç¡€</h2>
<h3 id="ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ">ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ</h3>
<blockquote>
<p>â€A computer program is said to learn from experience E with respect
to some class of tasks T andperformance measure P if its performance at
tasks in T, as measured by P, improves with experienceEâ€œ --Tom
M.Mitchell (1997)</p>
</blockquote>
<p>ä»æ•°æ®ä¸­å­¦ä¹ ç»éªŒï¼Œä»¥è§£å†³ç‰¹å®šé—®é¢˜</p>
<pre class="mermaid">graph TD
    é—®é¢˜---æ”¶é›†æ•°æ®
    æ”¶é›†æ•°æ®---æ‹Ÿåˆæ¨¡å‹</pre>
<p>â€‹</p>
<ul>
<li>ç›‘ç£å­¦ä¹ </li>
<li>æ— ç›‘ç£å­¦ä¹ </li>
<li>è‡ªç›‘ç£å­¦ä¹ </li>
<li>å¼ºåŒ–å­¦ä¹ </li>
</ul>
<h2 id="æœºå™¨å­¦ä¹ ä¸­çš„åˆ†ç±»é—®é¢˜">æœºå™¨å­¦ä¹ ä¸­çš„åˆ†ç±»é—®é¢˜</h2>
<p>æå–æ•°æ®ä¸­çš„ç‰¹å¾ æ‹Ÿåˆå‡ºä¸€ä¸ªè¾¹ç•Œæ¥åˆ†ç±» è¾¹ç•Œçš„â€œå¼¯â€ â€œç›´â€
åŒºåˆ†ä¸ºçº¿æ€§åˆ†ç±»å™¨ éçº¿æ€§åˆ†ç±»å™¨</p>
<h3 id="æœºå™¨å­¦ä¹ çš„åŸºæœ¬æµç¨‹">æœºå™¨å­¦ä¹ çš„åŸºæœ¬æµç¨‹</h3>
<ol type="1">
<li>è®­ç»ƒ
æˆ‘ä»¬éœ€è¦é‡‡é›†ä¸€äº›æ•°æ®ï¼Œæ ‡æ³¨å®ƒä»¬çš„ç±»åˆ«ï¼Œä»ä¸­é€‰å–ä¸€éƒ¨åˆ†ç”¨äºè®­ç»ƒåˆ†ç±»å™¨ï¼Œå¾—åˆ°ä¸€ä¸ªå¯ä»¥ç”¨äºåˆ†ç±»çš„åˆ†ç±»å™¨</li>
<li>éªŒè¯
ä»é‡‡é›†ã€æ ‡æ³¨çš„æ•°æ®ä¸­å¦å¤–é€‰å–ä¸€éƒ¨åˆ†ï¼Œæµ‹è¯•æ‰€å¾—åˆ†ç±»å™¨çš„åˆ†ç±»ç²¾åº¦éªŒè¯æ‰€ç”¨çš„æ•°æ®ä¸èƒ½å’Œè®­ç»ƒé‡åˆï¼Œä»¥ä¿è¯åˆ†ç±»å™¨çš„æ³›åŒ–æ€§èƒ½:åœ¨ä¸€éƒ¨åˆ†æ•°æ®ä¸Šè®­ç»ƒçš„åˆ†ç±»å™¨å¯ä»¥åœ¨å…¶ä½™çš„æ•°æ®ä¸Šè¡¨ç°å‡ºè¶³å¤Ÿçš„åˆ†ç±»ç²¾åº¦</li>
<li>åº”ç”¨
å°†ç»è¿‡éªŒè¯çš„åˆ†ç±»å™¨é›†æˆåˆ°å®é™…çš„ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œå®ç°å¯¹åº”çš„åŠŸèƒ½åœ¨åº”ç”¨é˜¶æ®µï¼Œåˆ†ç±»å™¨é¢å¯¹çš„æ•°æ®éƒ½æ˜¯åœ¨è®­ç»ƒã€éªŒè¯é˜¶æ®µæ²¡æœ‰è§è¿‡çš„</li>
</ol>
<h2 id="ç¥ç»ç½‘ç»œçš„ç»“æ„">ç¥ç»ç½‘ç»œçš„ç»“æ„</h2>
<p>ç¥ç»ç½‘ç»œæ˜¯ä¸€ç§ éçº¿æ€§çš„åˆ†ç±»å™¨</p>
<center>
å•ä¸ªç¥ç»å…ƒç¤ºæ„å›¾
</center>
<pre class="mermaid">graph LR
A1((1)) -- b --> B((Î£))
A2((x1)) -- w1 --> B
A3((x2))-- w2 --> B
...
A4((xd))-- wd --> B
B-->C((Z))-->D((æ¿€æ´»å‡½æ•°))-->f((yè¾“å‡º))</pre>
<p>å¤šä¸ªç¥ç»å…ƒå †å  å°±æ˜¯ç¥ç»ç½‘ç»œ</p>
<h2 id="ç¥ç»ç½‘ç»œçš„è®­ç»ƒ">ç¥ç»ç½‘ç»œçš„è®­ç»ƒ</h2>
<h2 id="å·ç§¯ç¥ç»ç½‘ç»œ">å·ç§¯ç¥ç»ç½‘ç»œ</h2>
<h2 id="pytorchç¯å¢ƒé…ç½®ä¸åŸºç¡€ä½¿ç”¨">Pytorchç¯å¢ƒé…ç½®ä¸åŸºç¡€ä½¿ç”¨</h2>
]]></content>
      <tags>
        <tag>OpenMMLab</tag>
        <tag>è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenMMLabå®æˆ˜è¥ç¬¬å…­è¯¾ è¯­ä¹‰åˆ†å‰²ç®—æ³•åŸºç¡€</title>
    <url>/post/6823557e.html</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯è¯­ä¹‰åˆ†å‰²">ä»€ä¹ˆæ˜¯è¯­ä¹‰åˆ†å‰²</h2>
<p>ä»»åŠ¡ï¼š å°†å›¾åƒæŒ‰ç…§ç‰©ä½“çš„ç±»åˆ«åˆ†å‰²æˆä¸åŒçš„åŒºåŸŸ<br />
ç­‰ä»·äºï¼š å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œåˆ†ç±»</p>
<span id="more"></span>
<p>åº”ç”¨ï¼š</p>
<ul>
<li><p>æ— äººé©¾é©¶æ±½è½¦
è‡ªåŠ¨é©¾é©¶è½¦è¾†ï¼Œä¼šå°†è¡Œäººï¼Œå…¶ä»–è½¦è¾†ï¼Œè¡Œè½¦é“ï¼Œäººè¡Œé“ã€äº¤é€šæ ‡å¿—ã€æˆ¿å±‹ã€è‰åœ°ä¸æ ‘æœ¨ç­‰ç­‰æŒ‰ç…§ç±»åˆ«åœ¨å›¾åƒä¸­åˆ†å‰²å‡ºæ¥ï¼Œä»è€Œè¾…åŠ©è½¦è¾†å¯¹é“è·¯çš„æƒ…å†µè¿›è¡Œè¯†åˆ«ä¸è®¤çŸ¥ã€‚</p></li>
<li><p>äººåƒåˆ†å‰² å®æ—¶æ›¿æ¢è§†é¢‘çš„èƒŒæ™¯
åœ¨æ™ºæ…§äº’å¨±å’Œæ™ºèƒ½ä¼šè®®åœºæ™¯ä¸­ï¼Œå¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•å¢åŠ äº¤äº’çš„å¤šæ ·æ€§</p></li>
<li><p>æ™ºèƒ½é¥æ„Ÿ
é€šè¿‡æ™ºèƒ½é¥æ„Ÿèƒ½å¤Ÿç›‘æµ‹ä¸åŒå­£èŠ‚åœ°è¡¨æ°´åŸŸçš„å˜åŒ–ï¼Œä»è€Œè¾…åŠ©å†œä¸šç”Ÿäº§ï¼Œä»¥åŠæ—±ç¾æ´ªç¾çš„é¢„æµ‹ç­‰ç­‰ã€‚</p>
<table>
<colgroup>
<col style="width: 39%" />
<col style="width: 29%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="header">
<th>è¯­ä¹‰åˆ†å‰²</th>
<th>å®ä¾‹åˆ†å‰²</th>
<th>å…¨æ™¯åˆ†å‰²</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ä»…è€ƒè™‘åƒç´ çš„ç±»åˆ«ä¸åˆ†å‰²åŒä¸€ç±»çš„ä¸åŒå®ä½“</td>
<td>åˆ†å‰²ä¸åŒçš„å®ä½“ ä»…è€ƒè™‘å‰æ™¯ç‰©ä½“</td>
<td>èƒŒæ™¯ä»…è€ƒè™‘ç±»åˆ«å‰æ™¯éœ€è¦åŒºåˆ†å®ä½“</td>
</tr>
</tbody>
</table>
<h2 id="ä¸€äº›ä»¥å‰çš„æ€è·¯">ä¸€äº›ä»¥å‰çš„æ€è·¯</h2>
<ul>
<li><p>æŒ‰é¢œè‰²åˆ†å‰²</p>
<ul>
<li>å…ˆéªŒçŸ¥è¯† ç‰©ä½“å†…éƒ¨é¢œè‰²ç›¸è¿‘ï¼Œç‰©ä½“äº¤ç•Œé¢œè‰²å˜åŒ–</li>
<li>é—®é¢˜</li>
<li>å…ˆéªŒçŸ¥è¯†ä¸å®Œå…¨å‡†ç¡®ï¼šä¸åŒç‰©ä½“é¢œè‰²å¯èƒ½ç›¸è¿‘ï¼Œç‰©ä½“å†…ä¹Ÿä¼šåŒ…å«å¤šç§é¢œè‰²</li>
</ul></li>
<li><p>é€åƒç´ åˆ†ç±» æå¾ˆå¤šæ»‘çª—</p>
<ul>
<li><p>ä¼˜åŠ¿ï¼šå¯ä»¥å……åˆ†åˆ©ç”¨å·²æœ‰çš„å›¾åƒåˆ†ç±»æ¨¡å‹</p></li>
<li><p>é—®é¢˜ï¼šæ•ˆç‡ä½ä¸‹ï¼Œé‡å åŒºåŸŸé‡å¤è®¡ç®—å·ç§¯</p></li>
</ul></li>
</ul></li>
</ul>
<h2 id="ç°åœ¨çš„æ–¹æ³•">ç°åœ¨çš„æ–¹æ³•</h2>
<h3 id="å…¨å·ç§¯ç½‘ç»œ-fully-convolutional-network-2015">å…¨å·ç§¯ç½‘ç»œ Fully
Convolutional Network 2015</h3>
<p>å¤ç”¨å·ç§¯è®¡ç®— ç›´æ¥å¯¹å…¨å›¾è¿›è¡Œå·ç§¯ å¾—åˆ°ç‰¹å¾å›¾</p>
<p>å…¨è¿æ¥å±‚çš„å·ç§¯åŒ–(ä¸åœ¨å›ºå®šç‰¹å¾å›¾å¤§å° åŸæ¥å…¨è¿æ¥å±‚å¤šå°‘ä¸ªç¥ç»å…ƒ
å˜æˆå¤šå°‘ä¸ªå·ç§¯æ ¸)</p>
<p>é¢„æµ‹å›¾çš„å‡é‡‡æ ·</p>
<p>é—®é¢˜ï¼š</p>
<p>å›¾åƒåˆ†ç±»æ¨¡å‹ä½¿ç”¨é™é‡‡æ ·å±‚ï¼ˆæ­¥é•¿å·ç§¯æˆ–æ± åŒ–ï¼‰è·å¾—é«˜å±‚æ¬¡ç‰¹å¾ï¼Œå¯¼è‡´å…¨å·ç§¯ç½‘ç»œè¾“å‡ºå°ºå¯¸å°äºåŸå›¾ï¼Œè€Œåˆ†å‰²è¦æ±‚åŒå°ºå¯¸è¾“å‡º</p>
<p>è§£å†³æ–¹æ³•ï¼š<br />
å¯¹é¢„æµ‹çš„åˆ†å‰²å›¾å‡é‡‡æ ·ï¼Œæ¢å¤åŸå›¾åˆ†è¾¨ç‡ï¼Œå‡é‡‡æ ·æ–¹æ¡ˆï¼š<br />
1. åŒçº¿æ€§æ’å€¼ Bilinear Interpolation ç­‰æ•ˆäºæŠŠç‰¹å¾å›¾é›¶æ’å€¼
åœ¨ç”¨ä¸€ä¸ªå›ºå®šå‚æ•°å·ç§¯æ ¸ ä½œç”¨å®ƒ</p>
<ol start="2" type="1">
<li>è½¬ç½®å·ç§¯Transposed Convolutionï¼šå¯å­¦ä¹ çš„å‡é‡‡æ ·å±‚</li>
</ol>
<h3 id="unet-2015">UNet 2015</h3>
<p>åŸºäºå¤šå±‚çº§ç‰¹å¾çš„ä¸Šé‡‡æ ·<br />
é—®é¢˜ï¼šåŸºäºé¡¶å±‚ç‰¹å¾é¢„æµ‹ï¼Œå†å‡é‡‡æ ·32 å€å¾—åˆ°çš„é¢„æµ‹å›¾è¾ƒä¸ºç²—ç³™ã€‚<br />
åˆ†æï¼šé«˜å±‚ç‰¹å¾ç»è¿‡å¤šæ¬¡é™é‡‡æ ·ï¼Œç»†èŠ‚ä¸¢å¤±ä¸¥é‡ã€‚<br />
è§£å†³æ€è·¯ï¼šç»“åˆä½å±‚æ¬¡å’Œé«˜å±‚æ¬¡ç‰¹å¾å›¾ã€‚<br />
è§£å†³æ–¹æ¡ˆFCNï¼š<br />
åŸºäºä½å±‚æ¬¡å’Œé«˜å±‚æ¬¡ç‰¹å¾å›¾åˆ†åˆ«äº§ç”Ÿç±»åˆ«é¢„æµ‹ï¼Œå‡é‡‡æ ·åˆ°åŸå›¾å¤§å°ï¼Œå†å¹³å‡å¾—åˆ°æœ€ç»ˆç»“æœ</p>
<h3 id="pspnet-2016">PSPNet 2016</h3>
<p>å›¾åƒå‘¨å›´çš„å†…å®¹ï¼ˆä¹Ÿç§°ä¸Šä¸‹æ–‡ï¼‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšå‡ºæ›´å‡†ç¡®çš„åˆ¤æ–­ã€‚<br />
æ–¹æ¡ˆï¼šå¢åŠ æ„Ÿå—é‡æ›´å¤§çš„ç½‘ç»œåˆ†æ”¯ï¼Œå°†ä¸Šä¸‹æ–‡ä¿¡æ¯å¯¼å…¥å±€éƒ¨é¢„æµ‹ä¸­<br />
PSPNet 2016<br />
(a) å¯¹ç‰¹å¾å›¾è¿›è¡Œä¸åŒå°ºåº¦çš„æ± åŒ–ï¼Œå¾—åˆ°ä¸åŒå°ºåº¦çš„ä¸Šä¸‹æ–‡ç‰¹å¾<br />
(b) ä¸Šä¸‹æ–‡ç‰¹å¾ç»è¿‡é€šé“å‹ç¼©å’Œç©ºé—´ä¸Šé‡‡æ ·ä¹‹åæ‹¼æ¥å›åŸç‰¹å¾å›¾â†’
åŒæ—¶åŒ…å«å±€éƒ¨å’Œä¸Šä¸‹æ–‡ç‰¹å¾<br />
(c) åŸºäºèåˆçš„ç‰¹å¾äº§ç”Ÿé¢„æµ‹å›¾<br />
### DeepLab ç³»åˆ—<br />
DeepLab æ˜¯è¯­ä¹‰åˆ†å‰²çš„åˆä¸€ç³»åˆ—å·¥ä½œï¼Œå…¶ä¸»è¦è´¡çŒ®ä¸ºï¼š<br />
â€¢ ä½¿ç”¨ç©ºæ´å·ç§¯è§£å†³ç½‘ç»œä¸­çš„ä¸‹é‡‡æ ·é—®é¢˜ï¼ˆå‡å°‘ä¸‹é‡‡æ ·ä¿ç•™ç©ºé—´åˆ†è¾¨ç‡ï¼‰</p>
<ul>
<li><p>å›¾åƒåˆ†ç±»æ¨¡å‹ä¸­çš„ä¸‹é‡‡æ ·å±‚ä½¿è¾“å‡ºå°ºå¯¸å˜å°</p>
<ul>
<li>å¦‚æœå°†æ± åŒ–å±‚å’Œå·ç§¯ä¸­çš„æ­¥é•¿å»æ‰ï¼š
<ul>
<li>å¯ä»¥å‡å°‘ä¸‹é‡‡æ ·çš„æ¬¡æ•°ï¼›</li>
<li>ç‰¹å¾å›¾å°±ä¼šå˜å¤§ï¼Œéœ€è¦å¯¹åº”å¢å¤§å·ç§¯æ ¸ï¼Œä»¥ç»´æŒç›¸åŒçš„æ„Ÿå—é‡ï¼Œä½†ä¼šå¢åŠ å¤§é‡å‚æ•°</li>
<li>ä½¿ç”¨ç©ºæ´å·ç§¯ï¼ˆDilated Convolution/Atrous
Convolutionï¼‰ï¼Œåœ¨ä¸å¢åŠ å‚æ•°çš„æƒ…å†µä¸‹å¢å¤§æ„Ÿå—é‡</li>
</ul></li>
</ul></li>
<li><p>ä½¿ç”¨æ¡ä»¶éšæœºåœºCRF ä½œä¸ºåå¤„ç†æ‰‹æ®µï¼Œç²¾ç»†åŒ–åˆ†å‰²å›¾</p>
<ul>
<li><p>æ¡ä»¶éšæœºåœºConditional Random Field, CRF</p>
<p>æ¨¡å‹ç›´æ¥è¾“å‡ºçš„åˆ†å‰²å›¾è¾ƒä¸ºç²—ç³™ï¼Œå°¤å…¶åœ¨ç‰©ä½“è¾¹ç•Œå¤„ä¸èƒ½äº§ç”Ÿå¾ˆå¥½çš„åˆ†å‰²ç»“æœã€‚<br />
DeepLab v1&amp;v2 ä½¿ç”¨æ¡ä»¶éšæœºåœº(CRF)
ä½œä¸ºåå¤„ç†æ‰‹æ®µï¼Œç»“åˆåŸå›¾é¢œè‰²ä¿¡æ¯å’Œç¥ç»ç½‘ç»œé¢„æµ‹çš„ç±»<br />
åˆ«å¾—åˆ°ç²¾ç»†åŒ–åˆ†å‰²ç»“æœã€‚</p>
<p>CRF æ˜¯ä¸€ç§æ¦‚ç‡æ¨¡å‹ã€‚DeepLab ä½¿ç”¨CRF
å¯¹åˆ†å‰²ç»“æœè¿›è¡Œå»ºæ¨¡ï¼Œç”¨èƒ½é‡å‡½æ•°ç”¨æ¥è¡¨ç¤ºåˆ†å‰²ç»“æœä¼˜åŠ£ï¼Œé€šè¿‡æœ€å°åŒ–èƒ½é‡å‡½æ•°è·å¾—æ›´å¥½çš„åˆ†å‰²ç»“æœã€‚</p>
<p><span class="math display">\[E(\boldsymbol{x})=\sum_i
\theta_i\left(x_i\right)+\sum_{i, j} \theta_{i j}\left(x_i,
x_j\right)\]</span></p>
<p><span class="math display">\[\theta_i\left(x_i\right)=-log
P\left(x_i\right)\]</span></p>
<p><span class="math inline">\(x_i\)</span>,<span
class="math inline">\(x_j\)</span>
ç‰¹å®šåƒç´ çš„é¢„æµ‹ç»“æœï¼ˆå‘é‡åŒ–ååªæœ‰1ç»´åæ ‡ï¼‰</p>
<p><strong>x</strong> å…¨éƒ¨åƒç´ çš„é¢„æµ‹ç»“æœ</p>
<p><span class="math inline">\(\theta_i(x_i)\)</span>
å•ä¸ªé¢„æµ‹å¯¹èƒ½é‡å‡½æ•°çš„è´¡çŒ®</p>
<p><span class="math inline">\(\theta_{i,j}(x_i,x_j)\)</span>
ä¸€å¯¹é¢„æµ‹å¯¹èƒ½é‡å‡½æ•°çš„è´¡çŒ®</p></li>
</ul></li>
<li><p>ä½¿ç”¨å¤šå°ºåº¦çš„ç©ºæ´å·ç§¯ï¼ˆASPP æ¨¡å—ï¼‰æ•æ‰ä¸Šä¸‹æ–‡ä¿¡æ¯<br />
DeepLab v1 å‘è¡¨äº2014 å¹´ï¼Œåäº2016ã€2017ã€2018 å¹´æå‡ºv2ã€v3ã€v3+
ç‰ˆæœ¬ã€‚</p></li>
</ul>
<h2 id="è¯­ä¹‰åˆ†å‰²ç®—æ³•æ€»ç»“">è¯­ä¹‰åˆ†å‰²ç®—æ³•æ€»ç»“</h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93.png"/>
</center>
<center>
<b><font size ='2'>æ¥è‡ªåŒæµè‡ªè±ªå…„OpenMMlab AI å®è®­è¥è¯¾ä»¶</font></b>
</center>
<p></font></p>
<h2 id="è¯­ä¹‰åˆ†å‰²æ¨¡å‹çš„è¯„ä¼°">è¯­ä¹‰åˆ†å‰²æ¨¡å‹çš„è¯„ä¼°</h2>
<p>åŸºäºäº¤å¹¶é›†ç»™å‡ºè¯„ä¼°æŒ‡æ ‡</p>
<p><img
src="https://www.jeremyjordan.me/content/images/2018/05/target_prediction.png" /></p>
<p><img
src="https://www.jeremyjordan.me/content/images/2018/05/intersection_union.png" /></p>
<p>å›¾ç‰‡å‡ºå¤„
https://www.jeremyjordan.me/evaluating-image-segmentation-models/</p>
<p>Accuracy =GTâˆ©Pred/GT</p>
<p>IoU =GTâˆ©Pred/GTâˆªPred</p>
<p>Dice =2 Ã— GTâˆ©Pred/ï¼ˆGT+Predï¼‰</p>
<p>å¯¹æ¯ç±»è®¡ç®—æŒ‡æ ‡å†æŒ‰ç±»åˆ«å¹³å‡</p>
<h2 id="é—®é¢˜ä¸å›ç­”">é—®é¢˜ä¸å›ç­”</h2>
]]></content>
      <tags>
        <tag>OpenMMLab</tag>
        <tag>è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenMMLabå®æˆ˜è¥ç¬¬äºŒè¯¾ è®¡ç®—æœºè§†è§‰ä¹‹å›¾åƒåˆ†ç±»ç®—æ³•åŸºç¡€</title>
    <url>/post/a3e368ef.html</url>
    <content><![CDATA[<p>æœ‰ç‚¹äº‹ å…ˆç®€å•å†™ä¸€ä¸‹ æ™šä¸Šå®Œå–„</p>
<span id="more"></span>
<p>ä¼ ç»Ÿæ–¹æ³•ï¼š è®¾è®¡å›¾åƒç‰¹å¾ï¼ˆ1990â€”2000)<br />
äººå·¥è®¾ç½®ç‰¹å¾ ä¿ç•™å›¾åƒè¿™ç§ç‰¹å¾ ä»¥ç®€åŒ–æ•°æ®è¡¨è¾¾ ä»è€Œå¯ä»¥è®¡ç®—åˆ†ç±» ã€‚<br />
ç‰¹å¾å·¥ç¨‹çš„å¤©èŠ±æ¿<br />
åœ¨ImageNet å›¾åƒè¯†åˆ«æŒ‘æˆ˜èµ›é‡Œï¼Œ2010 å’Œ2011
å¹´çš„å† å†›é˜Ÿä¼éƒ½ä½¿ç”¨äº†ç»å…¸çš„è§†è§‰æ–¹æ³•ï¼ŒåŸºäºæ‰‹å·¥è®¾è®¡çš„ç‰¹å¾+
æœºå™¨å­¦ä¹ ç®—æ³•å®ç°å›¾åƒåˆ†ç±»ï¼ŒTop-5 é”™è¯¯ç‡åœ¨25% ä¸Šä¸‹ã€‚<br />
ä¼ ç»Ÿçš„ç‰¹å¾å·¥ç¨‹ç”±äºäººå·¥è®¾ç½®å—é™å­˜åœ¨æ€§èƒ½ç“¶é¢ˆã€‚<br />
äºæ˜¯æœ‰äººæå‡ºäº† åˆ©ç”¨æœºå™¨ç›´æ¥å­¦ä¹ æå–ç”¨äºåˆ†ç±»çš„ç‰¹å¾çš„æ–¹æ³•<br />
å·ç§¯å®ç°ä¸€æ­¥ç‰¹å¾æå–ğŸ‘‰ å·ç§¯ç¥ç»ç½‘ç»œ</p>
<ol type="1">
<li><p>ç‰¹å¾å’Œå›¾åƒä¸€æ ·å…·æœ‰äºŒç»´ç©ºé—´ç»“æ„</p></li>
<li><p>åå±‚ç‰¹å¾ä¸ºç©ºé—´é‚»åŸŸå†…å‰å±‚ç‰¹å¾çš„åŠ æƒæ±‚å’Œ<br />
å¤šå¤´æ³¨æ„åŠ›å®ç°ä¸€æ­¥ç‰¹å¾æå–ğŸ‘‰ Transformer<br />
AlexNet çš„è¯ç”Ÿ&amp; æ·±åº¦å­¦ä¹ æ—¶ä»£çš„å¼€å§‹<br />
åœ¨2012
å¹´çš„ç«èµ›ä¸­ï¼Œæ¥è‡ªå¤šä¼¦å¤šå¤§å­¦çš„å›¢é˜Ÿé¦–æ¬¡ä½¿ç”¨æ·±åº¦å­¦ä¹ æ–¹æ³•ï¼Œä¸€ä¸¾å°†é”™è¯¯ç‡é™ä½è‡³15.3%
ï¼Œè€Œä¼ ç»Ÿè§†è§‰ç®—æ³•çš„æ€§èƒ½å·²ç»è¾¾åˆ°ç“¶é¢ˆï¼Œ2015
å¹´ï¼Œå·ç§¯ç½‘ç»œçš„æ€§èƒ½è¶…è¶Šäººç±»ã€‚</p></li>
<li><p>æ¨¡å‹è®¾è®¡ï¼šè®¾è®¡é€‚åˆå›¾åƒçš„<span
class="math inline">\(ğ¹_Î˜(ğ‘‹)\)</span>æ¨¡å‹ ä¾‹å­å¦‚ä¸‹<br />
â€¢ å·ç§¯ç¥ç»ç½‘ç»œ<br />
â€¢ è½»é‡åŒ–å·ç§¯ç¥ç»ç½‘ç»œ<br />
â€¢ ç¥ç»ç»“æ„æœç´¢<br />
â€¢ Transformer</p></li>
<li><p>æ¨¡å‹å­¦ä¹ ï¼šæ±‚è§£ä¸€ç»„å¥½çš„å‚æ•°Î˜<br />
â€¢ ç›‘ç£å­¦ä¹ ï¼šåŸºäºæ ‡æ³¨æ•°æ®å­¦ä¹ <br />
â€¢ æŸå¤±å‡½æ•°<br />
â€¢ éšæœºæ¢¯åº¦ä¸‹é™ç®—æ³•<br />
â€¢ è§†è§‰æ¨¡å‹å¸¸ç”¨è®­ç»ƒæŠ€å·§<br />
â€¢ è‡ªç›‘ç£å­¦ä¹ ï¼šåŸºäºæ— æ ‡æ³¨çš„æ•°æ®å­¦ä¹ </p></li>
</ol>
<h2 id="å·ç§¯ç¥ç»ç½‘ç»œå‘å±•">å·ç§¯ç¥ç»ç½‘ç»œå‘å±•</h2>
<p>AlexNet (2012)<br />
Going Deeper (2012~2014)<br />
VGG (2014)<br />
æ®‹å·®ç½‘ç»œResNet (2015)<br />
ç¥ç»ç»“æ„æœç´¢Neural Architecture Search (2016+)<br />
Vision Transformers (2020+)<br />
ConvNeXt (2022)</p>
<h2 id="è½»é‡åŒ–å·ç§¯ç¥ç»ç½‘ç»œ">è½»é‡åŒ–å·ç§¯ç¥ç»ç½‘ç»œ</h2>
<p>GoogLeNet ä½¿ç”¨ä¸åŒå¤§å°çš„å·ç§¯æ ¸
åŸºæœ¬æ€è·¯ï¼šå¹¶ä¸æ˜¯æ‰€æœ‰ç‰¹å¾éƒ½éœ€è¦åŒæ ·å¤§çš„æ„Ÿå—é‡ï¼Œåœ¨åŒä¸€å±‚ä¸­æ··åˆä½¿ç”¨ä¸åŒå°ºå¯¸çš„ç‰¹å¾å¯ä»¥å‡å°‘å‚æ•°é‡<br />
ResNet ä½¿ç”¨1Ã—1å·ç§¯å‹ç¼©é€šé“æ•°<br />
å¯åˆ†ç¦»å·ç§¯ å°†å¸¸è§„å·ç§¯åˆ†è§£ä¸ºé€å±‚å·ç§¯å’Œé€ç‚¹å·ç§¯ï¼Œé™ä½å‚æ•°é‡å’Œè®¡ç®—é‡
MobileNet V1/V2/V3 (2017~2019)<br />
ResNeXt å°†ResNet çš„bottleneck block ä¸­3Ã—3
çš„å·ç§¯æ”¹ä¸ºåˆ†ç»„å·ç§¯ï¼Œé™ä½æ¨¡å‹è®¡ç®—é‡<br />
å¯åˆ†ç¦»å·ç§¯ä¸ºåˆ†ç»„å·ç§¯çš„ç‰¹æ®Šæƒ…å½¢ï¼Œç»„æ•°=é€šé“æ•°</p>
<h2 id="æ¨¡å‹å­¦ä¹ ">æ¨¡å‹å­¦ä¹ </h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E5%9F%BA%E4%BA%8E%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E8%AE%AD%E7%BB%83%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B.png"/>
</center>
<center>
<b><font size ='2'>æ¨¡å‹è®­ç»ƒæµç¨‹å›¾</font></b>
</center>
<p></font></p>
<p>ç›®æ ‡ï¼šç¡®å®šæ¨¡å‹<span class="math inline">\(ğ¹_\Theta\)</span>
çš„å…·ä½“å½¢å¼åï¼Œæ‰¾å¯»æœ€ä¼˜å‚æ•°<span
class="math inline">\(\Theta^\ast\)</span> ï¼Œä½¿å¾—æ¨¡å‹<span
class="math inline">\(ğ¹_{\Theta^\ast}(x)\)</span>
ç»™å‡ºå‡†ç¡®çš„åˆ†ç±»ç»“æœ<span class="math inline">\(ğ‘ƒ(ğ‘¦|x)\)</span></p>
<h3 id="ç›‘ç£å­¦ä¹ ">ç›‘ç£å­¦ä¹ </h3>
<pre class="mermaid">

graph LR;
0[çœŸå€¼y]---1[æŸå¤±L]
A[å›¾åƒ]---B[æ¨¡å‹$F_Î¸$]
B---C[æ¦‚ç‡P]
C---1

</pre>
<ol type="1">
<li><p>æ ‡æ³¨ä¸€ä¸ªæ•°æ®é›†<span
class="math inline">\(\mathcal{D}=\left\{\left(X_i,
y_i\right)\right\}_{i=1}^N\)</span></p></li>
<li><p>å®šä¹‰æŸå¤±å‡½æ•°<span class="math inline">\(L:[0,1]^K \times
\mathbb{N} \rightarrow
\mathbb{R}\)</span>ï¼Œè¡¡é‡å•ä¸ªé¢„æµ‹ç»“æœçš„"å¥½/å"</p></li>
<li><p>è§£ä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ï¼Œå¯»æ‰¾ä½¿å¾—æ€»æŸå¤±æœ€å°çš„å‚æ•°<span
class="math inline">\(\Theta^\ast\)</span><br />
<span class="math display">\[
\Theta^*=\underset{\Theta}{\arg \min } \sum_{i=1}^N
L\left(F_{\Theta}\left(X_i\right), y_i\right)
\longrightarrowæ¢¯åº¦ä¸‹é™æ³•+é’ˆå¯¹è§†è§‰é—®é¢˜çš„æŠ€å·§å’Œç­–ç•¥
\]</span></p></li>
</ol>
<p>ä¼˜åŒ–å‚æ•°ç”¨ éšæœºæ¢¯åº¦ä¸‹é™ç®—æ³•ï¼ˆSGDï¼‰</p>
<ol type="1">
<li><p>éšæœºåˆå§‹åŒ–å‚æ•°<span class="math inline">\(Î˜^{( 0)}\)</span></p>
<ul>
<li>æŒ‰ç…§å‡ä¸åˆ†å¸ƒ æˆ–è€…é«˜æ–¯åˆ†å¸ƒ <span class="math inline">\(W_{ij},b_i
\sim U \left(-a,a \right)\)</span> or <span class="math inline">\(W_{i
j}, b_i \sim \mathcal{N}\left(0, \sigma^2\right)\)</span></li>
<li>or Xavier æ–¹æ³•(2010)ï¼šå‰ä¼ æ—¶ç»´æŒæ¿€æ´»å€¼çš„æ–¹å·®ï¼Œåä¼ ç»´æŒæ¢¯åº¦çš„æ–¹å·®
æ²¡æ‡‚</li>
<li>Kaiming æ–¹æ³•(2015)ï¼šåŒä¸Šï¼Œä½†é’ˆå¯¹ReLU æ¿€æ´»å‡½æ•° è¿˜æ˜¯æ²¡æ‡‚orz</li>
<li>æˆ–è€…ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å‚æ•°ï¼ˆé€šå¸¸åŸºäºImageNet æ•°æ®é›†ï¼‰
æ›¿æ¢é¢„è®­ç»ƒæ¨¡å‹çš„åˆ†ç±»å¤´ï¼Œè¿›è¡Œå¾®è°ƒè®­ç»ƒ(finetune)</li>
</ul></li>
<li><p>éšæœºé€‰å–æ•°æ®å­é›†â„¬ï¼Œè®¡ç®—è¿‘ä¼¼æŸå¤±ğ¿( Î˜|â„¬)</p></li>
<li><p>å‰å‘+åå‘ä¼ æ’­ï¼Œè®¡ç®—æ¢¯åº¦<span class="math inline">\(âˆ‡_Î˜ğ¿(Î˜^{ğ‘¡âˆ’1}
|â„¬)\)</span></p></li>
<li><p>æ›´æ–°å‚æ•°<span class="math inline">\(Î˜ ^{(ğ‘¡)} = Î˜^ {(ğ‘¡âˆ’1)} âˆ’
ğœ‚âˆ‡_Î˜ğ¿(Î˜ ^{(ğ‘¡âˆ’1)} |â„¬)\)</span></p></li>
<li><p>ä¸æ–­é‡å¤2-3çŸ¥é“æ”¶æ•›</p></li>
</ol>
<h3 id="å­¦ä¹ ç‡å¯¹è®­ç»ƒçš„å½±å“">å­¦ä¹ ç‡å¯¹è®­ç»ƒçš„å½±å“</h3>
<p><img
src="http://www.bdhammel.com/assets/learning-rate/lr-types.png" /></p>
<p>è®­ç»ƒåˆæœŸå¯ä½¿ç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡(or
åœ¨è®­ç»ƒå‰å‡ è½®å­¦ä¹ ç‡é€æ¸ä¸Šå‡ï¼Œç›´åˆ°é¢„è®¾çš„å­¦ä¹ ç‡ï¼Œä»¥ç¨³å®šè®­ç»ƒçš„åˆå§‹é˜¶æ®µ<span
class="math inline">\(\eta_t=\frac{t}{T_0}ğœ‚_0(t\leq
T_0)\)</span>)æŸå¤±å‡½æ•°ç¨³å®šåä¸‹é™å­¦ä¹ ç‡ï¼š<br />
- æŒ‰æ­¥é•¿ä¸‹é™</p>
<ul>
<li><p>æŒ‰æ¯”ä¾‹ä¸‹é™<span
class="math inline">\(\eta_t=ğœ‚_0ğ‘’^{âˆ’ğ‘˜ğ‘¡}\)</span></p></li>
<li><p>æŒ‰å€’æ•°ä¸‹é™ <span
class="math inline">\(\eta_t=\frac{ğœ‚_0}{\epsilon+t}\)</span></p></li>
<li><p>æŒ‰ä½™å¼¦å‡½æ•°ä¸‹é™ <span class="math inline">\(\eta_t=\eta_{\min
}^i+\frac{1}{2}\left(\eta_{\max }^i-\eta_{\min }^i\right)\left(1+\cos
\left(\frac{T_{\mathrm{cur}}}{T_i} \pi\right)\right)\)</span></p></li>
</ul>
<h3 id="åŠ¨é‡momentum-sgd">åŠ¨é‡Momentum SGD</h3>
<h3 id="è‡ªé€‚åº”æ¢¯åº¦ç®—æ³•">è‡ªé€‚åº”æ¢¯åº¦ç®—æ³•</h3>
<h3 id="æ­£åˆ™åŒ–ä¸æƒé‡è¡°å‡weight-decay">æ­£åˆ™åŒ–ä¸æƒé‡è¡°å‡Weight Decay</h3>
<h3 id="æ•°æ®å¢å¼ºdata-augmentation">æ•°æ®å¢å¼ºData Augmentation</h3>
<p>è®­ç»ƒæ³›åŒ–æ€§å¥½çš„æ¨¡å‹ï¼Œéœ€è¦å¤§é‡å¤šæ ·åŒ–çš„æ•°æ®ï¼Œ<br />
è€Œæ•°æ®çš„é‡‡é›†æ ‡æ³¨æ˜¯æœ‰æˆæœ¬çš„</p>
<p>å›¾åƒå¯ä»¥é€šè¿‡ç®€å•çš„å˜æ¢äº§ç”Ÿä¸€ç³»åˆ—"å‰¯æœ¬"ï¼Œæ‰©<br />
å……è®­ç»ƒæ•°æ®é›†</p>
<p>æ•°æ®å¢å¼ºæ“ä½œå¯ä»¥ç»„åˆï¼Œç”Ÿæˆå˜åŒ–æ›´å¤æ‚çš„å›¾åƒ</p>
<ul>
<li>å‡ ä½•å˜æ¢</li>
<li>è‰²å½©å˜æ¢</li>
<li>éšæœºé®æŒ¡</li>
</ul>
<h3 id="ç»„åˆæ•°æ®å¢å¼ºautoaugment-randaugment">ç»„åˆæ•°æ®å¢å¼ºAutoAugment
&amp; RandAugment</h3>
<p>AutoAugment å€ŸåŠ©å¼ºåŒ–å­¦ä¹ ï¼Œæœç´¢æ•°æ®å¢å¼ºçš„ç»„åˆç­–ç•¥</p>
<p>RandAugment æ›´ç®€å•çš„æœç´¢ç©ºé—´ï¼šéšæœºé€‰å–N
ä¸ªæ•°æ®å¢å¼ºæ“ä½œç»„åˆï¼Œå¹…åº¦ä¸ºM</p>
<p>Mixup é€åƒç´ æ··åˆå›¾åƒ</p>
<p>CutMix é®ç›–åŸå›¾å¹¶ç”¨å¦ä¸€å¹…å›¾å¡«å……</p>
<h3 id="æ ‡ç­¾å¹³æ»‘label-smoothing">æ ‡ç­¾å¹³æ»‘Label Smoothing</h3>
<p>åŠ¨æœºï¼šç±»åˆ«æ ‡æ³¨å¯èƒ½é”™è¯¯æˆ–ä¸å‡†ç¡®ï¼Œè®©æ¨¡å‹æœ€å¤§é™åº¦æ‹Ÿåˆæ ‡æ³¨ç±»åˆ«å¯èƒ½ä¼šæœ‰ç¢äºæ³›åŒ–æ€§<br />
åšæ³•ï¼šå¼•å…¥å¹³æ»‘å‚æ•°ğœ€ï¼Œé™ä½æ ‡ç­¾çš„"è‡ªä¿¡ç¨‹åº¦"</p>
<p>ä¼ ç»Ÿçš„one-hot æ ‡ç­¾ï¼š<span class="math inline">\(P_i= \begin{cases}1,
&amp; i=y \\ 0, &amp; i \neq y\end{cases}\)</span></p>
<p>å¹³æ»‘æ ‡ç­¾ï¼š<span class="math inline">\(P_i=\left\{\begin{array}{cl}
1-\varepsilon, &amp; i=y \\ \frac{\varepsilon}{K-1}, &amp; i \neq y
\end{array}\right.\)</span></p>
<p>å…¶ä¸­ï¼Œğ¾ ä¸ºç±»åˆ«æ€»æ•°</p>
<h3 id="ä¸¢å¼ƒå±‚dropout">ä¸¢å¼ƒå±‚Dropout</h3>
<p>ç¥ç»ç½‘ç»œåœ¨è®­ç»ƒæ—¶ä¼šå‡ºç°å…±é€‚åº”ç°è±¡(co-adaption)ï¼Œç¥ç»å…ƒä¹‹é—´äº§ç”Ÿé«˜åº¦å…³è”ï¼Œå¯¼è‡´è¿‡æ‹Ÿåˆ<br />
è®­ç»ƒæ—¶éšæœºä¸¢å¼ƒä¸€äº›è¿æ¥ï¼Œç ´åç¥ç»å…ƒä¹‹é—´çš„å…³è”ï¼Œé¼“åŠ±å­¦ä¹ ç‹¬ç«‹çš„ç‰¹å¾<br />
æ¨ç†æ—¶ä½¿ç”¨å…¨éƒ¨è¿æ¥<br />
å¸¸ç”¨äºå…¨è¿æ¥å±‚ï¼Œé€šå¸¸ä¸ä¸BN æ··ç”¨</p>
<h3 id="è‡ªç›‘ç£å­¦ä¹ ">è‡ªç›‘ç£å­¦ä¹ </h3>
<pre class="mermaid">

graph LR;
B-.-&gt;B2
subgraph part 1
A3[ç”±å›¾åƒè‡ªèº«äº§ç”Ÿçš„æ ‡ç­¾y^ ]---3[$L^\prime$]
A2[å›¾åƒx]---B2[æ¨¡å‹$F_Î¸$]
B2---C2[ç‰¹å¾z ]
C2---D[è¾…åŠ©ä»»åŠ¡]
D---3
end

subgraph part 2

A[å›¾åƒx]---B[æ¨¡å‹$F_Î¸$]
B---C[ç‰¹å¾z ]
C---D2[åˆ†ç±»å™¨]
D2---1[æŸå¤±L]
0[çœŸå€¼y]---1

end


</pre>
<p>æ ‡æ³¨æ•°æ®æ˜¯æ˜‚è´µçš„ æˆ‘ä»¬å¸Œæœ›ç¨‹åºè‡ªå·±æ ‡æ³¨å¥½</p>
<ol type="1">
<li>é€šè¿‡æ°å½“è®¾è®¡è¾…åŠ©ä»»åŠ¡ï¼Œè®©æ¨¡å‹åœ¨<strong>æ— æ ‡æ³¨</strong>æ•°æ®é›† <span
class="math inline">\(\mathcal{D}^\prime=\left\{X^\prime_i\right\}_{i=1}^N\)</span>ä¸Šå­¦ä¹ å¥½çš„ç‰¹å¾</li>
<li>å†æŠŠæ¨¡å‹æ”¾åœ¨ä¸€ä¸ªç›¸å¯¹å°çš„æ ‡æ³¨æ•°æ®é›†ä¸Š<span
class="math inline">\(\mathcal{D}\)</span> è®­ç»ƒåˆ†ç±»ï¼ˆå¯é€‰ï¼‰</li>
</ol>
<p>å¸¸è§ç±»å‹</p>
<ul>
<li>åŸºäºä»£ç†ä»»åŠ¡ https://zhuanlan.zhihu.com/p/150224914</li>
<li>åŸºäºå¯¹æ¯”å­¦ä¹  arXiv:2006.09882, 2020.</li>
<li>åŸºäºæ©ç å­¦ä¹ arXiv:2111.06377, 2021</li>
</ul>
<p>Relative Location (ICCV 2015)
åŸºæœ¬å‡è®¾ï¼šæ¨¡å‹åªæœ‰å¾ˆå¥½åœ°ç†è§£åˆ°å›¾ç‰‡å†…å®¹ï¼Œæ‰èƒ½å¤Ÿé¢„æµ‹å›¾åƒå—ä¹‹é—´çš„å…³ç³»</p>
<p>SimCLR (ICML 2020)
åŸºæœ¬å‡è®¾ï¼šå¦‚æœæ¨¡å‹èƒ½å¾ˆå¥½åœ°æå–å›¾ç‰‡å†…å®¹çš„æœ¬è´¨ï¼Œé‚£ä¹ˆæ— è®ºå›¾ç‰‡ç»è¿‡ä»€ä¹ˆæ ·çš„æ•°æ®å¢å¼ºæ“ä½œï¼Œæå–å‡ºæ¥çš„ç‰¹å¾éƒ½åº”è¯¥æä¸ºç›¸ä¼¼ã€‚</p>
<p>Masked autoencoders (MAE, CVPR 2022)
åŸºæœ¬å‡è®¾ï¼šæ¨¡å‹åªæœ‰ç†è§£å›¾ç‰‡å†…å®¹ã€æŒæ¡å›¾ç‰‡çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæ‰èƒ½æ¢å¤å‡ºå›¾ç‰‡ä¸­è¢«éšæœºé®æŒ¡çš„å†…å®¹ã€‚</p>
]]></content>
      <tags>
        <tag>OpenMMLab</tag>
        <tag>è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>OpenMMLabå®æˆ˜è¥ç¬¬å››è¯¾ ç›®æ ‡æ£€æµ‹ç®—æ³•åŸºç¡€</title>
    <url>/post/b64f8832.html</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯ç›®æ ‡æ£€æµ‹">ä»€ä¹ˆæ˜¯ç›®æ ‡æ£€æµ‹</h2>
<p>è¯†åˆ«å‡ºå¤§å›¾ç‰‡é‡Œçš„æ„Ÿå…´è¶£éƒ¨åˆ† å¹¶ä¸”æ¡†å‡ºæ¥</p>
<h2 id="ç›®æ ‡æ£€æµ‹çš„åº”ç”¨">ç›®æ ‡æ£€æµ‹çš„åº”ç”¨</h2>
<span id="more"></span>
<h2 id="æ»‘çª—sliding-windows">æ»‘çª—(Sliding Windows)</h2>
<h3 id="æ­¥éª¤">æ­¥éª¤</h3>
<ol type="1">
<li><p>è®¾å®šä¸€ä¸ªå›ºå®šå¤§å°çš„çª—å£</p></li>
<li><p>éå†å›¾åƒæ‰€æœ‰ä½ç½®ï¼Œæ‰€åˆ°ä¹‹å¤„ç”¨åˆ†ç±»æ¨¡å‹ï¼ˆå‡è®¾å·²ç»è®­ç»ƒå¥½ï¼‰è¯†åˆ«çª—å£ä¸­çš„å†…å®¹</p></li>
<li><p>ä¸ºäº†æ£€æµ‹ä¸åŒå¤§å°ã€ä¸åŒå½¢çŠ¶çš„ç‰©ä½“ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒå¤§å°ã€é•¿å®½æ¯”çš„çª—å£æ‰«æå›¾ç‰‡</p></li>
</ol>
<h3 id="ç¼ºç‚¹ä¸æ”¹è¿›æ€è·¯">ç¼ºç‚¹ä¸æ”¹è¿›æ€è·¯</h3>
<p>ç®€å•çš„æ»‘çª—éœ€è¦å¾ˆå¤šçª—å£ è®¡ç®—æˆæœ¬å¤ªå¤§</p>
<p>æ”¹è¿›æ€è·¯1ï¼šåŸºäºå›¾åƒé¢œè‰²æˆ–åº•å±‚ç‰¹å¾
ä½¿ç”¨å¯å‘å¼ç®—æ³•æ›¿æ¢æš´åŠ›éå†ä¾‹ï¼ˆæ‰¾å‡ºå¯èƒ½å«æœ‰ç‰©ä½“çš„åŒºåŸŸï¼‰å¦‚R-CNNï¼ŒFast
R-CNN ä¸­ä½¿ç”¨Selective Search
äº§ç”Ÿæè®®æ¡†ä¾èµ–å¤–éƒ¨ç®—æ³•ï¼Œç³»ç»Ÿå®ç°å¤æ‚ï¼Œéš¾ä»¥è”åˆä¼˜åŒ–æ€§èƒ½</p>
<p>æ”¹è¿›æ€è·¯2ï¼šå‡å°‘å†—ä½™è®¡ç®—ï¼Œä½¿ç”¨å·ç§¯ç½‘ç»œå®ç°å¯†é›†é¢„æµ‹ï¼ˆç”¨å·ç§¯ä¸€æ¬¡æ€§è®¡ç®—æ‰€æœ‰ç‰¹å¾ï¼Œå†å–å‡ºå¯¹åº”ä½ç½®çš„ç‰¹å¾å®Œæˆåˆ†ç±»ï¼‰ã€‚</p>
<p>ç›®å‰æ™®éé‡‡ç”¨çš„æ–¹å¼æ”¹è¿›æ€è·¯2</p>
<h2 id="ç›®æ ‡æ£€æµ‹çš„åŸºæœ¬èŒƒå¼">ç›®æ ‡æ£€æµ‹çš„åŸºæœ¬èŒƒå¼</h2>
<p>ä¸¤é˜¶æ®µæ–¹æ³•ï¼ˆåŸºäºåŒºåŸŸçš„æ–¹æ³•ï¼‰R-CNN Fast R-CNN<br />
ä»¥æŸç§æ–¹å¼äº§ç”Ÿçª—ï¼Œå†åŸºäºçª—å£å†…çš„ç‰¹å¾è¿›è¡Œé¢„æµ‹</p>
<p>å•é˜¶æ®µæ–¹æ³•<br />
åœ¨ç‰¹å¾å›¾ä¸ŠåŸºäºå•ç‚¹ç‰¹å¾å®ç°å¯†é›†é¢„æµ‹ YOLO SSD</p>
<p>å…¶ä»–æ–¹æ³•</p>
<p>çº§è”æ–¹æ³• Transformeræ–¹æ³•</p>
<p>ä»‹ç»äº†ç›®æ ‡æ£€æµ‹çš„æŠ€æœ¯æ¼”è¿›</p>
<pre class="mermaid">

flowchart LR;
subgraph A[ä¼ ç»Ÿæ–¹æ³•]

DPM

end

subgraph B[ä¸¤é˜¶æ®µæ–¹æ³•]
1[R-CNN]
2[Fast R-CNN]
3[Faster R-CNN]
4[RPN]
1--&gt;2
2--&gt;3
4--&gt;3
3--&gt;111( )
111--&gt;5[Mask R-CNN]
end

subgraph C[å•é˜¶æ®µæ–¹æ³•]
6[YOLO]
7[SSD]
88[YOLO v3]
89[YOLO v5]
90[FCOS]
91[YOLO X]
RetinaNet
end
subgraph D[Transformer æ–¹æ³•]
DETR
Deformable
DETR
end
subgraph F[çº§è”æ–¹æ³•]
Cascade 
R-CNN
end

A--&gt; B
B--å¤šå°ºåº¦æŠ€æœ¯--&gt;C
C--&gt;|ç‰¹å¾é‡‘å­—å¡”Feature Pyramid Networks,FPN|B
111 --&gt; F
</pre>
<h2 id="åŸºç¡€çŸ¥è¯†">åŸºç¡€çŸ¥è¯†</h2>
<h3 id="æ¡†è¾¹ç•Œæ¡†bounding-box">æ¡†ï¼Œè¾¹ç•Œæ¡†ï¼ˆBounding Boxï¼‰</h3>
<p>æè¿°ä¸€ä¸ªæ¡†éœ€è¦4 ä¸ªåƒç´ å€¼ï¼š<br />
â€¢ æ–¹å¼1ï¼šå·¦ä¸Šå³ä¸‹è¾¹ç•Œåæ ‡ğ‘™, ğ‘¡, ğ‘Ÿ, ğ‘<br />
â€¢ æ–¹å¼2ï¼šä¸­å¿ƒåæ ‡å’Œæ¡†çš„é•¿å®½ğ‘¥, ğ‘¦, ğ‘¤, â„</p>
<p>è¾¹ç•Œæ¡†é€šå¸¸æŒ‡ç´§å¯†åŒ…å›´æ„Ÿå…´è¶£ç‰©ä½“çš„æ¡†<br />
æ£€æµ‹ä»»åŠ¡è¦æ±‚ä¸ºå›¾ä¸­å‡ºç°çš„æ¯ä¸ªç‰©ä½“é¢„æµ‹ä¸€ä¸ªè¾¹ç•Œæ¡†</p>
<h3 id="æ¡†ç›¸å…³çš„æ¦‚å¿µ">æ¡†ç›¸å…³çš„æ¦‚å¿µ</h3>
<ol type="1">
<li>åŒºåŸŸï¼ˆRegionï¼‰ï¼šæ¡†çš„åŒä¹‰è¯</li>
<li>åŒºåŸŸæè®®ï¼ˆRegion Proposalï¼ŒProposalï¼‰<br />
æŒ‡ç®—æ³•é¢„æµ‹çš„å¯èƒ½åŒ…å«ç‰©ä½“çš„æ¡†ï¼ŒæŸç§è¯†åˆ«èƒ½åŠ›ä¸å¼ºçš„ç®—æ³•çš„åˆæ­¥é¢„æµ‹ç»“æœ</li>
<li>æ„Ÿå…´è¶£åŒºåŸŸï¼ˆRegion of Interestï¼ŒRoIï¼‰<br />
å½“æˆ‘ä»¬è°ˆè®ºéœ€è¦è¿›ä¸€æ­¥æ£€æµ‹è¿™ä¸ªæ¡†ä¸­æ˜¯å¦æœ‰ç‰©ä½“æ—¶ï¼Œé€šå¸¸ç§°æ¡†ä¸ºæ„Ÿå…´è¶£åŒºåŸŸ</li>
<li>é”šæ¡†ï¼ˆAnchor Boxï¼ŒAnchorï¼‰<br />
å›¾ä¸­é¢„è®¾çš„ä¸€ç³»åˆ—åŸºå‡†æ¡†ï¼Œç±»ä¼¼æ»‘çª—ï¼Œä¸€äº›æ£€æµ‹ç®—æ³•ä¼šåŸºäºé”šæ¡†é¢„æµ‹è¾¹ç•Œæ¡†</li>
</ol>
<h3 id="äº¤å¹¶æ¯”intersection-over-union">äº¤å¹¶æ¯”(Intersection Over
Union)</h3>
<p>å®šä¹‰ä¸ºä¸¤çŸ©å½¢æ¡†äº¤é›†é¢ç§¯ä¸å¹¶é›†é¢ç§¯ä¹‹æ¯”ï¼Œæ˜¯çŸ©å½¢æ¡†é‡åˆç¨‹åº¦çš„è¡¡é‡æŒ‡æ ‡</p>
<p><img
src="http://ronny.rest/media/tutorials/localization/ZZZ_IMAGES_DIR/iou_formula.png" /></p>
<h3 id="ç½®ä¿¡åº¦confidence-score">ç½®ä¿¡åº¦(Confidence Score)</h3>
<p>æ¨¡å‹è®¤å¯è‡ªèº«é¢„æµ‹ç»“æœçš„ç¨‹åº¦ï¼Œé€šå¸¸éœ€è¦ä¸ºæ¯ä¸ªæ¡†é¢„æµ‹ä¸€ä¸ªç½®ä¿¡åº¦</p>
<h3 id="éæå¤§å€¼æŠ‘åˆ¶non-maximum-suppression">éæå¤§å€¼æŠ‘åˆ¶(Non-Maximum
Suppression)</h3>
<p>æ»‘çª—ç±»ç®—æ³•é€šå¸¸ä¼šåœ¨ç‰©ä½“å‘¨å›´ç»™å‡ºå¤šä¸ªç›¸è¿‘çš„æ£€æµ‹æ¡†ã€‚è¿™äº›æ¡†å®é™…æŒ‡å‘åŒä¸€ç‰©ä½“ï¼Œåªéœ€è¦ä¿ç•™å…¶ä¸­ç½®ä¿¡åº¦æœ€é«˜çš„</p>
<p>é€šè¿‡éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰ç®—æ³•å®ç°ï¼š</p>
<p>è¾“å…¥ï¼šæ£€æµ‹å™¨äº§ç”Ÿçš„ä¸€ç³»åˆ—æ£€æµ‹æ¡†<span class="math inline">\(ğµ =\left\{
ğµ_1, â€¦ , ğµ_ğ‘›\right\}\)</span> åŠå¯¹åº”çš„ç½®ä¿¡åº¦<br />
<span class="math inline">\(ğ‘  =\left\{ ğ‘ _1, â€¦ , ğ‘ _ğ‘›\right\}\)</span>
,IoU é˜ˆå€¼ğ‘¡ï¼ˆé€šå¸¸0.7ï¼‰<br />
æ­¥éª¤ï¼š</p>
<ol type="1">
<li>åˆå§‹åŒ–ç»“æœé›†ğ‘… = âˆ…</li>
<li>é‡å¤ç›´è‡³ğµ ä¸ºç©ºé›†<br />
â‘  æ‰¾å‡ºğµ ä¸­ç½®ä¿¡åº¦æœ€å¤§çš„æ¡†ğµğ‘– å¹¶åŠ å…¥ğ‘…<br />
â‘¡ ä»ğµ ä¸­åˆ é™¤<span class="math inline">\(ğµ_ğ‘–\)</span>ä»¥åŠä¸<span
class="math inline">\(ğµ_ğ‘–\)</span>äº¤å¹¶æ¯”å¤§äºğ‘¡ çš„æ¡†<br />
è¾“å‡ºï¼šç»“æœé›†ğ‘…</li>
</ol>
<h3 id="è¾¹ç•Œæ¡†å›å½’bounding-box-regression">è¾¹ç•Œæ¡†å›å½’(Bounding Box
Regression)</h3>
<h4 id="é—®é¢˜">é—®é¢˜</h4>
<p>æ»‘çª—ï¼ˆæˆ–å…¶ä»–æ–¹å¼äº§ç”Ÿçš„åŸºå‡†æ¡†ï¼‰ä¸ç‰©ä½“ç²¾å‡†è¾¹ç•Œé€šå¸¸æœ‰åå·®</p>
<h4 id="å¤„ç†æ–¹æ³•">å¤„ç†æ–¹æ³•</h4>
<p>è®©æ¨¡å‹åœ¨é¢„æµ‹ç‰©ä½“ç±»åˆ«åŒæ—¶é¢„æµ‹è¾¹ç•Œæ¡†ç›¸å¯¹äºæ»‘çª—çš„åç§»é‡</p>
<pre class="mermaid">

graph LR;

A[å›¾åƒx]---B[å·ç§¯ç½‘ç»œ]
B---C[ç‰¹å¾]
C---D[å…¨è¿æ¥å±‚]
C---D2[å…¨è¿æ¥å±‚]
D---F[c+1ç»´åˆ†ç±»æ¦‚ç‡]
D2---F2[4ç»´åç§»é‡]
F---åˆ†ç±»æŸå¤±
F2---å›å½’æŸå¤±

</pre>
<p>è¾¹ç•Œæ¡†ç¼–ç Bbox Coding<br />
è¾¹ç•Œæ¡†çš„ç»å¯¹åç§»é‡åœ¨æ•°å€¼ä¸Šé€šå¸¸è¾ƒå¤§ï¼Œä¸åˆ©äºç¥ç»ç½‘ç»œè®­ç»ƒï¼Œé€šå¸¸éœ€è¦å¯¹åç§»é‡è¿›è¡Œç¼–ç ï¼Œä½œä¸ºå›å½’æ¨¡å‹çš„é¢„æµ‹ç›®æ ‡</p>
<h2 id="ä¸¤é˜¶æ®µç®—æ³•æ¦‚è¿°">ä¸¤é˜¶æ®µç®—æ³•æ¦‚è¿°</h2>
<p>ä¸¤é˜¶æ®µçš„æ£€æµ‹èŒƒå¼æœ€æ—©ç”±R-CNN
ç¡®ç«‹ï¼Œå› åŒ…å«<strong>åŒºåŸŸæè®®</strong>å’Œ<strong>åŒºåŸŸè¯†åˆ«</strong>ä¸¤ä¸ªé˜¶æ®µå¾—å</p>
<p>ç»å†ä¸€äº›åˆ—å‘å±•åˆ°Faster R-CNN å’ŒMask RCNNé€æ¸æˆç†Ÿ</p>
<p>ç»“åˆæ¯”è¾ƒå…ˆè¿›çš„ä¸»å¹²ç½‘ç»œå’Œå¤šå°ºåº¦æŠ€æœ¯å¯ä»¥è¾¾åˆ°æ¯”è¾ƒä¼˜è¶Šçš„æ£€æµ‹ç²¾åº¦ï¼Œä½¿ç”¨å¹¿æ³›</p>
<p>è¿‘å‡ å¹´ï¼ˆ2020~ï¼‰éšç€å•é˜¶æ®µç®—æ³•ç²¾åº¦å’Œé€Ÿåº¦çš„æé«˜é€æ¸è¢«å–ä»£</p>
<pre class="mermaid">

graph LR;

A[è¾“å…¥å›¾åƒ]---|ä¼ ç»Ÿè§†è§‰ç®—æ³•|B[åŒºåŸŸæè®®]
B---C[è£å‰ªç¼©æ”¾å°†æè®®æ¡†å†…çš„å›¾åƒç¼©æ”¾è‡³å›ºå®šå¤§å°]
C---D[åˆ†ç±»]

D---[æ±‡æ€»å†NMSäº§ç”Ÿæœ€ç»ˆç»“æœ]

</pre>
<p>R-CNNï¼ˆRegion-based CNN 2013ï¼‰ç¼ºç‚¹</p>
<p>æ…¢ï¼šåŒºåŸŸæè®®ä¸€èˆ¬äº§ç”Ÿ2000 ä¸ªæ¡†ï¼Œæ¯ä¸ªæ¡†éƒ½éœ€è¦é€å…¥CNN
å‰ä¼ ï¼Œæ¨ç†ä¸€å¼ å›¾è¦å‡ ç§’è‡³å‡ åç§’
åœ¨è£å‰ªæè®®æ¡†æ—¶è¿›è¡Œäº†é‡å¤è®¡ç®—ï¼ˆç‰©ä½“é‡å å¯¼è‡´æè®®æ¡†é‡å ï¼‰</p>
<p>Fast R-CNN (2014)</p>
<p>å¯¹å…¨å›¾è¿›è¡Œå·ç§¯ç½‘ç»œäº§ç”Ÿäº†ç‰¹å¾å›¾
åœ¨è£å‰ªæè®®æ¡†åæ‰¾åˆ°å¯¹åº”çš„ç‰¹å¾å›¾åœ¨åˆ†ç±»ã€‚</p>
<p>åº”ä¸ºå„ä¸ªç‰©ä½“çš„æè®®æ¡†å¤§å°ä¸ä¸€æ‰€ä»¥æˆ‘ä»¬è¦åœ¨åˆ†ç±»ä¹‹å‰å¤„ç†ä¸€ä¸‹ ä½¿ç”¨RoI
Pooling å’ŒRoI Align</p>
<p>RoI Pooling</p>
<p>å°†ä¸åŒå°ºå¯¸çš„æè®®æ¡†å¤„ç†æˆç›¸åŒå°ºå¯¸ï¼Œä½¿ä¹‹å¯ä»¥é€å…¥åç»­çš„å…¨è¿æ¥å±‚è®¡ç®—åˆ†ç±»å’Œå›å½’</p>
<ol type="1">
<li><p>å°†æè®®æ¡†åˆ‡åˆ†æˆå›ºå®šæ•°ç›®çš„æ ¼å­ï¼ˆä¸Šå›¾ä¸­2Ã—2ï¼Œå®é™…å¸¸ç”¨7Ã—7ï¼Œå¯¹é½ResNetç­‰ç»å…¸ç»“æ„ï¼‰</p></li>
<li><p>å¦‚æœæ ¼å­è¾¹ç•Œä¸åœ¨æ•´æ•°åæ ‡ï¼Œåˆ™è†¨èƒ€è‡³æ•´æ•°åæ ‡</p></li>
<li><p>åœ¨æ¯ä¸ªæ ¼å­å†…éƒ¨æ± åŒ–ï¼Œå¾—åˆ°å›ºå®šå°ºå¯¸çš„è¾“å‡ºç‰¹å¾å›¾</p></li>
</ol>
<p>RoI Align</p>
<p><img
src="https://camo.qiitausercontent.com/ad51aede3139b16e684fec813def4034b5763519/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133393830392f64306366326635362d363866382d353836632d313436392d3233373666656338323964392e706e67" /></p>
<p>å›¾ç‰‡å‡ºå¤„ï¼šhttps://qiita.com/yu4u/items/5cbe9db166a5d72f9eb8</p>
<p>â€¢ å°†æè®®åŒºåŸŸåˆ‡æˆå›ºå®šæ•°ç›®çš„æ ¼å­ï¼Œä¾‹å¦‚7Ã—7<br />
â€¢ åœ¨æ¯ä¸ªæ ¼å­ä¸­ï¼Œå‡åŒ€é€‰å–è‹¥å¹²é‡‡æ ·ç‚¹ï¼Œå¦‚2Ã—2=4 ä¸ª<br />
â€¢ é€šè¿‡æ’å€¼æ–¹æ³•å¾—åˆ°æ¯ä¸ªé‡‡æ ·ç‚¹å¤„çš„ç²¾ç¡®ç‰¹å¾<br />
â€¢ æ‰€æœ‰é‡‡æ ·ç‚¹åšPooling å¾—åˆ°è¾“å‡ºç»“æœ</p>
<p>Faster R-CNN (2015)</p>
<p>å¢åŠ äº†é”šæ¡†Anchorçš„æ¦‚å¿µ ä»¥åŠä»é”šæ¡†åˆ°æè®®æ¡†çš„åŒºåŸŸæè®®ç½‘ç»œRegion
Proposal Network</p>
<p>é”šæ¡†Anchor</p>
<p>åœ¨åŸå›¾ä¸Šè®¾ç½®ä¸åŒå°ºå¯¸çš„åŸºå‡†æ¡†ï¼Œç§°ä¸ºé”šæ¡†ï¼ŒåŸºäºç‰¹å¾ç‹¬ç«‹é¢„æµ‹æ¯ä¸ªé”šæ¡†ä¸­æ˜¯å¦åŒ…å«ç‰©ä½“<br />
â‘  å¯ä»¥ç”Ÿæˆä¸åŒå°ºå¯¸çš„æè®®æ¡†<br />
â‘¡ å¯ä»¥åœ¨åŒä¸€ä½ç½®ç”Ÿæˆå¤šä¸ªæè®®æ¡†è¦†ç›–ä¸åŒç‰©ä½“</p>
<p>å¤šå°ºåº¦æ–¹æ³•</p>
<p>ä½¿ç”¨å›ºå®šå¤§å°çš„å·ç§¯åçš„ç‰¹å¾å›¾é¢„æµ‹ä¸åŒå°ºåº¦çš„ç‰©ä½“æ•ˆæœæ¯”è¾ƒå·®(ç‰¹å¾å›¾è¶Šå°ç©ºé—´åˆ†è¾¨ç‡å°±è¶Šä½é¢„æµ‹å°ç‰©ä½“å°±ä¼šå›°éš¾)
æ‰€ä»¥æœ‰åº”å¯¹ä¸åŒå°ºåº¦ç‰©ä½“çš„æ–¹æ³•</p>
<p>å›¾åƒé‡‘å­—å¡”Image Pyramid</p>
<p>æ¯”è¾ƒç›´è§‰çš„æ–¹æ³• æŠŠä¸€å¼ å›¾ç‰‡ ç¼©æ”¾æˆä¸åŒå¤§å°å›¾åˆ†åˆ«æ£€æµ‹
å°±åƒä½¿ç”¨ä¸åŒåº¦æ•°çš„é•œå¤´çœ‹å›¾ä¼šçœ‹åˆ°ä¸åŒçš„ç‰©ä½“ã€‚</p>
<p>ä¼˜åŠ¿ï¼šç®—æ³•ä¸ç»æ”¹åŠ¨å¯ä»¥é€‚åº”ä¸åŒå°ºåº¦çš„ç‰©ä½“<br />
åŠ£åŠ¿ï¼šè®¡ç®—æˆæœ¬æˆå€å¢åŠ </p>
<p>å±‚æ¬¡åŒ–ç‰¹å¾</p>
<p>åŸºäºä¸»å¹²ç½‘ç»œè‡ªèº«äº§ç”Ÿçš„å¤šçº§ç‰¹å¾å›¾äº§ç”Ÿé¢„æµ‹ç»“æœ<br />
ç”±äºä¸åŒå±‚çš„æ„Ÿå—å¤§å°ä¸åŒï¼Œå› æ­¤ä¸åŒå±‚çº§çš„ç‰¹å¾å¤©ç„¶é€‚ç”¨äºæ£€æµ‹ä¸åŒå°ºå¯¸çš„ç‰©ä½“</p>
<p>ä¼˜åŠ¿ï¼šè®¡ç®—æˆæœ¬ä½<br />
åŠ£åŠ¿ï¼šä½å±‚ç‰¹å¾æŠ½è±¡çº§åˆ«ä¸å¤Ÿï¼Œé¢„æµ‹ç‰©ä½“æ¯”è¾ƒå›°éš¾</p>
<p>ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œFeature Pyramid Network (2016)<br />
åœ¨å±‚æ¬¡åŒ–ç‰¹å¾åŸºç¡€ä¸Š
å¯¹ä½å±‚ç‰¹å¾ç”¨ç‰¹å¾æ±‚å’Œèå…¥é«˜å±‚ç‰¹å¾è¡¥å……ä½å±‚ç‰¹å¾çš„è¯­ä¹‰ä¿¡æ¯</p>
<p>å•é˜¶æ®µç›®æ ‡æ£€æµ‹ç®—æ³•</p>
<p>One-Stage Detectors</p>
<p>æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡é—®é¢˜</p>
<p>å•é˜¶æ®µç®—æ³•éœ€è¦ä¸ºæ¯ä¸ªä½ç½®çš„æ¯ä¸ªé”šæ¡†é¢„æµ‹ä¸€ä¸ªç±»åˆ«ï¼Œè®­ç»ƒæ—¶éœ€è¦ä¸ºæ¯ä¸ªé¢„æµ‹è®¡ç®—åˆ†ç±»æŸå¤±<br />
å›¾ä¸­é”šæ¡†çš„æ•°é‡è¿œè¿œå¤§äºçœŸå€¼æ¡†ï¼ˆæ•°ä¸‡vs
æ•°ä¸ªï¼‰ï¼Œå¤§é‡é”šæ¡†çš„é¢„æµ‹çœŸå€¼ä¸ºèƒŒæ™¯ï¼ˆè´Ÿæ ·æœ¬ï¼‰</p>
<p>ä½¿ç”¨ç±»åˆ«ä¸å¹³è¡¡çš„æ•°æ®è®­ç»ƒå‡ºçš„åˆ†ç±»å™¨å€¾å‘ç»™å‡ºèƒŒæ™¯é¢„æµ‹ï¼Œå¯¼è‡´æ¼æ£€</p>
<p>é”šæ¡†vs æ— é”šæ¡†</p>
<p>åŸºäºé”šæ¡†ï¼ˆAnchor-basedï¼‰<br />
â€¢ Faster R-CNNã€YOLO v3 / v5ã€RetinaNet éƒ½æ˜¯åŸºäºé”šæ¡†çš„æ£€æµ‹ç®—æ³•<br />
â€¢
æ¨¡å‹åŸºäºç‰¹å¾é¢„æµ‹å¯¹åº”ä½ç½®çš„é”šæ¡†ä¸­æ˜¯å¦æœ‰ç‰©ä½“ï¼Œä»¥åŠç²¾ç¡®ä½ç½®ç›¸å¯¹äºé”šæ¡†çš„åç§»é‡<br />
â€¢
éœ€è¦æ‰‹åŠ¨è®¾ç½®é”šæ¡†ç›¸å…³çš„è¶…å‚æ•°ï¼ˆå¦‚å¤§å°ã€é•¿å®½æ¯”ã€æ•°é‡ç­‰ï¼‰ï¼Œè®¾ç½®ä¸å½“å½±å“æ£€æµ‹ç²¾åº¦âŒ</p>
<p>æ— é”šæ¡†ï¼ˆAnchor-freeï¼‰<br />
â€¢
ä¸ä¾èµ–é”šæ¡†ï¼Œæ¨¡å‹åŸºäºç‰¹å¾ç›´æ¥é¢„æµ‹å¯¹åº”ä½ç½®æ˜¯å¦æœ‰ç‰©ä½“ï¼Œä»¥åŠè¾¹ç•Œæ¡†çš„ä½ç½®<br />
â€¢ è¾¹ç•Œæ¡†é¢„æµ‹å®Œå…¨åŸºäºæ¨¡å‹å­¦ä¹ ï¼Œä¸éœ€è¦äººå·¥è°ƒæ•´è¶…å‚æ•°âœ”ï¸<br />
â€¢ YOLO v1
æ˜¯æ— é”šæ¡†ç®—æ³•ï¼Œä½†ç”±äºæå‡ºæ—¶é—´è¾ƒæ—©ï¼Œç›¸å…³æŠ€æœ¯å¹¶ä¸å®Œå–„ï¼Œæ€§èƒ½ä¸å¦‚åŸºäºé”šæ¡†çš„ç®—æ³•</p>
<h2 id="ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è¯„ä¼°æ–¹æ³•">ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è¯„ä¼°æ–¹æ³•</h2>
<p>æ­£ç¡®ç»“æœ(True Positive
TP)ï¼šç®—æ³•æ£€æµ‹åˆ°äº†æŸç±»ç‰©ä½“(Positive)ï¼Œå›¾ä¸­ä¹Ÿç¡®å®æœ‰è¿™ä¸ªç‰©ä½“ï¼Œæ£€æµ‹ç»“æœæ­£ç¡®(True)<br />
å‡é˜³æ€§(False Positive
FP)ï¼šç®—æ³•æ£€æµ‹åˆ°äº†æŸç±»ç‰©ä½“(Positive)ï¼Œä½†å›¾ä¸­å…¶å®æ²¡æœ‰è¿™ä¸ªç‰©ä½“ï¼Œæ£€æµ‹ç»“æœé”™è¯¯(False)<br />
å‡é˜´æ€§(False Negative
FN)ï¼šç®—æ³•æ²¡æœ‰æ£€æµ‹åˆ°ç‰©ä½“(Negative)ï¼Œä½†å›¾ä¸­å…¶å®æœ‰æŸç±»ç‰©ä½“ï¼Œæ£€æµ‹ç»“æœé”™è¯¯(False)</p>
<p>æ£€æµ‹åˆ°çš„è¡¡é‡æ ‡å‡†ï¼šå¯¹äºæŸä¸ªæ£€æµ‹æ¡†ï¼Œå›¾ä¸­å­˜åœ¨åŒç±»å‹çš„çœŸå€¼æ¡†ä¸”ä¸ä¹‹äº¤å¹¶æ¯”å¤§äºé˜ˆå€¼ï¼ˆé€šå¸¸å–0.5ï¼‰</p>
<h3 id="å‡†ç¡®ç‡precision-ä¸å¬å›ç‡recall">å‡†ç¡®ç‡Precision
ä¸å¬å›ç‡Recall</h3>
<p>å¬å›ç‡recall =æ­£ç¡®ç»“æœæ€»æ•°/çœŸå€¼æ¡†æ€»æ•°=#TP/#TP + #FN</p>
<p>å‡†ç¡®ç‡precision =æ­£ç¡®ç»“æœæ€»æ•°/æ£€æµ‹æ¡†æ€»æ•°=#TP/#TP + #FP</p>
<p>ä¸¤ç§æç«¯æƒ…å†µï¼š<br />
1.
æ£€æµ‹å™¨å°†æ‰€æœ‰é”šæ¡†éƒ½åˆ¤æ–­ä¸ºç‰©ä½“ï¼šå¬å›ç‡â‰ˆ100%ï¼Œä½†å¤§é‡èƒŒæ™¯æ¡†é¢„æµ‹ä¸ºç‰©ä½“ï¼ŒFPå¾ˆé«˜ï¼Œå‡†ç¡®ç‡å¾ˆä½</p>
<ol start="2" type="1">
<li>æ£€æµ‹å™¨åªè¾“å‡ºç¡®ä¿¡åº¦æœ€é«˜çš„1ä¸ªæ£€æµ‹æ¡†ï¼šä»¥å¾ˆå¤§æ¦‚ç‡æ£€æµ‹æ­£ç¡®ï¼Œå‡†ç¡®ç‡=100%ï¼Œä½†å› ä¸ºå¤§é‡ç‰©ä½“è¢«é¢„æµ‹<br />
ä¸ºèƒŒæ™¯ï¼ŒFNå¾ˆé«˜ï¼Œå¬å›ç‡å¾ˆä½</li>
</ol>
<p>ä¸€ä¸ªå®Œç¾çš„æ£€æµ‹å™¨åº”è¯¥æœ‰100%å¬å›ç‡å’Œ100%çš„ç²¾åº¦ï¼›åœ¨ç®—æ³•èƒ½åŠ›æœ‰é™çš„æƒ…å†µä¸‹,åº”è¯¥å¹³è¡¡äºŒè€…<br />
é€šå¸¸åšæ³•ï¼šå°†æ£€æµ‹æ¡†æŒ‰ç½®ä¿¡åº¦æ’åºï¼Œ ä»…è¾“å‡ºç½®ä¿¡åº¦æœ€é«˜çš„è‹¥å¹²ä¸ªæ¡†<br />
ç½®ä¿¡åº¦= åˆ†ç±»æ¦‚ç‡ï¼Œæˆ–ä¿®æ­£åçš„åˆ†ç±»æ¦‚ç‡ï¼ˆYOLOã€FCOSï¼‰</p>
<h3 id="pr-æ›²çº¿ä¸ap-å€¼">PR æ›²çº¿ä¸AP å€¼</h3>
<p><img
src="https://www.jeremyjordan.me/content/images/2018/12/calculated-PR-curve-1.png" /></p>
<p>å›¾ç‰‡å‡ºå¤„
https://www.jeremyjordan.me/evaluating-image-segmentation-models/</p>
<p>ä¸ºå¾—åˆ°é˜ˆå€¼æ— å…³çš„è¯„åˆ†ï¼Œå¯ä»¥éå†é˜ˆå€¼ï¼Œå¹¶å¯¹Precision å’ŒRecall æ±‚å¹³å‡</p>
<p>å…·ä½“åšæ³•ï¼š</p>
<ul>
<li>æ£€æµ‹æ¡†æŒ‰ç½®ä¿¡åº¦æ’åºï¼Œå–å‰K ä¸ªæ¡†è®¡ç®—Precision å’Œ<br />
Recall</li>
<li>éå†K ä»1 è‡³å…¨éƒ¨æ£€æµ‹æ¡†ï¼Œå°†å¾—åˆ°çš„Precision å’Œ<br />
Recall å€¼ç»˜åˆ¶åœ¨åæ ‡ç³»ä¸Šï¼Œå¾—åˆ°PR æ›²çº¿</li>
<li>å®šä¹‰Average Precision = Precision å¯¹Recall çš„å¹³å‡<br />
å€¼ï¼Œå³PR æ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œä½œä¸ºæ£€æµ‹å™¨çš„æ€§èƒ½è¡¡é‡æŒ‡æ ‡</li>
</ul>
]]></content>
      <tags>
        <tag>OpenMMLab</tag>
        <tag>è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>The Cherno C++ æ•™ç¨‹ ç¬”è®° è‡ªç”¨</title>
    <url>/post/191602.html</url>
    <content><![CDATA[<p>The Cherno C++ æ•™ç¨‹ ç¬”è®° <a
href="https://www.youtube.com/playlist?list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb">åŸè§†é¢‘</a>
<a
href="https://www.bilibili.com/video/BV1Dk4y1j7oj?p=53&amp;vd_source=89cd1bd958a3eea212de763dc113559e">bç«™æ¬è¿</a>
ä»…ä»…è‡ªç”¨çŸ¥ä¹å·²ç»æœ‰å¾ˆå¤šä¼˜ç§€çš„ç¬”è®°äº†</p>
<span id="more"></span>
<h2 id="c-å¦‚ä½•å·¥ä½œ">C++ å¦‚ä½•å·¥ä½œ</h2>
<p>å»ºä¸€ä¸ªproject åœ¨ èµ„æºæ–‡ä»¶ï¼ˆsourceï¼‰æ·»åŠ cppæ–‡ä»¶</p>
<p>æºæ–‡ä»¶</p>
<p><code>#åé¢æ˜¯é¢„å¤„ç†è¯­å¥ # include &lt;iostream&gt; ç¼–è¯‘å™¨ä¼šæŠŠiostream å’Œæˆ‘ä»¬çš„ä»£ç é»èµ·æ¥</code></p>
<p>&lt;&lt; é‡è½½è¿ç®—ç¬¦</p>
<p>debug ä¼šé»˜è®¤å…³æ‰æ‰€æœ‰ä¼˜åŒ– releaseæ¨¡å¼ä¼šæ›´å¿« æˆ‘ä»¬å¯ä»¥å®šåˆ¶ç¼–è¯‘çš„æ˜¯exe
è¿˜dllï¼ˆåº“æ–‡ä»¶ï¼‰</p>
<p>cpp ç¼–è¯‘ï¼ˆä¼šæŠŠé¢„å¤„ç†çš„å¤´æ–‡ä»¶å’Œä½ çš„cppç²˜å¥½ä¸€èµ·ç¼–è¯‘ï¼‰ object file.obj
linkerï¼ˆåœ¨å±æ€§é‡Œå¯ä»¥å®šä¹‰ä¸€äº›é€‰é¡¹ï¼‰åˆå¹¶å¤šä¸ªobjï¼ˆè§£æobjä¹‹é—´ä¾èµ–çš„ç¬¦å·æ¯”å¦‚å¤–éƒ¨å‡½æ•°ï¼‰ä¸ºæ‰§è¡Œæ–‡ä»¶</p>
<p>ctrl +F7 å•ç‹¬ç¼–è¯‘å½“å‰æ–‡ä»¶æ‰€ä»¥ä¸ä¼šæœ‰exe()</p>
<p>visual studio å­˜æ”¾å¾ˆå¥‡æ€ªæ–‡ä»¶orz</p>
<p>æˆ‘ä»¬æŸ¥bug ä¸»è¦çœ‹ output window error listæ˜¯åƒåœ¾</p>
<p>ç”³æ˜ å‘ŠçŸ¥ç¼–è¯‘å™¨å‡½æ•°å­˜åœ¨</p>
<p>å¤´æ–‡ä»¶å¯ä»¥ç”¨æ¥æ”¾ä¸€å †ç”³æ˜å‡½æ•°</p>
<p>å®šä¹‰ å®šä¹‰ä¸€ä¸ªå‡½æ•°è¦å¹²ä»€ä¹ˆ</p>
<h2 id="ç¼–è¯‘">ç¼–è¯‘</h2>
<p>åœ¨é¡¹ç›® å±æ€§ C/C++ é¢„å¤„ç†å™¨ -&gt;é¢„å¤„ç†åˆ°æ–‡ä»¶è®¾ç½® æ˜¯ ä¼šå¾—åˆ°
.jæ–‡ä»¶æ˜¯é¢„å¤„ç†ç»“æŸåçš„æ–‡ä»¶</p>
<p><code>#define INTEGER int  C++ä¼šæ›¿æ¢å‰é¢çš„è¯ ä¸ºåé¢çš„è¯</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span>  <span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºçœŸå†³å®šæ˜¯å¦æ‰§è¡Œä»£ç </span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>obj æ–‡ä»¶æ˜¯ äºŒè¿›åˆ¶ æˆ‘ä»¬å¯ä»¥ç”¨ é¡¹ç›®å±æ€§ c/c++ è¾“å‡ºæ–‡ä»¶ æ±‡ç¼–ç¨‹åºè¾“å‡ºé‡Œ
è®¾ç½®è¾“å‡ºå¯è¯»æ±‡ç¼–è¯­è¨€</p>
<p>result=a*b</p>
<p>return result</p>
<p>å’Œä¹‹é—´return result åœ¨debug
å’Œreleaseæ¨¡å¼æ˜¯ä¸ä¸€æ ·çš„ä½ å¯ä»¥æŸ¥çœ‹æ±‡ç¼–ä»£ç å‘ç°è¿™ä¸€ç‚¹</p>
<p>é“¾æ¥ ä¸»è¦ç„¦ç‚¹æ˜¯æ‰¾åˆ°æ¯ä¸ªç¬¦å·å’Œå‡½æ•°åœ¨å“ªé‡Œ</p>
<p>static int Multiply</p>
<p>static æ„å‘³ç€è¯¥å‡½æ•°åªåœ¨è¿™ä¸ªcppç¿»è¯‘å•å…ƒé‡Œå®šä¹‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span>  <span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout&lt;&lt; message&lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>inline ä¼šæŠŠLogå‡½æ•°æ›¿æ¢ä¸ºLogå®šä¹‰çš„å†…å®¹</p>
<p>link c++éœ€è¦ä¸€ä¸ªå…¥å£ç‚¹ï¼ˆEntry Pointåœ¨ linkeré‡Œé¢ )
å…¥å£ç‚¹ä¸ä¸€å®šæ˜¯main</p>
<h2 id="cå˜é‡">C++å˜é‡</h2>
<p>ä¸åŒå˜é‡åœ¨c++ä¸­å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å­˜å‚¨çš„å¤§å°</p>
<p>int ä¸€èˆ¬ 4å­—èŠ‚ï¼ˆä¾èµ–ç¼–è¯‘å™¨ï¼‰</p>
<p>unsigned int</p>
<p>char short int long long long</p>
<p>char a=65 char a='A'</p>
<p>å…¶ä»–ç±»å‹èµ‹å€¼å­—ç¬¦ä¼šå˜æˆæ•°å­— shot a='A' æ‰“å°ä¸º65</p>
<p>float variable= 5.5 //å…¶å®å®šä¹‰äº†åŒç²¾åº¦double</p>
<p>float variable= 5.5f//få¯ä»¥å¤§å†™ä¹Ÿå¯ä»¥å°å†™ è¡¨ç¤ºå®šä¹‰çš„æ˜¯æµ®ç‚¹æ•°</p>
<p>bool 1 byte è™½ç„¶ç†è®ºæ˜¯åªè¦1bit</p>
<p>sizeof(variable) è¿”å›å˜é‡å¤§å°</p>
<p>æŒ‡é’ˆ(pointer)* å’Œå¼•ç”¨(reference)&amp;</p>
<h2 id="c-å‡½æ•°">c++ å‡½æ•°</h2>
<p>ä¸ºäº†å‡å°‘ä»£ç é‡å¤</p>
<p>è°ƒç”¨å‡½æ•° ä¼šä½¿ç”¨å †æ ˆç»“æ„</p>
<p>æ¯æ¬¡æˆ‘ä»¬è°ƒç”¨å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ç”ŸæˆcallæŒ‡ä»¤ åˆ›å»ºä¸€ä¸ªå †æ ˆç»“æ„
æŠŠå‚æ•°è¿™æ ·çš„ä¸œè¥¿æ¨è¿›å †æ ˆ æŠŠä¸€ä¸ªæ”¾å›åœ°å€å‹å…¥å †æ ˆ
åœ¨è·³åˆ°äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶çš„ä¸åŒéƒ¨åˆ†æ‰§è¡Œå‡½æ•°æŒ‡ä»¤
ä¸ºäº†pushå›ç»“æœè¿˜è¦å›åˆ°è°ƒç”¨å‡½æ•°çš„åœ°æ–¹ åœ¨å†…å­˜é‡Œè·³æ¥è·³å»
æ‰€ä»¥æœ‰æ—¶å€™è¦ç”¨inline</p>
<h2 id="cå¤´æ–‡ä»¶">c++å¤´æ–‡ä»¶</h2>
<p><code>#pragma once //pragma ç¼–è¯‘ä¹‹å‰å…ˆå¤„ç† once åªåœ¨ä¸€ä¸ªç¿»è¯‘å•å…ƒå¤åˆ¶ä¸€æ¬¡</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _LOG_H</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _LOG_H</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitLog</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">strcut <span class="title">Player</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//å¦‚æœ_LOG_Hæ²¡å®šä¹‰åˆ™è¿è¡Œå®šä¹‰è¿™éƒ¨åˆ†</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>å¼•å·å¯ä»¥æŒ‡å®šç›¸å¯¹è·¯å¾„çš„æ–‡ä»¶</p>
<p>å°–æ‹¬å·åªç”¨ä¸ç¼–è¯‘å™¨åŒ…å«çš„è·¯å¾„</p>
<h2 id="visual-studio-é…ç½®">visual studio é…ç½®</h2>
<p>åœ¨è®¾ç½®æ–­ç‚¹ä»¥åæŒ‰F5 å³é”®æ–­ç‚¹ go to disassembly å¯ä»¥æŸ¥çœ‹æ±‡ç¼–</p>
<p>visual studio æ˜¾ç¤ºçš„ è§£å†³æ–¹æ¡ˆç›®å½•ä¸æ˜¯çœŸå®çš„ç‚¹å‡»
æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å¯ä»¥çœ‹åˆ°çœŸå®çš„ç›®å½• å¯ä»¥å»ºä¸€ä¸ªsrc æ–‡ä»¶å¤¹ æŠŠæ‰€æœ‰
cppæ–‡ä»¶åŠ å…¥åˆ°é‡Œé¢</p>
<p>æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰visu studio çš„è¾“å‡ºæ–‡ä»¶å’Œ ä¸­é—´æ–‡ä»¶ç›®å½•
åœ¨é¡¹ç›®çš„å±æ€§å¸¸è§„é‡Œ</p>
<p>è®¾ç½®è¾“å‡ºç›®å½•<code>$(SolutionDir)bin\$(Platform)\$(Configuration)\</code></p>
<p>ä¸­é—´ç›®å½•</p>
<p><code>$(SolutionDir)bin\intermediates\$(Platform)\$(Configuration)\</code></p>
<p><code>$(SolutionDir)</code>è¿™äº›å®çš„æ„ä¹‰å¯ä»¥åœ¨ç¼–è¾‘é‡ŒæŸ¥çœ‹</p>
<h2 id="cæŒ‡é’ˆ">c++æŒ‡é’ˆ</h2>
<p>æŒ‡é’ˆæ˜¯ä¸€ä¸ªæ•´æ•° å­˜å‚¨åœ°å€çš„æ•°å­—
æŒ‡é’ˆçš„ç±»å‹çš„ç±»å‹æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨å­˜çš„åœ°å€æŒ‡çš„ä¸œè¥¿æ˜¯åŒ…å«å¤šå°‘å­—èŠ‚çš„
è¿™æ ·å¯ä»¥åœ¨ç”¨<code>*</code>è¯»å–çš„æ—¶å€™é…ç½®é€‚å½“å†…å­˜
<code>int*ptr</code>æŒ‡é’ˆè¡¨ç¤º å½“æˆ‘ä»¬ç”¨<code>*ptr= 10;</code>
è¦è®¾ç½®å››å­—èŠ‚çš„å†…å­˜æ‰€ä»¥<code>void *ptr</code>æŒ‡é’ˆ ä¸èƒ½
<code>*ptr=10</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span>* ptr = <span class="number">0</span>; <span class="comment">// NULL nullptr éƒ½æ˜¯ç›¸åŒçš„</span></span><br><span class="line"><span class="type">int</span> var = <span class="number">8</span>;</span><br><span class="line"><span class="type">void</span>* ptr2 = &amp;var;<span class="comment">// &amp; å–å‡º varçš„åœ°å€ ptr2 ç°åœ¨å­˜ç€varçš„åœ°å€</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* buffer = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">8</span>];<span class="comment">//ç”³è¯·ä¸€ä¸ª 8å­—èŠ‚çš„å†…å­˜ è®°å½•å®ƒçš„ç¬¬ä¸€ä¸ªåœ°å€</span></span><br><span class="line"><span class="built_in">memset</span>(buffer, <span class="number">0</span>, <span class="number">8</span>);<span class="comment">//å¡«å…¥ 0 åˆ°8ä¸ªå­—èŠ‚</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span>** ptr = &amp;buffer;<span class="comment">//æŒ‡å‘å­˜åœ°å€çš„åœ°å€ ä½ å¯ä»¥åœ¨å†…å­˜äº†è¯»å–ä»–çš„å€¼ ç„¶åæŸ¥æ‰¾ï¼ˆè¦å€’ç€è¾“å…¥æ˜¯åç€å­˜çš„ï¼‰ä¼šæ‰¾åˆ°å­˜0çš„8ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="keyword">delete</span>[] buffer; <span class="comment">//åˆ é™¤bufferçš„å†…å­˜</span></span><br></pre></td></tr></table></figure>
<h2 id="cå¼•ç”¨">C++å¼•ç”¨</h2>
<p>å¼•ç”¨æœ¬èº«ä¸æ˜¯å˜é‡</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>&amp;  <span class="comment">//&amp;æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†</span></span><br><span class="line"><span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span>&amp; ref = a;<span class="comment">//ref æ˜¯açš„åˆ«å è¦é©¬ä¸Šèµ‹å€¼</span></span><br></pre></td></tr></table></figure>
<p>å¼•ç”¨å¯ä»¥æŠŠå˜é‡ä¼ å…¥å‡½æ•° å¹¶æ”¹å˜å®ƒ
æŒ‡é’ˆä¹Ÿå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ä½†è¦æ³¨æ„æ”¹çš„æ˜¯åœ°å€è¿˜æ˜¯åœ°å€é‡Œçš„å€¼ï¼ˆæ³¨æ„ä¼˜å…ˆçº§
<code>*value++</code> æ”¹çš„æ˜¯åœ°å€ <code>ï¼ˆ*value)++</code>æ”¹çš„æ˜¯å€¼ï¼‰</p>
<h2 id="cç±»">c++ç±»</h2>
<p>ç±»åªæ˜¯å¯¹æ•°æ®å’ŒåŠŸèƒ½ç»„åˆåœ¨ä¸€èµ·çš„ä¸€ç§æ–¹æ³•ã€‚ç±»ä¸ä¼šå¸¦æ¥æ–°çš„åŠŸèƒ½
æ²¡æœ‰å®ƒä¹Ÿå¯ä»¥å®ç°ä½ æƒ³è¦åˆ° å®ƒæœ‰ç‚¹åƒè¯­æ³•ç³– ã€‚</p>
<p>ä¸ç»“æ„ä½“çš„å¯¹æ¯”</p>
<p>ç±»ä¸€èˆ¬é»˜è®¤æ˜¯ç§æœ‰çš„ ç»“æ„ä½“é»˜è®¤æ˜¯å…¬å¼€çš„</p>
<p>å¯ä»¥ç”¨<code>#define struct class</code>æŠŠstruct å®šä¹‰ä¸º class å½“public
å’Œprivateè¦é‡å†™</p>
<h2 id="static-æœ‰ä¸åŒæ„ä¹‰-å–å†³ä¸Šä¸‹æ–‡">static æœ‰ä¸åŒæ„ä¹‰ å–å†³ä¸Šä¸‹æ–‡</h2>
<p>ä¸€ç§åœ¨ç±»å’Œç»“æ„ä½“å¤–è¡¨ç¤ºè¯¥å˜é‡åªåœ¨ä»–å®šä¹‰çš„ç¿»è¯‘å•å…ƒç”Ÿæ•ˆ
å¦ä¸€ç§åœ¨ç±»å’Œç»“æ„ä½“å†… è¡¨ç¤ºè¿™ä¸ªç±»å’Œç»“æ„ä½“çš„é™æ€å˜é‡å’Œæ–¹æ³• åœ¨æ‰€æœ‰å®ä¾‹é‡Œç”Ÿæ•ˆ
æ”¹å˜ä¸€ä¸ªæ‰€æœ‰å®ä¾‹éƒ½ä¼šæ”¹å˜ å¯ä»¥ç›´æ¥ç”¨ç±»ååŠ å˜é‡åæˆ–è€…å‡½æ•°åå¼•ç”¨
å’Œå‘½åç©ºé—´å¾ˆç±»ä¼¼æ¯”å¦‚ <code>std::cout</code></p>
<p>åŒæ—¶åœ¨å‡½æ•°ä¸­ä½¿ç”¨static å¯ä»¥å»¶é•¿å˜é‡çš„å­˜åœ¨çš„å‘¨æœŸ å¦‚æœæ²¡æœ‰static
å‡½æ•°å†…å˜é‡ä¼šåœ¨ å‡½æ•°ä½¿ç”¨å®Œåé”€æ¯ æœ‰äº†static è¿™ä¸ªå˜é‡ä¼šåœ¨å‡½æ•°ç”¨å®Œåè¿˜å­˜åœ¨
ä¸”åªèƒ½åœ¨å‡½æ•°å†…ä½¿ç”¨ ä¸èƒ½å†å¤–éƒ¨è°ƒç”¨</p>
<p>extern varå°è¯•ä»å…¶ä»–ç¿»è¯‘å•å…ƒæ‰¾åˆ°å˜é‡varçš„å®šä¹‰</p>
<p>å°½é‡ç”¨é™æ€å˜é‡</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span></span>;</span><br><span class="line"><span class="comment">//#define struct class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:<span class="comment">//ä¸ºäº†å¯ä»¥åœ¨ç±»å¤–è®¿é—®ä»–ä»¬</span></span><br><span class="line">	<span class="type">int</span> x, y;</span><br><span class="line">	<span class="type">int</span> speed;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">Move</span><span class="params">(<span class="type">int</span> xa, <span class="type">int</span> ya)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		x += xa * speed;</span><br><span class="line">		y += ya * speed;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;<span class="comment">//æœ‰åˆ†å·</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>: </span><br><span class="line">	<span class="type">static</span> Singleton* s_Instance;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">static</span> Singleton&amp; <span class="title">Get</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> *s_Instance; &#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="built_in">Log</span>(<span class="string">&quot;mmm&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton2</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">static</span> Singleton2&amp; <span class="title">Get</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="type">static</span> Singleton2 instance; <span class="comment">//å¦‚æœæ²¡æœ‰ç”¨static å»ºç«‹çš„å®ä¾‹ä¼šåœ¨å‡½æ•°å®šä¹‰çš„èŠ±æ‹¬å·å¤–è¢«é”€æ¯ è¦æŠŠå¼•ç”¨static Singleton2&amp; æ”¹æˆå¤åˆ¶static Singleton2</span></span><br><span class="line">		<span class="keyword">return</span> instance; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="built_in">Log</span>(<span class="string">&quot;mmmm&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Singleton* Singleton::s_Instance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;	</span><br><span class="line">	Singleton::<span class="built_in">Get</span>().<span class="built_in">Hello</span>();</span><br><span class="line">	Singleton2::<span class="built_in">Get</span>().<span class="built_in">Hello</span>();</span><br><span class="line">	<span class="keyword">if</span> (<span class="number">6</span> == <span class="number">6</span>)</span><br><span class="line">		<span class="built_in">Log</span>(<span class="string">&quot;Hello World!&quot;</span>);<span class="comment">//å¯ä»¥åŠ &#123;&#125; ä¹Ÿå¯ä»¥ä¸åŠ  esle if å…¶å®æ˜¯ else + if æ‰€ä»¥å¯ä»¥å†™æˆ </span></span><br><span class="line">	<span class="comment">//else </span></span><br><span class="line">	<span class="comment">//		if ()&#123;</span></span><br><span class="line">	<span class="comment">// &#125;</span></span><br><span class="line">	<span class="comment">//std::cout &lt;&lt; &quot; hello &quot; &lt;&lt; std::endl;</span></span><br><span class="line">	<span class="type">void</span>* ptr = <span class="number">0</span>; <span class="comment">// NULL nullptr å’Œ0 éƒ½æ˜¯ç›¸åŒçš„</span></span><br><span class="line">	<span class="type">int</span> var = <span class="number">8</span>;</span><br><span class="line">	<span class="type">void</span>* ptr2 = &amp;var;<span class="comment">// &amp; å–å‡º varçš„åœ°å€ ptr2 ç°åœ¨å­˜ç€varçš„åœ°å€</span></span><br><span class="line">	Player player;</span><br><span class="line">	player.x = <span class="number">5</span>;</span><br><span class="line">	player.y = <span class="number">5</span>;</span><br><span class="line">	Player player2 = &#123; <span class="number">8</span>,<span class="number">7</span> &#125;;</span><br><span class="line">	player2.<span class="built_in">Print</span>();</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">continue</span>;<span class="comment">//è·³è¿‡ç¬¦åˆæ­¤æ¬¡åˆ¤æ–­çš„i  å¦‚æœæ˜¯breakç›´æ¥è·³å‡ºå¾ªç¯  å¦‚æœæ˜¯return ç›´æ¥ç»“æŸå‡½æ•°</span></span><br><span class="line">		<span class="built_in">Log</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">		<span class="type">char</span>* buffer = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">8</span>];<span class="comment">//ç”³è¯·ä¸€ä¸ª 8å­—èŠ‚çš„å†…å­˜ è®°å½•å®ƒçš„ç¬¬ä¸€ä¸ªåœ°å€</span></span><br><span class="line">		<span class="built_in">memset</span>(buffer, <span class="number">0</span>, <span class="number">8</span>);<span class="comment">//å¡«å…¥ 0 åˆ°8ä¸ªå­—èŠ‚</span></span><br><span class="line"></span><br><span class="line">		<span class="type">char</span>** ptr = &amp;buffer;<span class="comment">//æŒ‡å‘å­˜åœ°å€çš„åœ°å€ ä½ å¯ä»¥åœ¨å†…å­˜äº†è¯»å–ä»–çš„å€¼ ç„¶åæŸ¥æ‰¾ï¼ˆè¦å€’ç€è¾“å…¥æ˜¯åç€å­˜çš„ï¼‰ä¼šæ‰¾åˆ°å­˜0çš„8ä¸ªå­—èŠ‚</span></span><br><span class="line">		<span class="keyword">delete</span>[] buffer; <span class="comment">//åˆ é™¤bufferçš„å†…å­˜</span></span><br><span class="line">		std::cout &lt;&lt; i &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="c-æšä¸¾">c++ æšä¸¾</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">MyEnum</span> </span><br><span class="line">&#123;</span><br><span class="line">	A,B,C</span><br><span class="line">&#125;;</span><br><span class="line">MyEnum test = A;</span><br></pre></td></tr></table></figure>
<h2 id="cè™šå‡½æ•°">c++è™šå‡½æ•°</h2>
<p>å¯ä»¥å¤å†™ç»§æ‰¿ç±»çš„è™šå‡½æ•°å®ç°ç‰¹å®šåŠŸèƒ½
ä¼šç”Ÿæˆvè¡¨æ¥å®ç°å¼•å…¥é¢å¤–å†…å­˜å¼€é”€ä½†æ˜¯æ˜¯å¯ä»¥æ¥å—çš„</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Play</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> std::string <span class="title">GetName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Play&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Play</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	std::string m_Name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Player</span>(<span class="type">const</span> std::string&amp; name)</span><br><span class="line">		: <span class="built_in">m_Name</span>(name) &#123;&#125;</span><br><span class="line">	<span class="function">std::string <span class="title">GetName</span><span class="params">()</span> <span class="keyword">override</span></span>&#123; <span class="keyword">return</span> m_Name; &#125;<span class="comment">//overrideä¸æ˜¯å¿…è¦çš„ä½†å¯ä»¥ä¿è¯ä¸å‡ºé”™</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintName</span><span class="params">(Play* e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::cout &lt;&lt; e-&gt;<span class="built_in">GetName</span>() &lt;&lt; std::endl;<span class="comment">//å¦‚æœPlayæ²¡æœ‰virtualè™šå‡½æ•°é‚£ä¹ˆGetNameå°±ä¸ä¼šè¢«å¤å†™æ‰“å°çš„æ€»æ˜¯Play</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>çº¯è™šå‡½æ•°å…è®¸æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ²¡æœ‰å®šä¹‰çš„å‡½æ•°ç„¶åå¼ºè¿«ä½¿ç”¨å­ç±»å»å®ç°å®ƒ
ä¸ç„¶ä¸èƒ½å®ä¾‹åŒ–</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Printable</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> std::string <span class="title">GetClassName</span><span class="params">()</span> </span>= <span class="number">0</span>;<span class="comment">//çº¯è™šå‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">classA</span> : <span class="keyword">public</span> Printable</span><br><span class="line">&#123;</span><br><span class="line">	<span class="function">std::string <span class="title">GetClassName</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;A&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Printclass</span><span class="params">(Printable* obj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::cout &lt;&lt; obj-&gt;<span class="built_in">GetClassName</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç±»ä¸­çš„å¯è§æ€§">ç±»ä¸­çš„å¯è§æ€§</h2>
<p>private åªèƒ½åœ¨ç±»ä¸­æˆ–è€…ç±»çš„å‹å…ƒè°ƒç”¨è®¿é—® protected
å¯ä»¥åœ¨å­ç±»å’Œå®šä¹‰ç±»è°ƒç”¨ä½†æ˜¯ä¸èƒ½åœ¨ç±»å¤–é¢ç”¨ publicå“ªéƒ½è¡Œ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> expmle[<span class="number">5</span>];<span class="comment">//åœ¨å‡½æ•°ç»“æŸå°±ä¼šæ¶ˆå¤±</span></span><br><span class="line"><span class="type">int</span> * ptr = example;</span><br><span class="line">*(<span class="type">int</span>*)((<span class="type">char</span>*)ptr + <span class="number">8</span>) = <span class="number">6</span> ; <span class="comment">//ç­‰åŒä¸*(ptr +2 ) =6 c++ä¸­æ•°ç»„æŒ‡é’ˆåŠ ä¸€ä¸ªæ•°å­—ç­‰åŒäºä»–ä»£è¡¨çš„åœ°å€åŠ ä¹˜ä»¥è¯¥æŒ‡é’ˆç±»å‹å¤§å°ä¹‹åçš„æ•°å­— </span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* another = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">5</span>]; <span class="comment">//åœ¨å †ä¸Šåˆ›å»ºä¼šä¸€ç›´åœ¨é™¤édelete</span></span><br><span class="line"><span class="keyword">delete</span>[] another;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* another = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">5</span>];<span class="comment">//åœ¨ç±»ä¸­å®šä¹‰ä¼šå¯¼è‡´é—´æ¥å¯»å€ç±»ä¸æ˜¯ä¿å­˜æ•°ç»„æ•°æ®è€Œæ˜¯åœ°å€</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="type">int</span> a[<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> count = <span class="built_in">sizeof</span>(a)/<span class="built_in">sizeof</span>(<span class="type">int</span>);</span><br><span class="line">std::array&lt;<span class="type">int</span>,5&gt; another;<span class="comment">//another.size() ä¼šæœ‰é¢å¤–å¼€é”€æ‰€ä»¥ç”¨åŸå§‹æ•°ç»„ä¼šæ¯”è¾ƒå¿«</span></span><br></pre></td></tr></table></figure>
<h2 id="const">const</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span>*  name=<span class="string">&quot;mkk&quot;</span>;<span class="comment">//å­—ç¬¦ä¸²ç”¨åŒå¼•å· å­—ç¬¦ç”¨å•å¼•å· ç”¨constæ˜¯å› ä¸ºè¿™ä¸ªå­—ç¬¦ä¸²å¸¸å¸¸ä¸èƒ½ä¿®æ”¹ è¦æƒ³æœ‰å¯ä»¥æ”¹çš„è¯·å®šä¹‰å­—ç¬¦æ•°ç»„ char name[]=&quot;mkk&quot;;</span></span><br><span class="line"><span class="type">char</span> name2[<span class="number">4</span>]=&#123;<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;k&#x27;</span>,<span class="string">&#x27;k&#x27;</span>,<span class="number">0</span>&#125;;<span class="comment">//æœ€åæ‰“&#x27;\0&#x27;ä¹Ÿè¡Œ è¿™æ ·æ‰“å°name2ä¼šç›´æ‰“åˆ°mkkä¸ä¼šæ˜¾ç¤ºå…¶ä»–å†…å­˜çš„ä¸œè¥¿ </span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; stdlib.h&gt;</span><span class="comment">//å¯ä»¥ç”¨strlenå¾—åˆ°é•¿åº¦ä½†æ˜¯å¦‚æœä¸­é—´æœ‰\0ä¼šå¾—åˆ°åˆ°\0çš„é•¿åº¦</span></span></span><br><span class="line">std::string name=<span class="string">&quot;mkk&quot;</span>;<span class="comment">// std::string(&quot;mkk&quot;) + &quot;hello!&quot;;</span></span><br><span class="line">name += <span class="string">&quot; hello!&quot;</span>;</span><br><span class="line"><span class="type">bool</span> contains = name.<span class="built_in">find</span>(<span class="string">&quot;kk&quot;</span>) != std::string:npos</span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintString</span><span class="params">(<span class="type">const</span> std::string&amp; string)</span><span class="comment">// const è¡¨ç¤ºæ‰¿è¯ºä¸ä¿®æ”¹å˜é‡ std::string&amp;è¡¨ç¤ºå¼•ç”¨ä¸æ˜¯å¤åˆ¶  ç›´æ¥std::string string ä¹Ÿè¡Œä¸è¿‡ä¼šé¢å¤–å¤åˆ¶æ•°æ®é€ æˆå¼€é”€</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::cout &lt;&lt; string  &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span>* name = <span class="string">u8&quot;mkk&quot;</span>;<span class="comment">//u8æ˜¯ä¸å¿…é¡»çš„æ¯ä¸ªå­—æ¯1å­—èŠ‚</span></span><br><span class="line"><span class="type">const</span> <span class="type">wchar_t</span>* name2 = <span class="string">L&quot;mkk&quot;</span>;<span class="comment">//windows æ¯ä¸ªå­—æ¯2å­—èŠ‚ Linux æ¯ä¸ªå­—æ¯4å­—èŠ‚ mac å¯èƒ½æœ‰ä¹Ÿæ˜¯4</span></span><br><span class="line"><span class="type">const</span> <span class="type">char16_t</span>* name3 = <span class="string">u&quot;mkk&quot;</span>;<span class="comment">//æ¯ä¸ªå­—æ¯2å­—èŠ‚</span></span><br><span class="line"><span class="type">const</span> <span class="type">char32_t</span>* name4 = <span class="string">U&quot;mkk&quot;</span>;<span class="comment">//æ¯ä¸ªå­—æ¯4å­—èŠ‚</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> MAX_AGE = <span class="number">90</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>;<span class="comment">//å’Œ int const* a = new int;ä¸€æ · ä¸èƒ½æ”¹å˜æŒ‡é’ˆæŒ‡å‘çš„å€¼ ä½†æ˜¯å¯ä»¥æ”¹å˜æŒ‡é’ˆæœ¬èº«å³åœ°å€</span></span><br><span class="line">*a = <span class="number">2</span>;<span class="comment">//æŠŠæŒ‡é’ˆæŒ‡å‘2 ä¸è¡Œå› ä¸ºå®šä¹‰äº†constæŒ‡é’ˆ</span></span><br><span class="line">a = (<span class="type">int</span>*)&amp;MAX_AGE;<span class="comment">//æ”¹å˜aæœ¬èº«å³åœ°å€</span></span><br><span class="line"><span class="type">int</span>* <span class="type">const</span> b = <span class="keyword">new</span> <span class="type">int</span>;<span class="comment">//å¯ä»¥æ”¹å˜æŒ‡å‘çš„ä¸œè¥¿ä½†ä¸èƒ½æ”¹å˜æŒ‡å‘åœ°å€</span></span><br><span class="line">*b = <span class="number">2</span>;<span class="comment">//æŠŠæŒ‡é’ˆæŒ‡å‘2 å¯ä»¥</span></span><br><span class="line">b = (<span class="type">int</span>*)&amp;MAX_AGE;<span class="comment">//ä¸å¯ä»¥</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span>* <span class="type">const</span> c = <span class="keyword">new</span> <span class="type">int</span>;<span class="comment">//</span></span><br><span class="line">*c = <span class="number">2</span>;<span class="comment">//æŠŠæŒ‡é’ˆæŒ‡å‘2 ä¸å¯ä»¥</span></span><br><span class="line">c = (<span class="type">int</span>*)&amp;MAX_AGE;<span class="comment">//ä¸å¯ä»¥</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> m_X, m_Y;</span><br><span class="line">    <span class="keyword">mutable</span> <span class="type">int</span> var;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">GetX</span><span class="params">()</span> <span class="type">const</span><span class="comment">//ä»…åœ¨ç±»ä¸­çš„ç”¨æ³•è¡¨ç¤ºæ”¹æ–¹æ³•ä¸ä¼šæ”¹å˜ç±»æˆå‘˜çš„å€¼</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">        var=<span class="number">2</span>; <span class="comment">// å¯ä»¥å› ä¸ºæ˜¯mutable</span></span><br><span class="line">        <span class="comment">// m_X = 10; ä¼šæŠ¥é”™</span></span><br><span class="line">		<span class="keyword">return</span> m_X;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span>* m_X, m_Y;<span class="comment">//è¿™é‡Œåªæœ‰m_Xæ˜¯æŒ‡é’ˆ m_Yä¸æ˜¯ è¦æƒ³æ˜¯ è¿™æ ·int* m_X, *m_y</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">const</span> <span class="type">int</span>* <span class="type">const</span> <span class="title">GetX</span><span class="params">()</span> <span class="type">const</span><span class="comment">//ä»…åœ¨ç±»ä¸­çš„ç”¨æ³•è¡¨ç¤ºæ”¹æ–¹æ³•ä¸ä¼šæ”¹å˜ç±»æˆå‘˜çš„å€¼</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">        </span><br><span class="line">		<span class="keyword">return</span> m_X;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintEntity</span><span class="params">(<span class="type">const</span> Entity&amp; e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; e.<span class="built_in">GetX</span>() &lt;&lt; std::endl;<span class="comment">//è¦æ±‚GetXæ˜¯ä¸€ä¸ªconstæ–¹æ³•ä¸è®©ä¸è¡Œ å¦å¤–ç±»é‡Œé¢ä¹Ÿå¯ä»¥æœ‰ä¸¤ä¸ªGetXæ–¹æ³•ä¸€ä¸ªæ˜¯constçš„ä¸€ä¸ªä¸æ˜¯ è¿™é‡Œä¼šè‡ªåŠ¨è°ƒç”¨constçš„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">auto</span> f = [=]() <span class="keyword">mutable</span> <span class="comment">// [=] è¡¨ç¤ºæŠŠå€¼ä¼ è¿›lambdaå‡½æ•°fé‡Œé¢ æ‰€ä»¥æ­£å¸¸æƒ…å†µä¸‹ä¸èƒ½æ”¹å˜x </span></span><br><span class="line">	<span class="comment">//åŠ äº†mutable ç›¸å½“äºæŠŠxçš„å€¼èµ‹å€¼ç»™ä¸€ä¸ªyç„¶åå¤–é¢y++ åœ¨æ‰“å°ä»–ä¸ä¼šæ”¹å˜å¤–é¢çš„xå‡½æ•°</span></span><br><span class="line">	<span class="comment">//[&amp;]è¡¨ç¤ºå¼•ç”¨ä¼ é€’</span></span><br><span class="line">	&#123;</span><br><span class="line">		x++;</span><br><span class="line">		std::cout &lt;&lt; x &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"><span class="built_in">f</span>();<span class="comment">//9</span></span><br><span class="line">std::cout &lt;&lt; x &lt;&lt; std::endl;<span class="comment">//8</span></span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰å…ƒåˆ¤æ–­ç®—ç¬¦">ä¸‰å…ƒåˆ¤æ–­ç®—ç¬¦</h2>
<p>python</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x <span class="keyword">if</span> (x &gt; y) <span class="keyword">else</span> y</span><br></pre></td></tr></table></figure>
<p>c++</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">(x &gt; y) ? x : y;</span><br></pre></td></tr></table></figure>
<p>julia</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line">(x &gt; y) ? x : y;</span><br></pre></td></tr></table></figure>
<h2 id="new">new</h2>
<p>åœ¨å †ä¸Šåˆ›å»º ä¼šæ¯”è¾ƒæ…¢ è¦ä¸»åŠ¨delete ä¸ç„¶ä¼šä¸€ç›´åœ¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="type">int</span>* b = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">50</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Entity* e = <span class="keyword">new</span> <span class="built_in">Entity</span>();<span class="comment">//è¿˜å¯ä»¥å†™æˆè¿™æ ·Entity* e = new Entity[50];</span></span><br><span class="line"><span class="comment">//Entity* e = (Entity*)malloc(sizeof(Entity)); //å’ŒEntity* e = new Entity();ç›¸åŒä¸è¿‡mallocåªæ˜¯åˆ†é…äº†å†…å­˜æ²¡æœ‰åˆ†é…æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span>[] b;</span><br><span class="line"><span class="keyword">delete</span> e;</span><br></pre></td></tr></table></figure>
<h2 id="éšå¼è½¬æ¢">éšå¼è½¬æ¢</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	std::string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Entity</span>(<span class="type">const</span> std::string&amp; name)</span><br><span class="line">		: <span class="built_in">m_Name</span>(name), <span class="built_in">m_Age</span>(<span class="number">-1</span>)&#123;&#125;</span><br><span class="line">	<span class="built_in">Entity</span>(<span class="type">int</span> age)</span><br><span class="line">		: <span class="built_in">m_Name</span>(<span class="string">&quot;Unknown&quot;</span>) , <span class="built_in">m_Age</span>(age) &#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintEntity</span><span class="params">(<span class="type">const</span> Entity&amp; entity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//print</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> main</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">PrintEntity</span>(<span class="number">22</span>);</span><br><span class="line"><span class="built_in">PrintEntity</span>(<span class="built_in">Entity</span>(<span class="string">&quot;Cherno&quot;</span>));<span class="comment">//PrintEntity(&quot;Cherno&quot;); æ³¨é‡Šçš„æ˜¯ä¸å¯è¡Œçš„ </span></span><br><span class="line"><span class="comment">//å› ä¸ºè¦ä¸¤æ¬¡è½¬æ¢ä¸€æ¬¡æ˜¯ä»const char åˆ°string å†ä»stringåˆ°entity</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Entity  aa = <span class="built_in">Entity</span>(<span class="string">&quot;mkk&quot;</span>);<span class="comment">//Entity aa = &quot;mkk&quot;;//aa(&quot;mkk&quot;); Entity aa = Entity(&quot;mkk&quot;);</span></span><br><span class="line"><span class="comment">//æœªæ³¨é‡Šçš„å†™æ³•æ˜¯ä¸€ç§éšå¼è½¬æ¢ åœ¨æ„é€ å‡½æ•°å‰é¢åŠ ä¸Šexplicitå¯ä»¥ç¦æ­¢éšå¼è½¬æ¢ å¿…é¡»æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•°æ‰å¯ä»¥æ¯”å¦‚Entity aa(&quot;mkk&quot;);</span></span><br><span class="line">Entity bb = <span class="number">22</span>;<span class="comment">//bb(22);Entity  bb = Entity(22);</span></span><br><span class="line">Entity* aaa = <span class="keyword">new</span> <span class="built_in">Entity</span>(std::<span class="built_in">string</span>(<span class="string">&quot;mkk&quot;</span>));<span class="comment">//ç›´æ¥ Entity* aaa = new Entity(&quot;mkk&quot;)ä¸è¡Œ</span></span><br><span class="line"><span class="keyword">delete</span> aaa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è¿ç®—ç¬¦é‡è½½">è¿ç®—ç¬¦é‡è½½</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector2</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">float</span> x, y;</span><br><span class="line">	<span class="built_in">Vector2</span>(<span class="type">float</span> x, <span class="type">float</span> )</span><br><span class="line">		: <span class="built_in">x</span>(x) ,<span class="built_in">y</span>(y) &#123;&#125;</span><br><span class="line">	<span class="function">Vector2 <span class="title">Add</span><span class="params">(<span class="type">const</span> Vector2&amp; other)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Vector2</span>(x + other.x, y + other.y);</span><br><span class="line">	&#125;</span><br><span class="line">	Vector2 <span class="keyword">operator</span>+(<span class="type">const</span> Vector2&amp; other)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Add</span>(other);</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> Vector2&amp; other) <span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x == other.x  &amp;&amp; y == other.y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> Vector2&amp; other)</span><br><span class="line">&#123;</span><br><span class="line">	stream &lt;&lt; other.x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; other.y ;</span><br><span class="line">	<span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    	<span class="function">Vector2 <span class="title">p</span><span class="params">(<span class="number">4.0f</span>, <span class="number">4.0f</span>)</span></span>;</span><br><span class="line">	<span class="function">Vector2 <span class="title">s</span><span class="params">(<span class="number">0.5f</span>, <span class="number">1.1f</span>)</span></span>;</span><br><span class="line">	Vector2 result1 = p + s;</span><br><span class="line">	std::cout &lt;&lt; p &lt;&lt; std::endl;</span><br><span class="line">	std::cout &lt;&lt; result1 &lt;&lt; std::endl;</span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="this">this</h2>
<p>this æ˜¯ä¸€ä¸ªæŒ‡å‘å½“å‰å¯¹è±¡å®ä¾‹çš„æŒ‡é’ˆï¼Œè¯¥æ–¹æ³•å±äºè¿™ä¸ªå¯¹è±¡çš„å®ä¾‹ã€‚</p>
<p>ä¸ºäº†è°ƒç”¨éé™æ€æ–¹æ³•ï¼Œè¦ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ è¿™å°±è¦ç”¨åˆ°this</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">Void <span class="title">PrintEntity</span><span class="params">(<span class="type">const</span> Entity&amp; e)</span><span class="comment">//ç±»å†…è¦ç”¨å…ˆå£°æ˜ä¸€ä¸‹</span></span></span><br><span class="line"><span class="function"><span class="keyword">class</span> Entity</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="type">int</span> x,y;</span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">int</span> x ,<span class="type">int</span> y)<span class="comment">//è¿™é‡Œçš„xå’Œæˆå‘˜åä¸€æ ·ç›´æ¥x=x;ä¸è¡Œ å½“ç„¶</span></span><br><span class="line">        <span class="comment">//:x(x),y(y)å¯ä»¥</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Entity* const e =this; </span></span><br><span class="line">        <span class="keyword">this</span>-&gt;x=x;</span><br><span class="line">        <span class="keyword">this</span>-&gt;y=y;</span><br><span class="line">        Entity&amp; e = *<span class="keyword">this</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">PrintEntity</span>(*<span class="keyword">this</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//delet this å¯ä»¥ä½†ä¸è¦</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">GetX</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">const</span> Entity&amp; e = *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Void <span class="title">PrintEntity</span><span class="params">(<span class="type">const</span> Entity&amp; e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//Print</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä½œç”¨åŸŸæŒ‡é’ˆ">ä½œç”¨åŸŸæŒ‡é’ˆ</h2>
<p>è‡ªåŠ¨æ¶ˆé™¤new åˆ›å»ºçš„ä¸œè¥¿</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ScopedPtr</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Entity* m_Ptr;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ScopedPtr</span>(Entity* ptr)</span><br><span class="line">        : <span class="built_in">m_Ptr</span>(ptr)</span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    ~<span class="built_in">ScopedPtr</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> m_Ptr;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">       ScopedPtr e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">        </span><br><span class="line">    &#125;<span class="comment">//å°½ç®¡ç”¨æ¥äº†new ä½†æ˜¯ScopedPtr åœ¨ä½œç”¨åŸŸä¹‹åä¼šè‡ªåŠ¨é”€æ¯Entity</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ™ºèƒ½æŒ‡é’ˆ">æ™ºèƒ½æŒ‡é’ˆ</h2>
<p>è®©ä½ æ‘†è„±new å’Œdeleteçš„æ–¹æ³•</p>
<p>unique_pträ½ ä¸èƒ½å¤åˆ¶ä»– ä¸€å¤åˆ¶å°±æ¶ˆå¤±ä¸€ä¸ª</p>
<p>shared_pträ¼šè®¡æ•°ä½  çš„å¼•ç”¨ï¼ˆå¤åˆ¶æˆ–è€…å…±äº«ï¼‰ å½“è®¡æ•°ä¸º0 é‡Šæ”¾å†…å­˜</p>
<p>weak_ptr ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°å…¶ä»–å’Œshared_pträ¸€æ ·</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">//std::unique_ptr&lt;Entity&gt; entity(new Entity());</span></span><br><span class="line">	std::unique_ptr&lt;Entity&gt; entity = std::<span class="built_in">make_unique</span>&lt;Entity&gt;();</span><br><span class="line">	<span class="comment">//std::unique_ptr&lt;Entity&gt; e0 = entity; ä¸è¡Œ</span></span><br><span class="line">	entity-&gt;<span class="built_in">Print</span>();<span class="comment">//(*entity).Print();</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	std::shared_ptr&lt;Entity&gt; e0;</span><br><span class="line">	&#123;</span><br><span class="line">		std::shared_ptr&lt;Entity&gt; sharedEntity = std::<span class="built_in">make_shared</span>&lt;Entity&gt;();</span><br><span class="line"></span><br><span class="line">		std::shared_ptr&lt;Entity&gt; e0 = sharedEntity;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;<span class="comment">//e0è¿˜åœ¨ å› ä¸ºç°åœ¨å¼•ç”¨è®¡æ•°æ˜¯1</span></span><br><span class="line">&#125;<span class="comment">//e0ä¼šåšæŒåˆ°è¿™é‡Œ</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	std::weak_ptr&lt;Entity&gt; e1;</span><br><span class="line">	&#123;</span><br><span class="line">		std::shared_ptr&lt;Entity&gt; sharedEntity1 = std::<span class="built_in">make_shared</span>&lt;Entity&gt;();</span><br><span class="line">		e1 = sharedEntity1;</span><br><span class="line">	&#125;<span class="comment">//e1æ¶ˆå¤± å› ä¸ºweak_pträ¸å¢åŠ å¼•ç”¨è®¡æ•°</span></span><br><span class="line">&#125;<span class="comment">//e1ä¸ä¼šåšæŒåˆ°è¿™é‡Œ</span></span><br></pre></td></tr></table></figure>
<h2 id="cçš„å¤åˆ¶ä¸æ‹·è´">c++çš„å¤åˆ¶ä¸æ‹·è´</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a =<span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b =a;<span class="comment">//abæ˜¯ä¸¤ä¸ªä¸åŒçš„çš„å˜é‡ æœ‰ä¸åŒçš„åœ°å€</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Vector2 * a= new Vector2();</span><br><span class="line">Vector2 * b =a;</span><br><span class="line">b-&gt;x=2;</span><br></pre></td></tr></table></figure>
<h2 id="ç®­å¤´ç®—ç¬¦-">ç®­å¤´ç®—ç¬¦-&gt;</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">e-&gt;x=<span class="number">0</span>;<span class="comment">// (*e).x=0;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector3</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">float</span> x, y,z;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> offset= (<span class="type">int</span>)&amp;((Vector3*)<span class="literal">nullptr</span>)-&gt;z;</span><br><span class="line">	std::cout&lt;&lt; offset &lt;&lt; std:;endl;<span class="comment">//xæ‰“å°0 yæ‰“å°4 zæ‰“å°8</span></span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŠ¨æ€æ•°ç»„">åŠ¨æ€æ•°ç»„</h2>
<p>Vector å…¶å®æ˜¯arraylist</p>
<p>ä¸€èˆ¬å¾ˆæ…¢è¦ä¼˜åŒ–</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt; string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Vertex</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">float</span> x, y, z;</span><br><span class="line">	<span class="built_in">Vertex</span>(<span class="type">float</span> x, <span class="type">float</span> y, <span class="type">float</span> z)</span><br><span class="line">		: <span class="built_in">x</span>(x), <span class="built_in">y</span>(y), <span class="built_in">z</span>(z)</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">Vertex</span>(<span class="type">const</span> Vertex&amp; vertex)</span><br><span class="line">		: <span class="built_in">x</span>(vertex.x) ,<span class="built_in">y</span>(vertex.y),<span class="built_in">z</span>(vertex.z)</span><br><span class="line">	&#123;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;copied!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> Vertex&amp; vertex)</span><br><span class="line">&#123;</span><br><span class="line">	stream &lt;&lt; vertex.x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; vertex.y &lt;&lt; <span class="string">&#x27;,&#x27;</span> &lt;&lt; vertex.z;</span><br><span class="line">	<span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Function</span><span class="params">(<span class="type">const</span> std::vector&lt;Vertex&gt;&amp; vertices)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::vector&lt;Vertex&gt; vertices;<span class="comment">//å°½é‡ä¸è¦ç”¨æŒ‡é’ˆåˆ†é…å› ä¸ºè¿™æ ·å¯ä»¥åœ¨ä¸€æ¡çº¿ä¸Šå­˜å‚¨ä¼šæ›´å¿« </span></span><br><span class="line">	<span class="comment">//å½“ç„¶å¦‚æœä¸€æ¡çº¿ä¸å¤Ÿ è¦é‡æ–°åˆ†é…å†…å­˜è¦å¤åˆ¶ä¼šå¾ˆæ…¢è¿™æ—¶å€™æŒ‡é’ˆä¼šå¥½ä¸€äº›å› ä¸ºæ•°æ®ä¸åœ¨è¿ç»­å†…å­˜é‡Œ</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//vertices.reserve(3);å‘Šè¯‰è¦åˆ†é…å¤šå°‘å†…å­˜è¿™æ ·åœ¨å†…å­˜å°äº3æ—¶ä¸ç”¨å‡å°‘å†…å­˜å¯ä»¥å‡å°‘å¤åˆ¶</span></span><br><span class="line">	vertices.<span class="built_in">push_back</span>(&#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> &#125;);<span class="comment">//ä¼šäº§ç”Ÿä¸¤æ¬¡å¤åˆ¶ ä¸€æ¬¡æ˜¯æŠŠåœ¨mainå‡½æ•°æ ˆä¸Šçš„å˜é‡å¤åˆ¶åˆ°vecotoré‡Œé¢ </span></span><br><span class="line">	<span class="comment">//ä¸€æ¬¡æ˜¯è°ƒæ•´å¤§å°çš„å¤åˆ¶</span></span><br><span class="line">	vertices.<span class="built_in">push_back</span>(&#123;<span class="number">16</span>,<span class="number">73</span>,<span class="number">9</span> &#125;);<span class="comment">//vertices.emplace_back(16,73,9 );</span></span><br><span class="line">	<span class="comment">//æ³¨é‡Šè¿™æ®µç›´æ¥åœ¨vecotoré‚£é‡Œå»ºç«‹å˜é‡æ‰€ä»¥ä¸ä¼šå¢åŠ å¤åˆ¶</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">Function</span>(vertices);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vertices.<span class="built_in">size</span>(); i++)</span><br><span class="line">		std::cout &lt;&lt; vertices[i] &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">	vertices.<span class="built_in">erase</span>(vertices.<span class="built_in">begin</span>() + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (Vertex v : vertices)  <span class="comment">//Vetex&amp; v : vertices</span></span><br><span class="line">		std::cout &lt;&lt; v &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¼˜åŒ–æŠ€å·§</p>
<p><code>vertices.reserve(3);</code></p>
<p><code>vertices.emplace_back(1,2,3);</code></p>
<h2 id="cä½¿ç”¨åº“">c++ä½¿ç”¨åº“</h2>
<p>åº“åŒ…å« åº“ç›®å½•libraryå’ŒåŒ…å«ç›®å½•include åŒ…å«ç›®å½•æ˜¯ä¸€å †å¤´æ–‡ä»¶
libç›®å½•æ˜¯é¢„å…ˆæ„å»ºçš„äºŒè¿›åˆ¶æ–‡ä»¶</p>
<p>åŠ¨æ€åº“å’Œé™æ€åº“åŒºåˆ«æ˜¯é™æ€åº“å·²ç»åŒ…å«åœ¨exeé‡Œé¢äº†
è€ŒåŠ¨æ€åº“è¦æ˜¯é€šè¿‡exeåœ¨è¿è¡Œæ—¶è°ƒç”¨å¤–éƒ¨åº“å‡½æ•°è¦é¢å¤–é“¾æ¥</p>
<p>https://www.glfw.org/</p>
<p>ä¸‹ä½ è¦çš„æ–‡ä»¶ 32 æˆ–64</p>
<p>ç„¶åä¼šç”¨åˆ°include å’Œlib-vrc20ï¼Ÿï¼Ÿ(é€‰æœ€æ–°çš„)</p>
<p>åœ¨lib-vrc20ï¼Ÿï¼Ÿé‡Œé¢</p>
<p>glfw3.dll è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥çš„åº“</p>
<p>glfw3dll.libæ˜¯ä¸€ç§é™æ€åº“ å’Œglfw3.dllä¸€èµ·ç”¨
(å¯ä»¥ä¸ç”¨æˆ‘ä»¬å¯ä»¥åœ¨glfw3.dllè®¿é—® ä½†æœ‰å®ƒå¯ä»¥æ›´å¿«)</p>
<p>glfw3.libé™æ€åº“(ä½ ä¸æƒ³ç”¨å…¶ä»–ä¸¤ä¸ªdllå¯ä»¥é“¾æ¥å®ƒ)</p>
<h2 id="cåˆ›å»ºä½¿ç”¨åº“">C++åˆ›å»ºä½¿ç”¨åº“</h2>
<p>åˆ›å»ºä¸€ä¸ªgameé¡¹ç›® åœ¨é‡Œé¢åˆ›å»ºsrc åˆ›å»ºAppliction.cpp åœ¨game
æ·»åŠ ä¸€ä¸ªEngineé¡¹ç›® ç„¶åè®¾ç½®å±æ€§ å¸¸è§„ é…ç½®ç±»å‹ä¸ºé™æ€åº“ æ·»åŠ  Engine
ä¸€ä¸ªsrc åˆ›å»ºEngine.h Engine.cpp</p>
<p>ç‚¹å‡»gameè§£å†³æ–¹æ¡ˆå±æ€§ C/C++ é™„å±åŒ…å«ç›®å½•å¡«å…¥
<code>$(SolutionDir)Engine\src;</code>
ç‚¹å‡»gameè§£å†³æ–¹æ¡ˆåœ¨æ·»åŠ é‡Œç‚¹å¼•ç”¨å‹¾é€‰ Engine</p>
<h2 id="cè¿”å›å¤šä¸ªå€¼æ–¹æ³•">C++è¿”å›å¤šä¸ªå€¼æ–¹æ³•</h2>
<p>å†™ä¸€ä¸ªç»“æ„ä½“è¿”å›ï¼ˆå¯ä»¥è¿”å›ä¸åŒç±»å‹ï¼‰</p>
<p>ä¼ å…¥å¼•ç”¨</p>
<p>ä¼ å…¥æŒ‡é’ˆ ï¼ˆå¯ä»¥ä¼ å…¥nullptr åšä¸€ä¸ªæ£€æµ‹å†³å®šæ˜¯å¦æ”¹å˜å€¼ï¼‰</p>
<p>è¿”å›ä¸€ä¸ªæ•°ç»„</p>
<p>Arrayä¼šåœ¨æ ˆä¸Šåˆ›å»º Vector ä¼šæŠŠå®ƒçš„åº•å±‚å­˜åœ¨å †ä¸Š æ‰€ä»¥
std::arrayä¼šæ›´å¿«</p>
<p>è¿”å›å…ƒç»„tuple or pair</p>
<h2 id="cæ¨¡æ¿template">c++æ¨¡æ¿template</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;<span class="comment">//template&lt;class T&gt;ä¹Ÿè¡Œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(T value)</span>:</span></span><br><span class="line"><span class="function">&#123;</span></span><br><span class="line">    std::cout &lt;&lt; value &lt;&lt; std::endl;<span class="comment">//templateåªæœ‰åœ¨ä½ è°ƒç”¨æ—¶æ‰ä¼šå®ç°</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥å¦‚æœåé¢æ²¡æœ‰ç”¨Print ä½ å³ä½¿æ‰“é”™äº†value ä¸ºvaluä¹Ÿä¸ä¼šæŠ¥é”™ï¼›</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T ,<span class="type">int</span> N&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">private</span>:</span><br><span class="line">   T <span class="type">int</span> m_Array[N];</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">GetSize</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> N;&#125;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> main </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">Print</span>&lt;<span class="type">int</span>&gt;(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">Print</span>(<span class="number">5.5f</span>);</span><br><span class="line">    Array&lt;<span class="type">int</span>,<span class="number">5</span>&gt; array;</span><br><span class="line">    std::cout &lt;&lt; array.<span class="built_in">GetSize</span>() &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>mete programme</p>
<h2 id="cçš„å †ä¸æ ˆå†…å­˜çš„æ¯”è¾ƒ">C++çš„å †ä¸æ ˆå†…å­˜çš„æ¯”è¾ƒ</h2>
<h2 id="cå®">C++å®</h2>
<p>è¿™é‡Œä¸»è¦è®²åœ¨c++ç”¨é¢„å¤„ç†å™¨æ¥â€œå®â€åŒ–ä¸€äº›æ“ä½œã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> std::cin.get()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOG(x) std::cout &lt;&lt; x &lt;&lt; std::endl</span></span><br><span class="line"><span class="type">int</span> main </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">LOG</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">	WAIT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨visual studio é‡Œé¢Debug æ¨¡å¼å®šä¹‰ C/C++ preprocessor é‡Œé¢
å®šä¹‰PR_DEBUG</p>
<p>Release æ¨¡å¼å®šä¹‰ C/C++ preprocessor é‡Œé¢
å®šä¹‰PR_RELEASEå¯ä»¥åˆ©ç”¨ä¸‹é¢çš„ä»£ç åœ¨ä¸åŒæ¨¡å¼é€‰æ‹©æ˜¯å¦æ‰“å°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//#define PR_DEBUG=1 è¿™ä¹Ÿå¯åœ¨C/C++  preprocessor è®¾ç½®</span></span><br><span class="line"><span class="comment">//#ifdef PR_DEBUG == 1 </span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> PR_DEBUG</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOG(x) std::cout &lt;&lt; x &lt;&lt; std::endl</span></span><br><span class="line"><span class="meta">#esle</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOG(X)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p><code>\</code>enter çš„è½¬ä¹‰ä½ å¯èƒ½åœ¨å†™å¾ˆé•¿çš„å®ç”¨ä¸Š åé¢åˆ«æ¥å›è½¦</p>
<p>æŠŠnew ç”¨å® å®šä¹‰ä¸ºä¸€ä¸ªåˆ«çš„è¯ å¯ä»¥è‡ªåŠ¨è·Ÿè¸ª å“ªäº›æ–‡ä»¶ç”¨äº†å®ƒ
åˆ†é…äº†å¤šå°‘å†…å­˜</p>
<h2 id="auto">auto</h2>
<p>å¯ä»¥è‡ªåŠ¨è®¡ç®—å‡ºç±»å‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int a = 5;</span><br><span class="line">auto b = a;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ˜¯å¦åº”è¯¥åˆ°å¤„ä½¿ç”¨autoï¼Ÿ</p>
<p>ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ å½“ä½ ä¼šæ”¹å˜å‡½æ•°ç±»å‹æ—¶ ä½ èµ‹å€¼ çš„å˜é‡æ˜¯auto
ä½ å°±ä¸ç”¨æ”¹å˜å®ƒä»£ç </p>
<p>auto ä¼šä½¿ä½ æä¸æ¸…æ¥šå˜é‡ç±»å‹ å¯è¯»æ€§å·® ç‰¹åˆ«æ˜¯å…¼å®¹æ€§ç±»å‹
ä½ ä¼šä¸çŸ¥é“æ˜¯char* è¿˜æ˜¯ std:string</p>
<p>åœ¨ä½¿ç”¨template æ—¶ ä½ ä¸å¾—ä¸ç”¨æ¨¡æ¿å› ä¸ºä½ ä¸çŸ¥é“ç±»å‹</p>
<p>ç”¨autoæ›¿æ¢è¶…é•¿çš„ç±»å‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::vector&lt;std::string&gt; string;</span><br><span class="line">strings.<span class="built_in">push_back</span>(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">string.<span class="built_in">push_back</span>(<span class="string">&quot;orange&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = string.<span class="built_in">begin</span>(); it != strings.<span class="built_in">end</span>() ; it++)</span><br><span class="line"><span class="comment">//for (std::vector&lt;std::string&gt;::iterator it = string.begin(); it != strings.end() ; it++)</span></span><br><span class="line">&#123;</span><br><span class="line">	std::cout &lt;&lt; *it &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Device</span> &#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DeviceManager</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	std::unordered_map&lt;std::string,std::vector&lt;Device*&gt;&gt; m_Devices;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">const</span> std::unordered_map&lt;std::string,std::vector&lt;Device*&gt;&gt;&amp; <span class="built_in">GetDevices</span>() <span class="type">const</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> m_Devices;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//using DeviceMap = std::unordered_map&lt;std::string,std::vector&lt;Device*&gt;&gt;</span></span><br><span class="line">        <span class="comment">//typedef std::unordered_map&lt;std::string,std::vector&lt;Device*&gt;&gt;  DeviceMap</span></span><br><span class="line">    DeviceManager dm;</span><br><span class="line">    <span class="comment">//const std::unordered_map&lt;std::string,std::vector&lt;Device*&gt;&gt;&amp; devices = dm.GetDevices();</span></span><br><span class="line">    <span class="comment">//const DeviceMap&amp; devices = dm.GetDevices();</span></span><br><span class="line">    <span class="type">const</span> <span class="keyword">auto</span>&amp; devices = dm.<span class="built_in">GetDevices</span>();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cçš„é™æ€æ•°ç»„">c++çš„é™æ€æ•°ç»„</h2>
<p>std::arrayæœ‰è¾¹ç•Œæ£€æŸ¥ï¼ˆDebugæ—¶æœ‰ï¼‰ æ™®é€šæ•°ç»„æ²¡æœ‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::array&lt;<span class="type">int</span>,5&gt; data;</span><br><span class="line">    data[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">    data[<span class="number">4</span>] = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cçš„å‡½æ•°æŒ‡é’ˆ">C++çš„å‡½æ•°æŒ‡é’ˆ</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Helloworld</span><span class="params">(<span class="type">int</span> a )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;mkk&#x27;</span>&lt;&lt;a&lt;&lt; std::endl;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ForEach</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;&amp; values,<span class="type">void</span>(*func)(<span class="type">int</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> value: values)</span><br><span class="line">        <span class="built_in">func</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">void</span>(*mkk)(a) = Helloworld;</span><br><span class="line">    <span class="built_in">mkk</span>(<span class="number">1</span>);</span><br><span class="line">   <span class="function"><span class="keyword">typedef</span> <span class="title">void</span><span class="params">(*Helloworldf)</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    Helloworldf f1= Helloworld;</span><br><span class="line">    <span class="keyword">auto</span> function = Helloworld;</span><br><span class="line">    <span class="built_in">function</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">f1</span>(<span class="number">1</span>);</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; values=&#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;;</span><br><span class="line">    <span class="built_in">ForEach</span>(values, [](<span class="type">int</span> a)&#123; std::cout &lt;&lt; <span class="string">&quot;value : &quot;</span> &lt;&lt; a &lt;&lt; std::endl;&#125;);</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="lambda">lambda</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span><span class="comment">//std::function</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span><span class="comment">//std::find_if</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ForEach</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;&amp; values,<span class="type">const</span> std::function&lt;<span class="type">void</span>(<span class="type">int</span>)&gt;&amp; func)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> value: values)</span><br><span class="line">        <span class="built_in">func</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::vector&lt;<span class="type">int</span>&gt; values=&#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> it = std::<span class="built_in">find_if</span>(values.<span class="built_in">begin</span>(),values.<span class="built_in">end</span>(),[](<span class="type">int</span> value)&#123; <span class="keyword">return</span> value &gt; <span class="number">3</span>; &#125;);</span><br><span class="line">    std::cout &lt;&lt; *it std::endl;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">5</span> ;</span><br><span class="line">    <span class="keyword">auto</span> lambda = [=](<span class="type">int</span> value) <span class="keyword">mutable</span> &#123; a=<span class="number">111</span>;std:: cout &lt;&lt; <span class="string">&quot;Value:&quot;</span> &lt;&lt;a &lt;&lt; std::endl;&#125;;<span class="comment">//[]è¡¨ç¤ºæ•è·æ–¹å¼è¿™é‡Œç”¨äºç­‰å€¼ä¼ å…¥a mutable è®©æˆ‘ä»¬å¯ä»¥å¯¹aèµ‹å€¼</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆä¸ç”¨ using namespaceï¼Ÿ</p>
<p>ä¼šå¾ˆéš¾åˆ†è¾¨å“ªäº›æ˜¯æ ‡å‡†åº“çš„å‡½æ•° åŒæ—¶å¤–éƒ¨çš„åº“ä½¿ç”¨ ä¹‹é—´æœ‰åŒåå‡½æ•°ä¹Ÿä¼šæ··æ·†
ç”šè‡³ä¼šå‡ºç°æ²¡æœ‰ç¼–è¯‘é”™è¯¯æ‰¾ä¸åˆ°çš„bug</p>
<p>ä¾‹å­</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#inclued<span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line">namespece apple</span><br><span class="line">&#123;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> std ::string&amp; text)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> 	std::cout &lt;&lt; text &lt;&lt; std::endl;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">namespece orange</span><br><span class="line">&#123;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* text)</span></span></span><br><span class="line"><span class="function"> </span>&#123;	</span><br><span class="line"> 	std::string temp =text;</span><br><span class="line"> 	std::<span class="built_in">reverse</span>(temp.<span class="built_in">begin</span>(),temp.end)</span><br><span class="line"> 	std::cout &lt;&lt; temp &lt;&lt; std::endl;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> main</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> apple;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> orange;</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;Hello&quot;</span>);<span class="comment">//æ‰“å°å‡ºolleH å› ä¸ºoragne å®šä¹‰çš„print ä¸ç”¨éšå¼è½¬æ¢æ‰€ä»¥ä¼šè°ƒç”¨å®ƒ æ²¡æœ‰ç¼–è¯‘é”™è¯¯ ä½ å¾ˆéš¾å‘ç°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cçš„åç§°ç©ºé—´">c++çš„åç§°ç©ºé—´</h2>
<p>æ„Ÿè§‰æ²¡ä»€ä¹ˆç”¨ ä¸è¿‡å¯ä»¥åµŒå¥—å¥½åƒæœ‰ç‚¹ä¸åŒ ä½†æ˜¯åµŒå¥—ä¼šä¸ä¼šå¤ªå¤æ‚äº†</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> a=apple;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> apple;</span><br><span class="line"><span class="keyword">using</span> apple::print;</span><br></pre></td></tr></table></figure>
<h2 id="cçº¿ç¨‹">c++çº¿ç¨‹</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span>  <span class="type">bool</span> s_Finished = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Doworker</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;	</span><br><span class="line">	<span class="keyword">using</span> <span class="keyword">namespace</span> std::literals::chrono_literals;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;started thread id= &quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">while</span> (!s_Finished)</span><br><span class="line">	&#123;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;working ..\n&quot;</span>;</span><br><span class="line">		std::this_thread::<span class="built_in">sleep_for</span>(<span class="number">1</span>s);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">worker</span><span class="params">(Doworker)</span></span>;</span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line">	s_Finished = <span class="literal">true</span>;</span><br><span class="line">	worker.<span class="built_in">join</span>();<span class="comment">//è®©ä¸»çº¿ç¨‹ç­‰å¾…å·¥ä½œçº¿ç¨‹å®Œæˆå·¥ä½œ</span></span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;finshed&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;started thread id= &quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; std::endl;</span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//started thread id = 18864</span></span><br><span class="line">	<span class="comment">//	working ..</span></span><br><span class="line">	<span class="comment">//	working ..</span></span><br><span class="line">	<span class="comment">//	working ..</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//	finshed</span></span><br><span class="line">	<span class="comment">//	started thread id = 27916</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="cæ—¶é—´">c++æ—¶é—´</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Timer</span></span><br><span class="line">&#123;</span><br><span class="line">	std::chrono::time_point&lt;std::chrono::steady_clock&gt; start, end;</span><br><span class="line">	std::chrono::duration&lt;<span class="type">float</span>&gt; duration;</span><br><span class="line">	<span class="built_in">Timer</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		start = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Timer</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		end = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">		duration = end - start;</span><br><span class="line">		</span><br><span class="line">		<span class="type">float</span> ms = duration.<span class="built_in">count</span>() * <span class="number">1000.0f</span>;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;Timer took&quot;</span> &lt;&lt; ms &lt;&lt; <span class="string">&quot;ms&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Function</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Timer timer;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;Hello\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">Function</span>();</span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½ è®¡æ—¶çš„æ—¶å€™è¦äº†è§£ä»£ç æ˜¯å¦è¢«è®¡ç®— æ¯”å¦‚ä¸‹é¢çš„ä»£ç  åœ¨debugæ¨¡å¼æ—¶
ç¼–è¯‘çš„ç»“æœç¨‹åºæ˜¯ä¼šä¸€æ­¥ä¸€æ­¥å¾ªç¯ç„¶åè¾“å‡ºvalue ä½†æ˜¯release æ¨¡å¼ ä¼šä¼˜åŒ–ä»£ç 
ç¼–è¯‘æ—¶å°±å·²ç»è®¡ç®—å®Œè¿ç®—çš„å€¼äº† ç›´æ¥åœ¨ç¼–è¯‘ç»“æœçš„ç¨‹åºè¾“å‡ºvalueã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Timer</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">Timer</span>()</span><br><span class="line">    &#123;</span><br><span class="line">             <span class="keyword">auto</span> m_StartTimerpoint = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Timer</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">stop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">stop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> endTimepoint = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">auto</span> start= std::chrono::<span class="built_in">time_point_cast</span>&lt;std::chrono::microseconds&gt;(m_StartTimerpoint).<span class="built_in">time_since_epoch</span>().<span class="built_in">count</span>();</span><br><span class="line">                <span class="keyword">auto</span> end= std::chrono::<span class="built_in">time_point_cast</span>&lt;std::chrono::microseconds&gt;(endTimepoint).<span class="built_in">time_since_epoch</span>().<span class="built_in">count</span>();</span><br><span class="line">        <span class="keyword">auto</span> duration = end -start;</span><br><span class="line">        <span class="type">double</span> ms = duration * <span class="number">0.001</span>;</span><br><span class="line">        </span><br><span class="line">        std::cout &lt;&lt; duration&lt;&lt; <span class="string">&quot;us (&quot;</span>&lt;&lt;ms&lt;&lt;<span class="string">&quot;ms)\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    std:;chrono::time_point&lt;std::chrono::high_resolution_clock&gt; m_StartTimerpoint;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> value = <span class="number">0</span>;</span><br><span class="line">    &#123;</span><br><span class="line">    	Timer timer;</span><br><span class="line">    	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span> ;i &lt; <span class="number">10000000</span>; i++)</span><br><span class="line">        	value +=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    std::cout&lt;&lt; value &lt;&lt;std::endl;</span><br><span class="line">    __debugbreak();<span class="comment">//è®¾ç½®æ–­ç‚¹</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cå¤šç»´æ•°ç»„">C++å¤šç»´æ•°ç»„</h2>
<p>c++å¤šç»´æ•°ç»„æ˜¯æ•°ç»„çš„æ•°ç»„ å³å­˜ä¸€å †æŒ‡é’ˆçš„æŒ‡é’ˆã€‚å’Œæˆ‘æƒ³çš„ä¸ä¸€æ ·
æˆ‘ä»¥ä¸ºæ˜¯ä¸€ä¸ªæŒ‡é’ˆä¸€å †è¿ç»­å†…å­˜æœ‰å‡½æ•°æŠŠä¸€ç»´çš„æ˜ å°„ä¸ºå¤šç»´ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>** a2d = <span class="keyword">new</span> <span class="type">int</span>* [<span class="number">50</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++)</span><br><span class="line">	a2d[i] = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">50</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>*** a3d = <span class="keyword">new</span> <span class="type">int</span>** [<span class="number">50</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	a3d[i] = <span class="keyword">new</span> <span class="type">int</span>* [<span class="number">50</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">50</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		a3d[i][j] = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">50</span>];<span class="comment">//int** ptr = a3d[i];</span></span><br><span class="line">		<span class="comment">//ptr[j] = new int[50];</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">a3d[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++)</span><br><span class="line">	<span class="keyword">delete</span>[] a2d[i];</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span>[] a2d;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">50</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">delete</span>[] a3d[i][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">delete</span>[] a3d[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[] a3d;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å¾ˆæ…¢ å› ä¸ºé…ç½®çš„å†…å­˜ä¸æ˜¯è¿ç»­çš„æ‰€ä»¥ ä¼šé€ æˆæ›´å¤šcache miss</p>
<h2 id="cæ’åº">c++æ’åº</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	std::vector&lt;<span class="type">int</span>&gt; values = &#123; <span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">20</span> &#125;;</span><br><span class="line">	<span class="comment">//std::sort(values.begin(), values.end(), std::greater&lt;int&gt;());æœ€å¤§çš„æ’æœ€å‰é¢</span></span><br><span class="line">	std::<span class="built_in">sort</span>(values.<span class="built_in">begin</span>(), values.<span class="built_in">end</span>(), [](<span class="type">int</span> a, <span class="type">int</span> b)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (a == <span class="number">1</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//å¦‚æœè¿”å›false åˆ™aæ’åˆ°å‰é¢</span></span><br><span class="line">			<span class="keyword">if</span> (b == <span class="number">1</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//å¦‚æœè¿”å›false åˆ™aæ’åˆ°å‰é¢</span></span><br><span class="line">			<span class="keyword">return</span> a&lt; b;<span class="comment">//å¦‚æœè¿”å›false åˆ™</span></span><br><span class="line">		&#125;);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> value : values)</span><br><span class="line">		std::cout &lt;&lt; value &lt;&lt; std:: endl;</span><br><span class="line"></span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="cç±»å‹åŒå…³">c++ç±»å‹åŒå…³</h2>
<p>æŠŠä¸€æ®µç±»å‹å†…å­˜å½“å¦ä¸€ä¸ªç±»å‹ç”¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x, <span class="type">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> a = <span class="number">50</span>;</span><br><span class="line">	<span class="type">double</span>&amp; value = *(<span class="type">double</span>)&amp;a;<span class="comment">//	double value = *(double)&amp;a;æ²¡æœ‰&amp;ç›´æ¥å¤åˆ¶ä¼šæœ‰é—®é¢˜</span></span><br><span class="line">	<span class="comment">//å¾ˆå±é™©value = 0.0; å°±ä¼šç„¶ç¨‹åºå´©æºƒ æˆ‘ä»¬åªæœ‰4å­—èŠ‚å´è¦å­˜8å­—èŠ‚</span></span><br><span class="line">	Entity e = &#123;<span class="number">5</span>, <span class="number">8</span>&#125;;</span><br><span class="line">	<span class="type">int</span>* position = (<span class="type">int</span>*)&amp;e;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> y = *((<span class="type">char</span>*)&amp;e +<span class="number">4</span>);</span><br><span class="line">	</span><br><span class="line">	std::cout &lt;&lt; position[<span class="number">0</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; position[<span class="number">1</span>] &lt;&lt;std::endl;</span><br><span class="line">	std::cout &lt;&lt; y &lt;&lt;std::endl;</span><br><span class="line">	</span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cunion">c++union</h2>
<h2 id="cè™šæ„æå‡½æ•°">c++è™šæ„æå‡½æ•°</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">    Public:</span><br><span class="line">    	<span class="built_in">Base</span>()&#123; std::cout &lt;&lt; <span class="string">&quot;Base Constructor\n&quot;</span>;&#125;</span><br><span class="line">    	~<span class="built_in">Base</span>()&#123;std::cout &lt;&lt; <span class="string">&quot;Base Destructor\n&quot;</span>;&#125;<span class="comment">//virtual  ~Base()&#123;std::cout &lt;&lt; &quot;Base Destructor\n&quot;;&#125;//è™šæ„æå‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="built_in">Derived</span>()&#123;m_array= <span class="keyword">new</span> <span class="type">int</span>[<span class="number">5</span>];std::cout &lt;&lt; <span class="string">&quot;Derived Constructor\n&quot;</span>;&#125;</span><br><span class="line">    	~<span class="built_in">Derived</span>()&#123;<span class="keyword">delete</span>[] m_array; std::cout &lt;&lt; <span class="string">&quot;Derived Destructor\n&quot;</span>;&#125;</span><br><span class="line"><span class="keyword">private</span>: </span><br><span class="line">	<span class="type">int</span>* m_array;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Base* base = <span class="keyword">new</span> <span class="built_in">Base</span>();</span><br><span class="line">    delet baes;</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;--------------\n&quot;</span>;</span><br><span class="line">    Derived* derived = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">    <span class="keyword">delete</span> derived;</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;--------------\n&quot;</span>;</span><br><span class="line">    Base* poly = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">    <span class="keyword">delete</span> poly;<span class="comment">//æ²¡æœ‰è™šæ„æå‡½æ•°m_arrray åˆ†é…çš„å†…å­˜å°±æ— æ³•é‡Šæ”¾</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cç±»å‹è½¬æ¢">c++ç±»å‹è½¬æ¢</h2>
<p>cè¯­è¨€é£æ ¼ç±»å‹è½¬æ¢</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">double</span> value = <span class="number">5.25</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> a = (<span class="type">int</span>)value + <span class="number">5.30</span>;</span><br></pre></td></tr></table></figure>
<p>c++é£æ ¼ç±»å‹è½¬æ¢</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">double</span> s = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(value) +<span class="number">5.3</span>;</span><br></pre></td></tr></table></figure>
<p>å’ŒcåŠŸèƒ½æ²¡å·®åˆ« ä½†æ–¹ä¾¿æ£€ç´¢æŸ¥çœ‹é¿é”™</p>
<p>static_cast reinterpret_castï¼ˆä¸ç±»å‹åŒå…³æœ‰å…³ï¼‰ const_cast</p>
<h3 id="dynamic_cast">dynamic_cast</h3>
<p>ä½¿ç”¨æ—¶ä¼šå­˜å‚¨ è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯(runtime typer information)RTTI</p>
<p>æ‰€ä»¥ä¼šæœ‰å­˜å‚¨ RTTI å’Œè¯»å–RTTIçš„å¼€é”€</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">PrintName</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Enemy</span> : <span class="keyword">public</span> Entity</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Player* player = <span class="keyword">new</span> <span class="built_in">Player</span>();</span><br><span class="line">	Entity* actuallyPlayer = player;</span><br><span class="line">	Entity* actullayEnemy = <span class="keyword">new</span> <span class="built_in">Enemy</span>();</span><br><span class="line">	</span><br><span class="line">	Player* p0= <span class="built_in">dynamic_cast</span>&lt;Player*&gt;(actullayEnemy);<span class="comment">//è½¬æ¢å¤±è´¥è¿”å›ç©ºæŒ‡é’ˆ</span></span><br><span class="line">	<span class="keyword">if</span>(p0)&#123;&#125;;</span><br><span class="line">	Player* p1= <span class="built_in">dynamic_cast</span>&lt;Player*&gt;(actullayPlayer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é¢„ç¼–è¯‘å¤´æ–‡ä»¶">é¢„ç¼–è¯‘å¤´æ–‡ä»¶</h2>
<p>é¢„å…ˆç¼–è¯‘ä¸ä¼šæ”¹åŠ¨å¤´æ–‡ä»¶ä¸ºäºŒè¿›åˆ¶å¯ä»¥å‡å°‘ä»¥åä½ æ”¹åŠ¨é¡¹ç›®ä»£ç  ç¼–è¯‘æ—¶é—´</p>
<p>visual studio</p>
<p>åˆ›å»ºä¸€ä¸ªpch.h å†…å®¹ä½ è¦é¢„ç¼–è¯‘çš„å¤´æ–‡ä»¶</p>
<p>pch.cppå†…å®¹<code>#include "pch.h"</code>è®¾ç½® å±æ€§
&gt;c/c++&gt;é¢„ç¼–è¯‘å¤´ &gt;é¢„ç¼–è¯‘å¤´ é€‰åˆ›å»º ä»¥åŠ é¢„ç¼–è¯‘å¤´æ–‡ä»¶å†™pch.h</p>
<p>Main.cppè¦æœ‰<code>#include "pch.h"</code></p>
<p>é¡¹ç›®å±æ€§ &gt;c/c++&gt;é¢„ç¼–è¯‘å¤´ &gt;é¢„ç¼–è¯‘å¤´ é€‰ä½¿ç”¨ ä»¥åŠ
é¢„ç¼–è¯‘å¤´æ–‡ä»¶å†™pch.h</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">time g++ -std=c++11 pch.h </span><br><span class="line">time g++ -std=c++11 Main.cpp </span><br></pre></td></tr></table></figure>
<h2 id="opengl">OpenGL</h2>
<p>ä¸€ç§è·¨å¹³å°çš„å›¾å½¢API å…è®¸æˆ‘ä»¬æ§åˆ¶æ˜¾å¡ å®ƒçš„æ ¸å¿ƒæ˜¯ä¸€ç§è§„èŒƒ</p>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<p>ä¸€ä¸ªc++å‚è€ƒç½‘ç«™ cppreference.com</p>
<h3 id="visual-studioå¦‚ä½•è®¾ç½®æ‰èƒ½æ”¯æŒc11141720è¿™äº›æ–°æ ‡å‡†çš„ç‰¹æ€§">Visual
Studioå¦‚ä½•è®¾ç½®æ‰èƒ½æ”¯æŒC++11/14/17/20è¿™äº›æ–°æ ‡å‡†çš„ç‰¹æ€§ï¼Ÿ</h3>
<p>è¿™é‡Œä»¥æœ€æ–°çš„ Visual Studio 2022 æ¥è¯´æ˜ä¸€ä¸‹è®¾ç½®æ–¹æ³•å§ï¼Œæ¯•ç«Ÿ Community
ç‰ˆæœ¬éƒ½æ˜¯å¯ä»¥å…è´¹ä½¿ç”¨çš„ã€‚</p>
<p>å½“æ–°å»ºä¸€ä¸ªC++é¡¹ç›®åï¼ˆæ¯”å¦‚æ–°å»ºäº†ä¸€ä¸ªâ€œC++æ§åˆ¶å°åº”ç”¨â€é¡¹ç›®ï¼‰ï¼Œç„¶ååœ¨â€œè§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨â€ä¸­å³å‡»é¡¹ç›®ï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­ç‚¹å‡»æœ€ä¸‹é¢çš„â€œå±æ€§â€ã€‚åœ¨æ‰“å¼€çš„â€œå±æ€§â€çª—å£ä¸­ï¼Œé€‰æ‹©â€œé…ç½®å±æ€§
| C/C++ | è¯­è¨€â€ï¼Œæ‰¾åˆ°â€œC++ è¯­è¨€æ ‡å‡†â€ã€‚å¯ä»¥çœ‹åˆ°å®ƒçš„é»˜è®¤é€‰æ‹©æ˜¯æ”¯æŒâ€œISO
C++14æ ‡å‡†â€ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå½“ç„¶C++14æ ‡å‡†åŒ…å«äº†C++11çš„ç‰¹æ€§</p>
<p>æˆ‘ä»¬ç‚¹å¼€è¿™ä¸ªâ€œC++ è¯­è¨€æ ‡å‡†â€çš„ä¸‹æ‹‰æ¡†ï¼Œå¯ä»¥çœ‹åˆ°å…¶å®ƒé€‰æ‹©æœ‰â€œISO
C++14æ ‡å‡†â€â€œISO C++17æ ‡å‡†â€â€œISO
C++20æ ‡å‡†â€ç­‰ï¼ŒæŒ‰ç…§éœ€è¦é€‰æ‹©å…¶ä¸­ä¸€ä¸ªå°±è¡Œäº†ï¼ˆæç¤ºï¼šé«˜ç‰ˆæœ¬çš„æ ‡å‡†æ˜¯åŒ…å«ä½ç‰ˆæœ¬æ ‡å‡†çš„ç‰¹æ€§çš„ï¼‰ã€‚</p>
<h3
id="å¦‚æœé€‰æ‹©äº†iso-c20æ ‡å‡†è¿˜éœ€è¦æ³¨æ„ä¸‹é¢çš„é—®é¢˜"><strong>å¦‚æœé€‰æ‹©äº†â€œISO
C++20æ ‡å‡†â€ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸‹é¢çš„é—®é¢˜</strong>ï¼š</h3>
<p>Visual C++ 2022 å¯¹
C++20æ ‡å‡†ä¸­çš„â€œæ¨¡å—â€æ–°ç‰¹æ€§å°šæœªå®Œå…¨æ”¯æŒã€‚ç¼–å†™æˆ–ä½¿ç”¨è‡ªå·±çš„â€œæ¨¡å—â€é€šå¸¸æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ï¼Œå¯¼å…¥æ ‡å‡†åº“å¤´æ–‡ä»¶ï¼ˆå¦‚ä¸‹è¯­å¥ï¼‰è¿˜ä¸èƒ½ä½¿ç”¨ï¼Œç¼–è¯‘ä¼šå‡ºé”™ã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼Œå¯ä»¥å‘é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªå•ç‹¬çš„å¤´æ–‡ä»¶ï¼ˆæ¯”å¦‚å«â€œHeaderUnits.hâ€ï¼Œå¦‚ä¸‹å›¾ï¼‰ï¼Œ</p>
<p>åœ¨è¿™ä¸ªå¤´æ–‡ä»¶ä¸­é¢„å…ˆå¯¼å…¥æœ¬é¡¹ç›®ä¸­éœ€è¦å¯¼å…¥çš„æ‰€æœ‰æ ‡å‡†åº“å¤´æ–‡ä»¶ï¼Œæ¯”å¦‚
HeaderUnits.h æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="keyword">import</span> &lt;iostream&gt;;</span><br><span class="line"><span class="keyword">import</span> &lt;vector&gt;;</span><br><span class="line"><span class="keyword">import</span> &lt;optional&gt;;</span><br><span class="line"><span class="keyword">import</span> &lt;utility&gt;;</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨â€œè§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨â€ä¸­å³å‡»
HeaderUnits.hï¼Œé€‰æ‹©ä¸‹æ‹‰èœå•çš„â€œå±æ€§â€ã€‚ç„¶ååœ¨â€œå±æ€§â€çª—å£ä¸­é€‰æ‹©â€œé…ç½®å±æ€§ |
å¸¸è§„â€ï¼Œè®¾ç½®â€œé¡¹ç±»å‹â€ä¸ºâ€œC/C++ç¼–è¯‘å™¨â€ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œç„¶åç‚¹å‡»â€œåº”ç”¨â€æŒ‰é’®ã€‚</p>
<p>ä¸‹ä¸€æ­¥ï¼Œé€‰æ‹©â€œé…ç½®å±æ€§ | C/C++ | é«˜çº§â€ï¼Œå°†â€œç¼–è¯‘ä¸ºâ€è®¾ç½®ä¸ºâ€œä½œä¸º C++
æ ‡å¤´å•å…ƒç¼–è¯‘â€ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œç„¶åç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚(è¿™ä¸€æ­¥ä¸çŸ¥é“æ€ä¸€è®¾ç½®å°±æŠ¥é”™)</p>
<p><a
href="https://www.zhihu.com/tardis/bd/ans/3156194796?source_id=1001">æºåœ°å€</a></p>
<h3 id="visual-studioä¹‹å¦‚ä½•å¿«é€Ÿçš„è¿›è¡Œæ³¨é‡Š">visual
Studioä¹‹å¦‚ä½•å¿«é€Ÿçš„è¿›è¡Œæ³¨é‡Š</h3>
<p>æ³¨é‡Šï¼šé€‰å®šè¦æ³¨é‡Šçš„åŒºåŸŸï¼šctrl+Kï¼Œç„¶åå†ctrl+Cã€‚</p>
<p>è§£æ³¨é‡Šï¼šé€‰å®šè¦æ³¨é‡Šçš„åŒºåŸŸï¼šctrl+Kï¼Œç„¶åå†ctrl+Uã€‚</p>
]]></content>
      <tags>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>mathematica ä»£ç ç‰‡æ®µ</title>
    <url>/post/30c85c6d.html</url>
    <content><![CDATA[<p>å­˜æ”¾ä¸€ä¸‹mmaä»£ç ç‰‡æ®µ</p>
<span id="more"></span>
<p>æ‰¾åˆ°äºŒç»´å³ä¸Šæœ€è¿‘é‚»ä½ç½®å‡½æ•°</p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">nextright</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">]</span> <span class="operator">:=</span> </span><br><span class="line"> <span class="built_in">Block</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">n</span> <span class="operator">=</span> <span class="built_in">Length</span><span class="operator">@</span><span class="variable">x</span><span class="punctuation">&#125;</span><span class="operator">,</span> </span><br><span class="line">  <span class="built_in">Table</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">x</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">i</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="built_in">If</span><span class="punctuation">[</span><span class="variable">i</span> <span class="operator">+</span> <span class="number">1</span> <span class="operator">&gt;</span> <span class="variable">n</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">i</span> <span class="operator">+</span> <span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">i</span><span class="operator">,</span> <span class="variable">n</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">nextleft</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">]</span> <span class="operator">:=</span> </span><br><span class="line"> <span class="built_in">Table</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">x</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">i</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="built_in">If</span><span class="punctuation">[</span><span class="variable">i</span> <span class="operator">-</span> <span class="number">1</span> <span class="operator">&lt;=</span> <span class="number">0</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="variable">i</span> <span class="operator">-</span> <span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">i</span><span class="operator">,</span> <span class="built_in">Length</span><span class="operator">@</span><span class="variable">x</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">nextup</span><span class="punctuation">[</span><span class="type">x_</span><span class="operator">,</span> <span class="type">y_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="built_in">MapThread</span><span class="punctuation">[</span><span class="built_in">List</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">nextdown</span><span class="punctuation">[</span><span class="type">x_</span><span class="operator">,</span> <span class="type">y_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="built_in">MapThread</span><span class="punctuation">[</span><span class="built_in">List</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">y</span><span class="operator">,</span> <span class="variable">x</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">next</span><span class="punctuation">[</span><span class="type">L_</span><span class="punctuation">]</span> <span class="operator">:=</span> </span><br><span class="line"> <span class="built_in">Block</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">M</span> <span class="operator">=</span> <span class="built_in">ArrayReshape</span><span class="punctuation">[</span><span class="built_in">Range</span><span class="punctuation">[</span><span class="variable">L</span><span class="operator">*</span><span class="variable">L</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">L</span><span class="operator">,</span> <span class="variable">L</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">n</span> <span class="operator">=</span> <span class="variable">L</span><span class="operator">*</span><span class="variable">L</span><span class="punctuation">&#125;</span><span class="operator">,</span> </span><br><span class="line">  <span class="built_in">Flatten</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">nextup</span><span class="punctuation">[</span><span class="built_in">Sequence</span> <span class="operator">@@</span> <span class="type">#</span><span class="punctuation">]</span> <span class="operator">&amp;</span> <span class="operator">/@</span> <span class="variable">nextleft</span><span class="punctuation">[</span><span class="variable">M</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">nextright</span> <span class="operator">/@</span> <span class="variable">M</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">nextall</span><span class="punctuation">[</span><span class="type">L_</span><span class="punctuation">]</span> <span class="operator">:=</span> </span><br><span class="line"> <span class="built_in">Block</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">M</span> <span class="operator">=</span> <span class="built_in">ArrayReshape</span><span class="punctuation">[</span><span class="built_in">Range</span><span class="punctuation">[</span><span class="variable">L</span><span class="operator">*</span><span class="variable">L</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">L</span><span class="operator">,</span> <span class="variable">L</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">n</span> <span class="operator">=</span> <span class="variable">L</span><span class="operator">*</span><span class="variable">L</span><span class="punctuation">&#125;</span><span class="operator">,</span> </span><br><span class="line">  <span class="built_in">Sort</span><span class="punctuation">[</span><span class="built_in">Flatten</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">nextup</span><span class="punctuation">[</span><span class="built_in">Sequence</span> <span class="operator">@@</span> <span class="type">#</span><span class="punctuation">]</span> <span class="operator">&amp;</span> <span class="operator">/@</span> <span class="variable">nextleft</span><span class="punctuation">[</span><span class="variable">M</span><span class="punctuation">]</span><span class="operator">,</span> </span><br><span class="line">     <span class="variable">nextup</span><span class="punctuation">[</span><span class="built_in">Sequence</span> <span class="operator">@@</span> <span class="type">#</span><span class="punctuation">]</span> <span class="operator">&amp;</span> <span class="operator">/@</span> <span class="variable">nextright</span><span class="punctuation">[</span><span class="variable">M</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">nextleft</span> <span class="operator">/@</span> <span class="variable">M</span><span class="operator">,</span> </span><br><span class="line">     <span class="variable">nextright</span> <span class="operator">/@</span> <span class="variable">M</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">nextall2</span><span class="punctuation">[</span><span class="type">L_</span><span class="punctuation">]</span> <span class="operator">:=</span> </span><br><span class="line"> <span class="built_in">Block</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">M</span> <span class="operator">=</span> <span class="built_in">ArrayReshape</span><span class="punctuation">[</span><span class="built_in">Range</span><span class="punctuation">[</span><span class="variable">L</span><span class="operator">*</span><span class="variable">L</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">L</span><span class="operator">,</span> <span class="variable">L</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">n</span> <span class="operator">=</span> <span class="variable">L</span><span class="operator">*</span><span class="variable">L</span><span class="punctuation">&#125;</span><span class="operator">,</span> </span><br><span class="line">  <span class="built_in">Partition</span><span class="punctuation">[</span></span><br><span class="line">   <span class="built_in">Sort</span><span class="punctuation">[</span><span class="built_in">Flatten</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">nextup</span><span class="punctuation">[</span><span class="built_in">Sequence</span> <span class="operator">@@</span> <span class="type">#</span><span class="punctuation">]</span> <span class="operator">&amp;</span> <span class="operator">/@</span> <span class="variable">nextleft</span><span class="punctuation">[</span><span class="variable">M</span><span class="punctuation">]</span><span class="operator">,</span> </span><br><span class="line">      <span class="variable">nextup</span><span class="punctuation">[</span><span class="built_in">Sequence</span> <span class="operator">@@</span> <span class="type">#</span><span class="punctuation">]</span> <span class="operator">&amp;</span> <span class="operator">/@</span> <span class="variable">nextright</span><span class="punctuation">[</span><span class="variable">M</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">nextleft</span> <span class="operator">/@</span> <span class="variable">M</span><span class="operator">,</span> </span><br><span class="line">      <span class="variable">nextright</span> <span class="operator">/@</span> <span class="variable">M</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">L</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>mathematica</tag>
      </tags>
  </entry>
  <entry>
    <title>dogvscat ä¸€ä¸ªå…³äºåå˜é‡åç§»ï¼ˆcovariate shiftï¼‰çš„ä¾‹å­</title>
    <url>/post/ea62bbc2.html</url>
    <content><![CDATA[<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/cat.18.jpg" width="100%" /><br />
<br/><br />
<font color="AAAAAA">çŒ«æ²¡å¡é€šåŒ–ä½ çš„è®­ç»ƒé›†</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/cat.10.jpg" width="100%" /><br />
<br/><br />
<font color="AAAAAA">çŒ«å¡é€šåŒ–è¿‡ä½ çš„æµ‹è¯•é›†</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/dog.9835.jpg" width="100%" /><br />
<br/><br />
<font color="AAAAAA">ç‹—æ²¡å¡é€šåŒ–è¿‡ä½ çš„è®­ç»ƒé›†</font><br />

</center>
</td>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/dog.11712.jpg" width="100%" /><br />
<br/><br />
<font color="AAAAAA">ç‹—å¡é€šåŒ–è¿‡ä½ çš„æµ‹è¯•é›†</font><br />

</center>
</td>
</tr>
</table>
<p>ä¸ºäº†ä½“éªŒä¸€ä¸‹åå˜é‡åç§»ï¼ˆcovariate
shiftï¼‰çš„ä¾‹å­æˆ‘è‡ªå·±æ„å»ºäº†ä¸€ä¸ªçŒ«ç‹—åˆ†ç±»çš„æ•°æ®é›†ï¼Œæ•°æ®æ¥è‡ª<a
href="https://www.kaggle.com/competitions/dogs-vs-cats/data?select=train.zip">kaggla
dogvscat</a>çš„è®­ç»ƒé›†ï¼Œæˆ‘æŠŠå®ƒé‡æ–°åˆ†æˆäº†è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸¤éƒ¨åˆ†ç„¶åå¯¹æµ‹è¯•é›†éƒ¨åˆ†è¿›è¡Œå¡é€šåŒ–å¤„ç†ï¼ˆ<a
href="https://github.com/bryandlee/animegan2-pytorch">å¡é€šåŒ–ä»£ç åœ°å€</a>ï¼‰æ„æˆäº†ä¸€ä¸ªåå˜é‡åç§»çš„ä¾‹å­ï¼Œè¯•ç€å®ç°åå˜é‡åç§»çº æ­£ï¼Œä¸è¿‡å¯æƒœçš„äº‹æ•ˆæœå¹¶ä¸å¥½ã€‚</p>
<span id="more"></span>
<h1 id="ç†è®ºéƒ¨åˆ†">ç†è®ºéƒ¨åˆ†</h1>
<h2 id="åˆ†å¸ƒåç§»çš„ç±»å‹">åˆ†å¸ƒåç§»çš„ç±»å‹</h2>
<p>è®­ç»ƒæ•°æ®åˆ†å¸ƒ<span class="math inline">\(p_S(x,y)\)</span>
æµ‹è¯•æ•°æ®åˆ†å¸ƒ<span class="math inline">\(p_T(x,y)\)</span>
ä¸€ä¸ªæ¸…é†’çš„ç°å®æ˜¯ï¼šå¦‚æœæ²¡æœ‰ä»»ä½•å…³äº<span
class="math inline">\(p_S\)</span>å’Œ<span
class="math inline">\(p_T\)</span>ä¹‹é—´ç›¸äº’å…³ç³»çš„å‡è®¾ï¼Œ
å­¦ä¹ åˆ°ä¸€ä¸ªåˆ†ç±»å™¨æ˜¯ä¸å¯èƒ½çš„</p>
<p>å¦‚æœ<span
class="math inline">\(p_S(x)=p_T(x)\)</span>ä½†æ˜¯æ ‡ç­¾å…¨éƒ¨ç¿»è½¬ <span
class="math inline">\(p_S(y|x)=1-p_T(y|x)\)</span>å¦‚æœæˆ‘ä»¬æ­¤æ—¶ç®€å•çš„ä½¿ç”¨<span
class="math inline">\(p_S(x)\)</span>é‚£å¾ˆéš¾å¾—åˆ°å¥½çš„ç»“æœ</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¯¹æ•°æ®å‘ç”Ÿçš„å˜åŒ–è¿›è¡Œä¸€äº›é™åˆ¶çš„å‡è®¾ï¼Œå¹¶ä»¥æ­¤è®¾è®¡å¯ä»¥æ£€æµ‹åç§»å˜åŒ–çš„ç®—æ³•ï¼Œç„¶ååŠ¨æ€è°ƒæ•´æ•°æ®ã€‚</p>
<ol type="1">
<li><p>æƒ…å†µä¸€åå˜é‡åç§»ï¼ˆcovariate shiftï¼‰</p>
<p><span class="math inline">\(p(x)\)</span>æ”¹å˜ <span
class="math inline">\(p(y|x)\)</span>æ²¡æœ‰æ”¹å˜</p></li>
<li><p>æƒ…å†µäºŒ<em>æ ‡ç­¾åç§»</em>ï¼ˆlabel shiftï¼‰<br />
<span class="math inline">\(p(y)\)</span>æ”¹å˜ <span
class="math inline">\(p(x|y)\)</span>æ²¡æœ‰æ”¹å˜</p></li>
<li><p>æƒ…å†µä¸‰ æ¦‚å¿µåç§»ï¼ˆconcept shiftï¼‰<br />
æ ‡ç­¾çš„å®šä¹‰å‘ç”Ÿå˜åŒ–</p></li>
</ol>
<p>ä¸ºäº†æ›´å¥½çš„è®¤è¯†è¿™ä¸€é—®é¢˜æˆ‘ä»¬è¦äº†è§£ç»éªŒé£é™©å’ŒçœŸå®é£é™©çš„æ¦‚å¿µ</p>
<p><em>ç»éªŒé£é™©</em>ï¼ˆempirical risk)</p>
<p><span class="math display">\[
\underset{f}{\operatorname{minimize}} \frac{1}{n} \sum_{i=1}^n
l\left(f\left(\mathbf{x}_i\right), y_i\right)
\]</span><br />
çœŸå®é£é™©ï¼ˆtrue riskï¼‰<br />
<span class="math display">\[
E_{p(\mathbf{x}, y)}[l(f(\mathbf{x}), y)]=\iint l(f(\mathbf{x}), y)
p(\mathbf{x}, y) d \mathbf{x} d y
\]</span></p>
<h2 id="åå˜é‡åç§»çº æ­£">åå˜é‡åç§»çº æ­£</h2>
<p><span class="math inline">\(q(x)\)</span>æºåˆ†å¸ƒ <span
class="math inline">\(p(x)\)</span>ç›®æ ‡åˆ†å¸ƒ å‡è®¾ï¼š<span
class="math inline">\(p(y|x)=q(y|x)\)</span><br />
<span class="math display">\[
\iint l(f(\mathbf{x}), y) p(y \mid \mathbf{x}) p(\mathbf{x}) d
\mathbf{x} d y=\iint l(f(\mathbf{x}), y) q(y \mid \mathbf{x})
q(\mathbf{x}) \frac{p(\mathbf{x})}{q(\mathbf{x})} d \mathbf{x} d y
\]</span></p>
<p>æˆ‘ä»¬éœ€è¦æ ¹æ®æ•°æ®æ¥è‡ªæ­£ç¡®åˆ†å¸ƒä¸æ¥è‡ªé”™è¯¯åˆ†å¸ƒçš„æ¦‚ç‡ä¹‹æ¯”ï¼Œ
æ¥é‡æ–°è¡¡é‡æ¯ä¸ªæ•°æ®æ ·æœ¬çš„æƒé‡<br />
<span class="math display">\[
\beta_i \stackrel{\text { def }}{=}
\frac{p\left(\mathbf{x}_i\right)}{q\left(\mathbf{x}_i\right)}
\]</span></p>
<p>å°†æƒé‡ <span class="math inline">\(\beta_i\)</span>
ä»£å…¥åˆ°æ¯ä¸ªæ•°æ®æ ·æœ¬ <span class="math inline">\(\left(\mathbf{x}_i,
y_i\right)\)</span> ä¸­,
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€åŠ æƒç»éªŒé£é™©æœ€å°åŒ–â€œæ¥è®­ç»ƒæ¨¡å‹:<br />
<span class="math display">\[
\underset{f}{\operatorname{minimize}} \frac{1}{n} \sum_{i=1}^n \beta_i
l\left(f\left(\mathbf{x}_i\right), y_i\right) .
\]</span><br />
<span class="math inline">\(\beta_i\)</span>
å¯ä»¥ç”¨ä¸€ä¸ªäºŒåˆ†ç±»ç½‘ç»œç”Ÿæˆ</p>
<h1 id="ä»£ç å®ç°">ä»£ç å®ç°</h1>
<h3 id="æ•°æ®å¤„ç†">æ•°æ®å¤„ç†</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># kaggleåŸå§‹æ•°æ®é›†åœ°å€</span></span><br><span class="line">original_dataset_dir = <span class="string">&#x27;....train&#x27;</span></span><br><span class="line">total_num = <span class="built_in">int</span>(<span class="built_in">len</span>(os.listdir(original_dataset_dir))/<span class="number">2</span>)   <span class="comment"># total_num=12500</span></span><br><span class="line"><span class="comment"># os.listdir() å¯ä»¥æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•ä¸ªæ•°</span></span><br><span class="line">random_idx = np.array(<span class="built_in">range</span>(total_num))</span><br><span class="line">np.random.shuffle(random_idx)   <span class="comment"># np.random.shuffle()  å¯¹ç¬¬ä¸€ç»´çš„éšæœºæ‰“ä¹±</span></span><br><span class="line">base_dir = <span class="string">&#x27;...dogvscat&#x27;</span>   <span class="comment"># å¾…å¤„ç†çš„æ•°æ®é›†åœ°å€</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(base_dir):</span><br><span class="line">    os.mkdir(base_dir)               <span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># è®­ç»ƒé›†ã€æµ‹è¯•é›†çš„åˆ’åˆ†</span></span><br><span class="line">sub_dirs = [<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;test&#x27;</span>]</span><br><span class="line">animals = [<span class="string">&#x27;cats&#x27;</span>, <span class="string">&#x27;dogs&#x27;</span>]</span><br><span class="line">train_idx = random_idx[:<span class="built_in">int</span>(total_num * <span class="number">0.8</span>):]    <span class="comment"># train_idx=10000</span></span><br><span class="line">test_idx = random_idx[<span class="built_in">int</span>(total_num * <span class="number">0.8</span>)::]  <span class="comment"># test_idx=2500</span></span><br><span class="line">numbers = [train_idx, test_idx]</span><br><span class="line"><span class="keyword">for</span> idx, sub_dir <span class="keyword">in</span> <span class="built_in">enumerate</span>(sub_dirs):</span><br><span class="line">    <span class="built_in">dir</span> = os.path.join(base_dir, sub_dir)   <span class="comment"># os.path.join()å‡½æ•°è¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„è·¯å¾„åç»„ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="built_in">dir</span>):</span><br><span class="line">        os.mkdir(<span class="built_in">dir</span>)</span><br><span class="line">    <span class="keyword">for</span> animal <span class="keyword">in</span> animals:</span><br><span class="line">        animal_dir = os.path.join(<span class="built_in">dir</span>, animal)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(animal_dir):</span><br><span class="line">            os.mkdir(animal_dir)</span><br><span class="line">        fnames = [animal[:-<span class="number">1</span>] + <span class="string">&#x27;.&#123;&#125;.jpg&#x27;</span>.<span class="built_in">format</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> numbers[idx]]</span><br><span class="line">        <span class="keyword">for</span> fname <span class="keyword">in</span> fnames:</span><br><span class="line">            src = os.path.join(original_dataset_dir, fname)</span><br><span class="line">            dst = os.path.join(animal_dir, fname)</span><br><span class="line">            shutil.copyfile(src, dst)   <span class="comment"># srcå¤åˆ¶åˆ°dstä¸­å»</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment"># éªŒè¯è®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†çš„åˆ’åˆ†çš„ç…§ç‰‡æ•°ç›®</span></span><br><span class="line">        <span class="built_in">print</span>(animal_dir + <span class="string">&#x27; total images : %d&#x27;</span> % (<span class="built_in">len</span>(os.listdir(animal_dir))))</span><br></pre></td></tr></table></figure>
<h4
id="å¤åˆ¶testæ–‡ä»¶å¤¹é‡å‘½åä¸ºtestcartoon-è¿›å…¥æ–‡ä»¶å¤¹ä¸‹ç”¨å¦‚ä¸‹çš„ä»£ç å¡é€šåŒ–æµ‹è¯•æ–‡ä»¶å¤¹">å¤åˆ¶testæ–‡ä»¶å¤¹é‡å‘½åä¸ºtestcartoon
è¿›å…¥æ–‡ä»¶å¤¹ä¸‹ç”¨å¦‚ä¸‹çš„ä»£ç å¡é€šåŒ–æµ‹è¯•æ–‡ä»¶å¤¹</h4>
<p><code>python test.py --input_dir ./samples/inputs1 --output dir ./samples/result1/ --device cpu</code></p>
<h4 id="åˆ›å»ºåå˜é‡åç§»æ£€æµ‹å™¨è®­ç»ƒé›†">åˆ›å»ºåå˜é‡åç§»æ£€æµ‹å™¨è®­ç»ƒé›†</h4>
<p>åœ¨dogvscatæ–‡ä»¶å¤¹ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> train2</span><br><span class="line"><span class="built_in">cd</span> train2</span><br><span class="line"><span class="built_in">mkdir</span> cartoon</span><br><span class="line"><span class="built_in">cp</span> ../../testcartoon/cats/*  .</span><br><span class="line"><span class="built_in">cp</span>  ../../testcartoon/dogs/* .</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"><span class="built_in">mkdir</span> normal</span><br><span class="line"><span class="built_in">cd</span> normal</span><br><span class="line"><span class="built_in">cp</span> ../../train/cats/*  .</span><br><span class="line"><span class="built_in">cp</span> ../../train/dogs/*  .</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># å¤„ç†è¿‡çš„æ•°æ®æ–‡ä»¶</span></span><br><span class="line">original_dataset_dir = <span class="string">&#x27;.....train2&#x27;</span><span class="comment">#ä½ çš„æ–‡ä»¶ä½ç½®</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> [<span class="string">&#x27;cartoon&#x27;</span>,<span class="string">&#x27;normal&#x27;</span>]:</span><br><span class="line">    original_dataset_dir2 = os.path.join(original_dataset_dir,j)</span><br><span class="line">    ll=os.listdir(original_dataset_dir2)</span><br><span class="line">    </span><br><span class="line">    total_num = <span class="built_in">int</span>(<span class="built_in">len</span>(ll))</span><br><span class="line">    random_idx = np.array(<span class="built_in">range</span>(total_num))</span><br><span class="line">    np.random.shuffle(random_idx)   <span class="comment"># np.random.shuffle()  å¯¹ç¬¬ä¸€ç»´çš„éšæœºæ‰“ä¹±</span></span><br><span class="line">    base_dir = <span class="string">&#x27;...cartoonvsnormal&#x27;</span>   <span class="comment"># å¾…å¤„ç†çš„æ•°æ®é›†åœ°å€</span></span><br><span class="line">    <span class="comment">#base_dir=os.path.join(base_dir,j)</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(base_dir):</span><br><span class="line">           os.mkdir(base_dir)               <span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line">    train_idx = random_idx[:<span class="built_in">int</span>(total_num * <span class="number">0.8</span>):]    <span class="comment"># train_idx=10000</span></span><br><span class="line">    test_idx = random_idx[<span class="built_in">int</span>(total_num * <span class="number">0.8</span>)::]</span><br><span class="line">    <span class="built_in">print</span>(j,<span class="string">&#x27;train:&#x27;</span>,<span class="built_in">len</span>(train_idx),<span class="string">&#x27;test&#x27;</span>,<span class="built_in">len</span>(test_idx))</span><br><span class="line">    dir1=os.path.join(base_dir, <span class="string">&#x27;train&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dir1):</span><br><span class="line">          os.mkdir(dir1) </span><br><span class="line">    dir1=os.path.join(dir1, j)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dir1):</span><br><span class="line">          os.mkdir(dir1)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> train_idx:</span><br><span class="line">        src = os.path.join(original_dataset_dir2, ll[i])</span><br><span class="line">        dst = os.path.join(dir1, ll[i])</span><br><span class="line">        shutil.copyfile(src, dst)</span><br><span class="line">    <span class="built_in">print</span>(j,<span class="string">&#x27;train&#x27;</span>,<span class="built_in">len</span>(os.listdir(dir1)))</span><br><span class="line">    dir1=os.path.join(base_dir, <span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dir1):</span><br><span class="line">          os.mkdir(dir1) </span><br><span class="line">    dir1=os.path.join(dir1, j)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dir1):</span><br><span class="line">          os.mkdir(dir1)      </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> test_idx:</span><br><span class="line">        src = os.path.join(original_dataset_dir2, ll[i])</span><br><span class="line">        dst = os.path.join(dir1, ll[i])</span><br><span class="line">        shutil.copyfile(src, dst)</span><br><span class="line">    <span class="built_in">print</span>(j,<span class="string">&#x27;test&#x27;</span>,<span class="built_in">len</span>(os.listdir(dir1)))</span><br></pre></td></tr></table></figure>
<p>ç„¶åä½ å¯ä»¥åˆ é™¤train2</p>
<p>ä»¥ä¸‹æ˜¯å¤§æ¦‚çš„æ–‡ä»¶ç»“æ„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”‚â”€cartoonvsnormal</span><br><span class="line">â”‚ â”œâ”€â”€â”€train</span><br><span class="line">â”‚ â”‚	 â”‚â”€cats</span><br><span class="line">â”‚ â”‚   â””â”€dogs</span><br><span class="line">â”‚ â”œâ”€â”€â”€test</span><br><span class="line">â”‚     â”œâ”€cats</span><br><span class="line">â”‚     â””â”€dogs</span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line">|â”€â”€â”€dogvscat</span><br><span class="line">â”‚   â”œâ”€â”€â”€train</span><br><span class="line">â”‚   â”‚	â”‚â”€cartoon</span><br><span class="line">â”‚   â”‚  	â””â”€normal</span><br><span class="line">â”‚   â”œâ”€â”€â”€test</span><br><span class="line">â”‚   â”‚  â”œâ”€cartoon</span><br><span class="line">â”‚   â”‚  â””â”€normal</span><br><span class="line">â”‚   â”œâ”€â”€â”€testcartoon</span><br><span class="line">â”‚      â”œâ”€cartoon</span><br><span class="line">â”‚      â””â”€normal</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å±•ç¤ºéƒ¨åˆ†å›¾ç‰‡">å±•ç¤ºéƒ¨åˆ†å›¾ç‰‡</h2>
<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/cat.18.jpg" width="100%" /><br />
<br/><br />
<font color="AAAAAA">çŒ«æ²¡å¡é€šåŒ–ä½ çš„è®­ç»ƒé›†</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/cat.10.jpg" width="100%" /><br />
<br/><br />
<font color="AAAAAA">çŒ«å¡é€šåŒ–è¿‡ä½ çš„æµ‹è¯•é›†</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/dog.9835.jpg" width="100%" /><br />
<br/><br />
<font color="AAAAAA">ç‹—æ²¡å¡é€šåŒ–è¿‡ä½ çš„è®­ç»ƒé›†</font><br />

</center>
</td>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/dog.11712.jpg" width="100%" /><br />
<br/><br />
<font color="AAAAAA">ç‹—å¡é€šåŒ–è¿‡ä½ çš„æµ‹è¯•é›†</font><br />

</center>
</td>
</tr>
</table>
<p>åˆ«é—®ä¸ºä»€ä¹ˆæ²¡æœ‰å¯¹é½å°±æ˜¯è¦é€¼æ­»å¼ºè¿«ç—‡
ä¸è¿‡å€¼å¾—ä¸€æè¿™äº›å›¾ç‰‡æ˜¯æˆ‘æŒ‘é€‰è¿‡çš„å¡é€šåŒ–æœ‰äº›å›¾æ•ˆæœä¸æ˜¯å¾ˆå¥½
ä½ å¯ä»¥å°è¯•ä¿®æ”¹ä»£ç è®©å®ƒæ•ˆæœæ›´å¥½ åŠ æ²¹</p>
<h3 id="åå˜é‡åç§»æ£€æµ‹å™¨å®ç°">åå˜é‡åç§»æ£€æµ‹å™¨å®ç°</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch </span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets,models,transforms</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.utils.data</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l<span class="comment">#ææ²åŠ¨æ‰‹å­¦ä¹ æ·±åº¦å­¦ä¹ çš„è¯¾çš„åº“ æ²¡æœ‰å¯ä»¥æ³¨é‡Šæ‰</span></span><br><span class="line"><span class="keyword">import</span> gc </span><br><span class="line">gc.collect()<span class="comment">#æ¸…ç†å†…å­˜</span></span><br><span class="line"><span class="comment">#åŠ è½½å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getmean_str</span>(<span class="params">data_dir,name</span>):</span><br><span class="line">    data_trainsforms = transforms.Compose([</span><br><span class="line">    transforms.Resize((<span class="number">224</span>,<span class="number">224</span>)),</span><br><span class="line">    transforms.ToTensor(),</span><br><span class="line">    ])</span><br><span class="line">    image_datasets = datasets.ImageFolder(root=data_dir,</span><br><span class="line">                          transform=data_trainsforms)</span><br><span class="line">    data_loader = torch.utils.data.DataLoader(</span><br><span class="line">        image_datasets, batch_size=<span class="number">1</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    mean = torch.zeros(<span class="number">3</span>)</span><br><span class="line">    std = torch.zeros(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">for</span> X, _ <span class="keyword">in</span> data_loader:</span><br><span class="line">        <span class="keyword">for</span> d <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">            mean[d] += X[:, d, :, :].mean()</span><br><span class="line">            std[d] += X[:, d, :, :].std()</span><br><span class="line">    mean.div_(<span class="built_in">len</span>(image_datasets))</span><br><span class="line">    std.div_(<span class="built_in">len</span>(image_datasets))</span><br><span class="line">    <span class="built_in">print</span>(name ,<span class="string">&quot; mean:&quot;</span>,mean,<span class="string">&quot;std:&quot;</span>,std)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>(mean.numpy()), <span class="built_in">list</span>(std.numpy())</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_data_cartoonvsnormal</span>(<span class="params">data_dir,meanlist, stdlist,batch_size=<span class="number">32</span></span>): </span><br><span class="line">    data_trainsforms = transforms.Compose([</span><br><span class="line">    transforms.Resize((<span class="number">224</span>,<span class="number">224</span>)),</span><br><span class="line">    transforms.ToTensor(),</span><br><span class="line">    transforms.Normalize(meanlist, stdlist),</span><br><span class="line">    ])</span><br><span class="line">    <span class="comment">#æ‹¼æ¥è·¯å¾„</span></span><br><span class="line">    image_datasets = datasets.ImageFolder(root=data_dir,</span><br><span class="line">                          transform=data_trainsforms)</span><br><span class="line">    <span class="comment">#æ•°æ®åŠ è½½å™¨</span></span><br><span class="line">    data_iter=torch.utils.data.DataLoader(image_datasets, batch_size=batch_size, shuffle=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> (data_iter,image_datasets)<span class="comment">#(train_iter,test_iter,image_train_datasets,image_test_datasets)</span></span><br><span class="line"><span class="comment">#è®­ç»ƒå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">train_epoch_ch4_9</span>(<span class="params">net, train_iter, loss, updater, Use_gpu,detector=<span class="literal">None</span></span>): </span><br><span class="line">    train_acc=<span class="number">0.0</span></span><br><span class="line">    train_loss=<span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> batch,data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_iter,<span class="number">1</span>):</span><br><span class="line">            X,y = data</span><br><span class="line">            <span class="keyword">if</span> Use_gpu:</span><br><span class="line">                X,y = Variable(X.cuda()),Variable(y.cuda())</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                X,y = Variable(X),Variable(y)</span><br><span class="line">            y_hat = net(X)</span><br><span class="line">            <span class="keyword">if</span> detector!=<span class="literal">None</span>:</span><br><span class="line">                </span><br><span class="line">                beta= detector(X.detach())</span><br><span class="line">                <span class="keyword">if</span> Use_gpu:</span><br><span class="line">                    beta=Variable(beta.cuda())</span><br><span class="line">            optimizer.zero_grad()</span><br><span class="line">            l = loss(y_hat,y) <span class="keyword">if</span> detector==<span class="literal">None</span> <span class="keyword">else</span> loss(y_hat,y,beta)</span><br><span class="line">            l.backward()<span class="comment">#åå‘ä¼ æ’­</span></span><br><span class="line">            optimizer.step()<span class="comment">#ä¼˜åŒ–</span></span><br><span class="line">            _,pred =torch.<span class="built_in">max</span>(y_hat,<span class="number">1</span>)</span><br><span class="line">            train_acc += torch.<span class="built_in">sum</span>(pred == y)</span><br><span class="line">            train_loss += l.item()</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> batch%<span class="number">200</span> == <span class="number">0</span> :</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Batch:&#123;&#125;,Train Loss:&#123;:.4f&#125;,Train ACC:&#123;:.4f&#125;%&quot;</span>.<span class="built_in">format</span>(batch,train_loss/batch,<span class="number">100</span>*train_acc/(y.numel()*batch)))</span><br><span class="line">    <span class="keyword">return</span> (train_loss/(<span class="built_in">len</span>(train_iter))),(train_acc/((batch_size)*<span class="built_in">len</span>(train_iter))).cpu().numpy()</span><br><span class="line"><span class="comment">#è¯„ä»·å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">evaluate_accuracy_ch4_9</span>(<span class="params">net, data_iter, Use_gpu</span>): </span><br><span class="line">    <span class="keyword">if</span> Use_gpu:</span><br><span class="line">        net = net.cuda()</span><br><span class="line">    net.<span class="built_in">eval</span>()  <span class="comment"># å°†æ¨¡å‹è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼</span></span><br><span class="line">    <span class="comment">#metric = d2l.Accumulator(2)  # æ­£ç¡®é¢„æµ‹æ•°ã€é¢„æµ‹æ€»æ•°</span></span><br><span class="line">    test_acc=<span class="number">0.0</span></span><br><span class="line">    number=<span class="number">0.0</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> data_iter:</span><br><span class="line">            X,y=data</span><br><span class="line">            <span class="keyword">if</span> Use_gpu:<span class="comment">#æœ‰gpuåœ¨gpuä¸‹è¯„ä¼°</span></span><br><span class="line">                X,y = Variable(X.cuda()),Variable(y.cuda())</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                X,y = Variable(X),Variable(y)</span><br><span class="line">            y_pred = net(X)<span class="comment">#metric.add(d2l.accuracy(net(X), y), y.numel())</span></span><br><span class="line">            _,pred =torch.<span class="built_in">max</span>(y_pred,<span class="number">1</span>)</span><br><span class="line">            test_acc += torch.<span class="built_in">sum</span>(pred == y)</span><br><span class="line">            number+=y.numel()</span><br><span class="line">        test_acc=((test_acc / number).cpu().numpy())    </span><br><span class="line">    <span class="keyword">return</span> test_acc</span><br><span class="line"><span class="comment">#è®­ç»ƒå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">train_ch4_9</span>(<span class="params">net, train_iter, test_iter, loss, num_epochs, updater,Use_gpu,test_iter2=<span class="literal">None</span>,savename=<span class="string">&#x27;../data/ch04-4-9-2and4-9-3/covariate_shift_detectormodel.pth&#x27;</span>,detector=<span class="literal">None</span></span>): </span><br><span class="line">    <span class="keyword">if</span> test_iter2==<span class="literal">None</span>:</span><br><span class="line">        animator = d2l.Animator(xlabel=<span class="string">&#x27;epoch&#x27;</span>,ylabel=<span class="string">&#x27;Y&#x27;</span>, xlim=[<span class="number">1</span>, num_epochs],</span><br><span class="line">                        legend=[<span class="string">&#x27;train loss&#x27;</span>, <span class="string">&#x27;train acc&#x27;</span>, <span class="string">&#x27;test acc&#x27;</span>])<span class="comment">#ææ²åŠ¨æ‰‹å­¦ä¹ æ·±åº¦å­¦ä¹ çš„è¯¾çš„åº“ æ²¡æœ‰å¯ä»¥æ³¨é‡Šæ‰</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        animator = d2l.Animator(xlabel=<span class="string">&#x27;epoch&#x27;</span>,ylabel=<span class="string">&#x27;Y&#x27;</span>, xlim=[<span class="number">1</span>, num_epochs],</span><br><span class="line">                        legend=[<span class="string">&#x27;train loss&#x27;</span>, <span class="string">&#x27;train acc&#x27;</span>, <span class="string">&#x27;test cartoon acc&#x27;</span>,<span class="string">&#x27;test normal acc &#x27;</span>])<span class="comment">#ææ²åŠ¨æ‰‹å­¦ä¹ æ·±åº¦å­¦ä¹ çš„è¯¾çš„åº“ æ²¡æœ‰å¯ä»¥æ³¨é‡Šæ‰</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">        train_metrics = train_epoch_ch4_9(net, train_iter, loss, updater,Use_gpu,detector)</span><br><span class="line">        test_acc = evaluate_accuracy_ch4_9(net, test_iter,Use_gpu)</span><br><span class="line">        <span class="keyword">if</span> test_iter2!=<span class="literal">None</span>:</span><br><span class="line">            test_acc2 = evaluate_accuracy_ch4_9(net, test_iter2,Use_gpu)</span><br><span class="line">            animator.add(epoch + <span class="number">1</span>, train_metrics + (test_acc,test_acc2,))<span class="comment">#ææ²åŠ¨æ‰‹å­¦ä¹ æ·±åº¦å­¦ä¹ çš„è¯¾çš„åº“ æ²¡æœ‰å¯ä»¥æ³¨é‡Šæ‰</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;epoch&#123;&#125; Loss:&#123;:.4f&#125; Train Acc:&#123;:.4f&#125;% Test Cartoon Acc:&#123;:.4f&#125;% Test Normal Acc:&#123;:.4f&#125;%&quot;</span>.<span class="built_in">format</span>(epoch+<span class="number">1</span>, train_metrics[<span class="number">0</span>], <span class="number">100</span>*train_metrics[<span class="number">1</span>],<span class="number">100</span>*test_acc,<span class="number">100</span>*test_acc2))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            animator.add(epoch + <span class="number">1</span>, train_metrics + (test_acc,))<span class="comment">#ææ²åŠ¨æ‰‹å­¦ä¹ æ·±åº¦å­¦ä¹ çš„è¯¾çš„åº“ æ²¡æœ‰å¯ä»¥æ³¨é‡Šæ‰</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;epoch&#123;&#125; Loss:&#123;:.4f&#125; Train Acc:&#123;:.4f&#125;% Test  Acc:&#123;:.4f&#125;%&quot;</span>.<span class="built_in">format</span>(epoch+<span class="number">1</span>, train_metrics[<span class="number">0</span>], <span class="number">100</span>*train_metrics[<span class="number">1</span>],<span class="number">100</span>*test_acc))</span><br><span class="line">    </span><br><span class="line">    train_loss, train_acc = train_metrics</span><br><span class="line">   </span><br><span class="line">    torch.save(net.state_dict(),savename)</span><br><span class="line">    </span><br><span class="line">    torch.cuda.empty_cache()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;save&quot;</span>,savename,<span class="string">&quot;over&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">assert</span> train_loss &lt; <span class="number">0.5</span>, train_loss</span><br><span class="line">    <span class="keyword">assert</span> train_acc &lt;= <span class="number">1</span> <span class="keyword">and</span> train_acc &gt; <span class="number">0.7</span>, train_acc</span><br><span class="line">    <span class="keyword">assert</span> test_acc &lt;= <span class="number">1</span> <span class="keyword">and</span> test_acc &gt; <span class="number">0.7</span>, test_acc</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ•°æ®åŠ è½½</span></span><br><span class="line"></span><br><span class="line">batch_size=<span class="number">32</span></span><br><span class="line">data_dir = <span class="string">&quot;../data/ch04-4-9-2and4-9-3/cartoonvsnormal&quot;</span></span><br><span class="line">mean_train_list,std_train_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>),<span class="string">&#x27;train&#x27;</span>)</span><br><span class="line">mean_test_list,std_test_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>),<span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">cartoon_num=<span class="number">1.0</span>*(<span class="built_in">len</span>(os.listdir(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>,<span class="string">&#x27;cartoon&#x27;</span>)))+<span class="built_in">len</span>(os.listdir(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>,<span class="string">&#x27;cartoon&#x27;</span>))))</span><br><span class="line">normal_num=<span class="number">1.0</span>*(<span class="built_in">len</span>(os.listdir(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>,<span class="string">&#x27;normal&#x27;</span>)))+<span class="built_in">len</span>(os.listdir(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>,<span class="string">&#x27;normal&#x27;</span>))))</span><br><span class="line">train_iter,image_train_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>),mean_train_list,std_train_list,batch_size)</span><br><span class="line">test_iter,image_test_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>),mean_test_list,std_test_list,batch_size)</span><br><span class="line">index_classes = <span class="built_in">list</span>(image_test_datasets.class_to_idx.keys())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç±»åˆ«ä¸€ &#123;&#125;ï¼Œæ•°é‡&#123;&#125;ï¼Œç±»åˆ«äºŒ &#123;&#125; æ•°é‡&#123;&#125;&quot;</span>.<span class="built_in">format</span>(index_classes[<span class="number">0</span>],cartoon_num,index_classes[<span class="number">1</span>],normal_num))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç±»åˆ«ä¸€ &#123;&#125;ï¼Œæ•°é‡&#123;&#125;ï¼Œç±»åˆ«äºŒ &#123;&#125; æ•°é‡&#123;&#125;&quot;</span>.<span class="built_in">format</span>(index_classes[<span class="number">0</span>],cartoon_num,index_classes[<span class="number">1</span>],normal_num))</span><br><span class="line"><span class="comment">#åŠ è½½æ¨¡å‹</span></span><br><span class="line">model = models.resnet50(weights=models.ResNet50_Weights.IMAGENET1K_V1)</span><br><span class="line">Use_gpu = torch.cuda.is_available()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> parma <span class="keyword">in</span> model.parameters():</span><br><span class="line">    parma.requires_grad = <span class="literal">False</span><span class="comment">#å±è”½é¢„è®­ç»ƒæ¨¡å‹çš„æƒé‡ï¼Œåªè®­ç»ƒæœ€åä¸€å±‚çš„å…¨è¿æ¥çš„æƒé‡</span></span><br><span class="line">model.fc = torch.nn.Linear(<span class="number">2048</span>,<span class="number">2</span>)</span><br><span class="line">nn.init.xavier_uniform_(model.fc.weight)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> Use_gpu:</span><br><span class="line">    model = model.cuda()</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</span></span><br><span class="line">weight=torch.tensor([normal_num,cartoon_num])</span><br><span class="line">weight=weight.cuda() <span class="keyword">if</span> Use_gpu <span class="keyword">else</span> weight</span><br><span class="line">loss_f = torch.nn.CrossEntropyLoss(weight=weight)<span class="comment">#ä¸åŒç±»åˆ«æ•°æ®é‡ä¸åŒ æ·»åŠ æƒé‡æ¥å¹³è¡¡</span></span><br><span class="line">optimizer = torch.optim.SGD(model.fc.parameters(),lr = <span class="number">1e-4</span>)</span><br><span class="line"></span><br><span class="line">num_epochs = <span class="number">15</span></span><br><span class="line">train_ch4_9(model, train_iter, test_iter, loss_f, num_epochs,optimizer,Use_gpu)</span><br><span class="line"><span class="comment">#æ¸…é™¤å†…å­˜</span></span><br><span class="line"><span class="keyword">del</span> model</span><br><span class="line">torch.cuda.empty_cache()</span><br></pre></td></tr></table></figure>
<h4 id="å®šä¹‰æ£€æµ‹å™¨">å®šä¹‰æ£€æµ‹å™¨</h4>
<p>è¿™é‡Œconvariate_shift_detecor<span class="math inline">\((x_i)=\beta_i
=\frac{p\left(\mathbf{x}_i\right)}{q\left(\mathbf{x}_i\right)}\)</span></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span>  <span class="title function_">covariate_shift_detector</span>(<span class="params">input_image,model_pth=<span class="string">&#x27;../data/ch04-4-9-2and4-9-3/covariate_shift_detectormodel.pth&#x27;</span></span>):</span><br><span class="line">    softmax=nn.Softmax(dim = <span class="number">1</span>)</span><br><span class="line">    Use_gpu = torch.cuda.is_available()</span><br><span class="line">    model = models.resnet50(weights=models.ResNet50_Weights.IMAGENET1K_V1)</span><br><span class="line">    model.fc = torch.nn.Linear(<span class="number">2048</span>,<span class="number">2</span>)</span><br><span class="line">    model.load_state_dict(torch.load(model_pth))</span><br><span class="line">    <span class="keyword">if</span> Use_gpu:</span><br><span class="line">        model = model.cuda()</span><br><span class="line">    model.<span class="built_in">eval</span>()</span><br><span class="line">    beta=<span class="keyword">lambda</span> x:<span class="built_in">min</span>(x[<span class="number">0</span>][<span class="number">0</span>]/x[<span class="number">0</span>][<span class="number">1</span>],<span class="number">1.0</span>)</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(input_image)==<span class="number">1</span>:</span><br><span class="line">            output=beta(softmax(model(input_image)))</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            output=torch.tensor(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: beta(softmax(model(torch.unsqueeze(x,<span class="number">0</span>)))),input_image )))</span><br><span class="line">        <span class="keyword">del</span> model</span><br><span class="line">        torch.cuda.empty_cache()</span><br><span class="line">        <span class="keyword">return</span> output</span><br></pre></td></tr></table></figure>
<h4 id="æµ‹è¯•ç»“æœ">æµ‹è¯•ç»“æœ</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="comment">#test_iter,image_test_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, &#x27;test&#x27;),batch_size)</span></span><br><span class="line">testnum=random.randint(<span class="number">0</span>,<span class="built_in">len</span>(image_test_datasets)-<span class="number">1</span>)</span><br><span class="line">index_classes = <span class="built_in">list</span>(image_test_datasets.class_to_idx.keys())</span><br><span class="line">input_image=torch.unsqueeze(image_test_datasets[testnum][<span class="number">0</span>],<span class="number">0</span>)</span><br><span class="line"><span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">    input_image=input_image.cuda()</span><br><span class="line">output=index_classes[<span class="number">0</span>] <span class="keyword">if</span> covariate_shift_detector(input_image)&gt;=<span class="number">1</span> <span class="keyword">else</span> index_classes[<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;testnum &quot;</span>,testnum,<span class="string">&quot; æ¨æ–­ç±»åˆ«ï¼š&quot;</span>,output,<span class="string">&quot;å®é™…ç±»åˆ«ï¼š&quot;</span>,index_classes[image_test_datasets[testnum][<span class="number">1</span>]])</span><br><span class="line"><span class="keyword">del</span> input_image</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">gc.collect()</span><br><span class="line">Use_gpu = torch.cuda.is_available()</span><br><span class="line"><span class="keyword">if</span> Use_gpu:</span><br><span class="line">    torch.cuda.empty_cache()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;clear&#x27;</span>)</span><br><span class="line">input_image=[i[<span class="number">0</span>].cuda() <span class="keyword">for</span> i <span class="keyword">in</span> image_test_datasets] <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> [i[<span class="number">0</span>] <span class="keyword">for</span> i <span class="keyword">in</span> image_test_datasets]</span><br><span class="line">output=covariate_shift_detector(input_image)</span><br><span class="line">test_label=torch.tensor([i[<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> image_test_datasets])</span><br><span class="line">cartoonacc=torch.tensor(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt;=<span class="number">1</span> <span class="keyword">else</span> <span class="number">0</span> ,output-torch.mul(output,test_label)))).<span class="built_in">sum</span>()/(<span class="built_in">len</span>(test_label)-test_label.<span class="built_in">sum</span>())</span><br><span class="line">normalacc=torch.tensor(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> <span class="number">0</span>&lt;x &lt; <span class="number">1</span> <span class="keyword">else</span> <span class="number">0</span> ,torch.mul(output,test_label)))).<span class="built_in">sum</span>()/(test_label.<span class="built_in">sum</span>())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å¡é€šå›¾ç‰‡é¢„æµ‹æ­£ç¡®ç‡:&#123;:.4f&#125;% ,æ­£å¸¸å›¾ç‰‡é¢„æµ‹æ­£ç¡®ç‡:&#123;:.4f&#125;%&#x27;</span>.<span class="built_in">format</span>(<span class="number">100</span>*cartoonacc,<span class="number">100</span>*normalacc))</span><br><span class="line"><span class="keyword">del</span> input_image</span><br></pre></td></tr></table></figure>
<h3 id="å®ç°åå˜é‡åç§»çº æ­£">å®ç°åå˜é‡åç§»çº æ­£</h3>
<p>é¦–å…ˆå±•ç¤ºæ²¡æœ‰ä½¿ç”¨åˆ†ç±»å™¨æ¥è®­ç»ƒæ¨¡å‹çš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ°è®­ç»ƒçš„åæœŸï¼Œå³ä½¿å„ä¸ªæ•°æ®æ›²çº¿å·²ç»è¶‹å¹³ï¼Œè®­ç»ƒå‡†ç¡®ç‡ä»ç„¶é«˜äºæµ‹è¯•å‡†ç¡®ç‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#importåº“ ä»¥åŠ ç”¨åˆ°çš„å‡½æ•°å®šä¹‰è§4.9.2</span></span><br><span class="line"><span class="comment">#æ•°æ®åŠ è½½</span></span><br><span class="line"></span><br><span class="line">batch_size=<span class="number">32</span></span><br><span class="line">data_dir = <span class="string">&quot;../data/ch04-4-9-2and4-9-3/dogvscat&quot;</span></span><br><span class="line">mean_train_list,std_train_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>),<span class="string">&#x27;train&#x27;</span>)</span><br><span class="line">mean_testcartoon_list,std_testcartoon_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;testcartoon&#x27;</span>),<span class="string">&#x27;testcartoon&#x27;</span>)</span><br><span class="line">mean_testnormal_list,std_testnormal_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>),<span class="string">&#x27;testnormal&#x27;</span>)</span><br><span class="line">train_iter,image_train_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>),mean_train_list,std_train_list,batch_size)</span><br><span class="line">testcartoon_iter,image_testcartoon_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;testcartoon&#x27;</span>),mean_testcartoon_list,std_testcartoon_list,batch_size)</span><br><span class="line">testnormal_iter,image_testnormal_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>),mean_testnormal_list,std_testnormal_list,batch_size)</span><br><span class="line"><span class="comment">#åŠ è½½æ¨¡å‹</span></span><br><span class="line">model_no_detector = models.resnet50(weights=models.ResNet50_Weights.IMAGENET1K_V1)</span><br><span class="line">Use_gpu = torch.cuda.is_available()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> parma <span class="keyword">in</span> model_no_detector.parameters():</span><br><span class="line">    parma.requires_grad = <span class="literal">False</span><span class="comment">#å±è”½é¢„è®­ç»ƒæ¨¡å‹çš„æƒé‡ï¼Œåªè®­ç»ƒæœ€åä¸€å±‚çš„å…¨è¿æ¥çš„æƒé‡</span></span><br><span class="line">model_no_detector.fc = torch.nn.Linear(<span class="number">2048</span>,<span class="number">2</span>)</span><br><span class="line">nn.init.xavier_uniform_(model_no_detector.fc.weight);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> Use_gpu:</span><br><span class="line">    model_no_detector = model_no_detector.cuda()</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</span></span><br><span class="line">loss_f = torch.nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.SGD(model_no_detector.fc.parameters(),lr =  <span class="number">1e-4</span>)</span><br><span class="line"></span><br><span class="line">num_epochs = <span class="number">10</span></span><br><span class="line">train_ch4_9(model_no_detector, train_iter, testcartoon_iter, loss_f, num_epochs,optimizer,Use_gpu,test_iter2=testnormal_iter,savename=<span class="string">&#x27;../data/ch04-4-9-2and4-9-3/dogvscatwithoutdetectormodel.pth&#x27;</span>)</span><br><span class="line"><span class="comment">#æ¸…é™¤å†…å­˜</span></span><br><span class="line"><span class="keyword">del</span> model_no_detector</span><br><span class="line">torch.cuda.empty_cache()</span><br></pre></td></tr></table></figure>
<h4 id="ä½¿ç”¨åˆ†ç±»å™¨æ¥è®­ç»ƒæ¨¡å‹çš„ç»“æœ">ä½¿ç”¨åˆ†ç±»å™¨æ¥è®­ç»ƒæ¨¡å‹çš„ç»“æœ</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">gc.collect()<span class="comment">#å†…å­˜æ¸…ç†</span></span><br><span class="line"><span class="comment">#æ•°æ®åŠ è½½</span></span><br><span class="line">batch_size=<span class="number">32</span></span><br><span class="line">data_dir = <span class="string">&quot;../data/ch04-4-9-2and4-9-3/dogvscat&quot;</span></span><br><span class="line">mean_train_list,std_train_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>),<span class="string">&#x27;train&#x27;</span>)</span><br><span class="line">mean_testcartoon_list,std_testcartoon_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;testcartoon&#x27;</span>),<span class="string">&#x27;testcartoon&#x27;</span>)</span><br><span class="line">mean_testnormal_list,std_testnormal_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>),<span class="string">&#x27;testnormal&#x27;</span>)</span><br><span class="line">train_iter,image_train_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>),mean_train_list,std_train_list,batch_size)</span><br><span class="line">testcartoon_iter,image_testcartoon_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;testcartoon&#x27;</span>),mean_testcartoon_list,std_testcartoon_list,batch_size)</span><br><span class="line">testnormal_iter,image_testnormal_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>),mean_testnormal_list,std_testnormal_list,batch_size)</span><br><span class="line"><span class="comment">#åŠ è½½æ¨¡å‹</span></span><br><span class="line">model_detector = models.resnet50(weights=models.ResNet50_Weights.IMAGENET1K_V1)</span><br><span class="line">Use_gpu = torch.cuda.is_available()</span><br><span class="line"><span class="keyword">if</span> Use_gpu:</span><br><span class="line">    <span class="comment">#del modelwithoutdetector</span></span><br><span class="line">    torch.cuda.empty_cache()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;clear&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> parma <span class="keyword">in</span> model_detector.parameters():</span><br><span class="line">    parma.requires_grad = <span class="literal">False</span><span class="comment">#å±è”½é¢„è®­ç»ƒæ¨¡å‹çš„æƒé‡ï¼Œåªè®­ç»ƒæœ€åä¸€å±‚çš„å…¨è¿æ¥çš„æƒé‡</span></span><br><span class="line">model_detector.fc = torch.nn.Linear(<span class="number">2048</span>,<span class="number">2</span>)</span><br><span class="line">nn.init.xavier_uniform_(model_detector.fc.weight); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> Use_gpu:</span><br><span class="line">    model_detector = model_detector.cuda()</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">myloss</span>(<span class="params">y_hat,y,beta</span>):</span><br><span class="line">    loss_f = torch.nn.CrossEntropyLoss(reduction=<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">    l=loss_f(y_hat,y)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">25</span>*torch.mul(beta,l).mean() <span class="comment">#ç›´æ¥ä½¿ç”¨betaè®¡ç®—ç»“æœ å¹¶æ²¡æœ‰æ”¹å–„ è¿™å¯èƒ½æ˜¯å› ä¸ºbetaå°äº1 ä½¿losså˜å° å¯¼è‡´æ›´æ–°æ¢¯åº¦ä»¥å å˜åŒ–ä¸å¤§ æ‰€ä»¥ä¹˜ä»¥ä¸€ä¸ªæ•° ä»¥æ”¹å–„è¿™ç§æƒ…å†µ</span></span><br><span class="line">     </span><br><span class="line">    </span><br><span class="line">optimizer = torch.optim.SGD(model_detector.fc.parameters(),lr =<span class="number">1e-4</span>) </span><br><span class="line"></span><br><span class="line">num_epochs = <span class="number">10</span></span><br><span class="line">train_ch4_9(model_detector, train_iter, testcartoon_iter,myloss, num_epochs,optimizer,Use_gpu,test_iter2=testnormal_iter,savename=<span class="string">&#x27;../data/ch04-4-9-2and4-9-3/dogvscatwithdetectormodel.pth&#x27;</span>,detector=covariate_shift_detector)</span><br><span class="line"><span class="comment">#æ¸…é™¤å†…å­˜</span></span><br><span class="line"><span class="keyword">del</span> model_detector</span><br><span class="line">torch.cuda.empty_cache()</span><br></pre></td></tr></table></figure>
<h4 id="æ¯”è¾ƒ">æ¯”è¾ƒ</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">gc.collect()</span><br><span class="line">Use_gpu = torch.cuda.is_available()</span><br><span class="line"><span class="keyword">if</span> Use_gpu:</span><br><span class="line">    <span class="comment">#del modelwithoutdetector</span></span><br><span class="line">    torch.cuda.empty_cache()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;clear&#x27;</span>)</span><br><span class="line">data_dir = <span class="string">&quot;../data/ch04-4-9-2and4-9-3/dogvscat&quot;</span></span><br><span class="line">batch_size=<span class="number">32</span></span><br><span class="line">mean_testcartoon_list,std_testcartoon_list=getmean_str(os.path.join(data_dir, <span class="string">&#x27;testcartoon&#x27;</span>),<span class="string">&#x27;testcartoon&#x27;</span>)</span><br><span class="line">testcartoon_iter,image_testcartoon_datasets=load_data_cartoonvsnormal(os.path.join(data_dir, <span class="string">&#x27;testcartoon&#x27;</span>),mean_testcartoon_list,std_testcartoon_list,batch_size)</span><br><span class="line"><span class="comment">#åŠ è½½æ¨¡å‹</span></span><br><span class="line">model_detector = models.resnet50(weights=models.ResNet50_Weights.IMAGENET1K_V1)</span><br><span class="line">model_detector.fc = torch.nn.Linear(<span class="number">2048</span>,<span class="number">2</span>)</span><br><span class="line">model_detector.load_state_dict(torch.load(<span class="string">&#x27;../data/ch04-4-9-2and4-9-3/dogvscatwithdetectormodel.pth&#x27;</span>))</span><br><span class="line"><span class="comment">#åŠ è½½æ¨¡å‹\</span></span><br><span class="line">model_no_detector = models.resnet50(weights=models.ResNet50_Weights.IMAGENET1K_V1)</span><br><span class="line">model_no_detector.fc = torch.nn.Linear(<span class="number">2048</span>,<span class="number">2</span>)</span><br><span class="line">model_no_detector.load_state_dict(torch.load(<span class="string">&#x27;../data/ch04-4-9-2and4-9-3/dogvscatwithoutdetectormodel.pth&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ²¡ä½¿ç”¨åˆ†ç±»å™¨æµ‹è¯•å‡†ç¡®ç‡ï¼š&#123;:.4f&#125;%,ä½¿ç”¨åˆ†ç±»å™¨æµ‹è¯•å‡†ç¡®ç‡ï¼š&#123;:.4f&#125;%&quot;</span>.<span class="built_in">format</span>(<span class="number">100</span>*evaluate_accuracy_ch4_9(model_no_detector,testcartoon_iter,Use_gpu),<span class="number">100</span>*evaluate_accuracy_ch4_9(model_detector, testcartoon_iter,Use_gpu)))</span><br><span class="line"><span class="comment">#æ¸…é™¤å†…å­˜</span></span><br><span class="line"><span class="keyword">del</span> model_no_detector</span><br><span class="line"><span class="keyword">del</span> model_detector</span><br><span class="line">torch.cuda.empty_cache()</span><br></pre></td></tr></table></figure>
<h3 id="ç»“æœ">ç»“æœ</h3>
<p>testcartoon mean: tensor([0.4168, 0.3945, 0.3463]) std:
tensor([0.2118, 0.2033, 0.1590])
æ²¡ä½¿ç”¨åˆ†ç±»å™¨æµ‹è¯•å‡†ç¡®ç‡ï¼š89.8000%,ä½¿ç”¨åˆ†ç±»å™¨æµ‹è¯•å‡†ç¡®ç‡ï¼š92.3600%</p>
<p>äº‹å®ä¸Šå¦‚æœä½ åœ¨ä¼˜åŒ–å™¨ä¸ç”¨SGDè€Œæ˜¯ç”¨Adamä¼šå¾—åˆ°æ›´å¥½çš„ç»“æœ
è€Œä¸”ä½ ä¼šå‘ç°ç”¨ä¸ç”¨åˆ†ç±»å™¨ç»“æœéƒ½å·®ä¸å¤šorz</p>
<p>åœ¨è®­ç»ƒçš„æ—¶å€™ä¼šé‡è§test_accé«˜äºtrain_accçš„æƒ…å†µ è¿™å¯èƒ½æ˜¯å› ä¸ºtrain_acc
æ˜¯åœ¨æ¯ä¸ªbatchsizeä¹‹åç»Ÿè®¡çš„ è€Œ
test_accæ˜¯åœ¨ä¸€ä¸ªepochåç»Ÿè®¡çš„ï¼ˆä¸€ä¸ªç‰µå¼ºçš„è§£é‡Šï¼Œå§‹ç»ˆä¸èƒ½ç†è§£ä¸ºä»€ä¹ˆå¯ä»¥åœ¨ä¸€ä¸ªepochåå°±äº§ç”Ÿè¿™ä¹ˆé«˜çš„test_accï¼‰</p>
]]></content>
      <tags>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>julia æ•°å€¼åˆ†æ</title>
    <url>/post/f212ddce.html</url>
    <content><![CDATA[<p>ç”¨juliaå®ç°ä¸€äº›æ•°å€¼æ–¹æ³• ä¸è¿‡è¿™äº›æ–¹æ³•juliaè‚¯å®šæœ‰ç°æˆçš„åº“å’Œå‡½æ•°è§£å†³äº†
æˆ‘åªæ˜¯ç»ƒç»ƒæ‰‹çå†™ä¸€äº›ä¸œè¥¿</p>
<span id="more"></span>
<h2 id="æµ®ç‚¹æ•°-å’Œå¤šé¡¹å¼">æµ®ç‚¹æ•° å’Œå¤šé¡¹å¼</h2>
<h3 id="å¤šé¡¹å¼æ±‚å€¼">å¤šé¡¹å¼æ±‚å€¼</h3>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> hornor(x::<span class="built_in">Float64</span>,n::<span class="built_in">Int64</span>,c::<span class="built_in">Vector</span>&#123;<span class="built_in">Float64</span>&#125;=[<span class="number">1.</span> <span class="keyword">for</span>  i <span class="keyword">in</span> <span class="number">1</span>:n+<span class="number">1</span>],b::<span class="built_in">Vector</span>&#123;<span class="built_in">Float64</span>&#125;=[<span class="number">0.</span> <span class="keyword">for</span>  i <span class="keyword">in</span> <span class="number">1</span>:n+<span class="number">1</span>])</span><br><span class="line">	y = c[<span class="keyword">end</span>]</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> n:-<span class="number">1</span>:<span class="number">1</span></span><br><span class="line">		y = y*( x- b[i])+c[i]</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="å®ç°æµ®ç‚¹æ•°è¡¨ç¤º">å®ç°æµ®ç‚¹æ•°è¡¨ç¤º</h3>
<p><span class="math display">\[\pm 1 . b b b \cdots b \times
2^p\]</span></p>
<p>å­˜å‚¨æ—¶éœ€è¦å°¾æ•° bbbb å’ŒæŒ‡æ•°p</p>
<p>IEEEèˆå…¥æœ€è¿‘æ³•åˆ™<br />
å¯¹äºæµ®ç‚¹ç²¾åº¦ï¼Œå¦‚æœåœ¨äºŒè¿›åˆ¶æ•°å³è¾¹çš„ç¬¬ 53 ä½æ˜¯0ï¼Œåˆ™å‘ä¸‹èˆå»(åœ¨ç¬¬ 52
ä½åé¢æˆªæ–­)ã€‚å¦‚æœç¬¬53ä½æ˜¯1ï¼Œåˆ™å‘ä¸Šè¿›ä½(åœ¨ç¬¬ 52ä½ä¸ŠåŠ 
1)ï¼Œé™¤äº†åœ¨1å³è¾¹çš„æ‰€æœ‰å·²çŸ¥ä½éƒ½æ˜¯0ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å½“ä¸”ä»…å½“ç¬¬52ä½æ˜¯1æ—¶åœ¨ç¬¬52ä½ä¸ŠåŠ 1ã€‚</p>
<p>ä¸€ä¸ªæœ‰è¶£çš„å¿«é€Ÿæ±‚å¹³æ–¹æ ¹å€’æ•°ç®—æ³• <a
href="https://www.bilibili.com/video/BV18j411i7bp/?spm_id_from=333.788.top_right_bar_window_default_collection.content.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">è§†é¢‘é“¾æ¥</a></p>
<p>ä¸€ä¸ªæµ®ç‚¹æ•°yåœ¨äºŒè¿›åˆ¶é‡Œå­˜è´®å½¢å¼Y æ˜¯ S E Mï¼ˆSä¸º0å’Œ1è¡¨ç¤ºç¬¦å· 0ä¸ºæ­£ éƒ¨åˆ†
Mä¸º0å’Œ1 è¡¨ç¤ºå°¾æ•° è¿™é‡Œçœç•¥äº†å°æ•°ç‚¹å‰çš„1. Eä¸ºä¸ºæŒ‡æ•°ä¹Ÿæœ‰0å’Œ1è¡¨ç¤º
ä¸è¿‡å®ƒæœ‰æ­£è´Ÿä½¿ç”¨å®é™…å€¼æ˜¯è¡¥ç )</p>
<p><span class="math inline">\(y=\left(1+\frac{M}{2^{23}}\right) \cdot
2^{E-127}\)</span> Mæ˜¯å°¾æ•°éƒ¨åˆ†çš„å€¼ Eæ˜¯æŒ‡æ•°éƒ¨åˆ†çš„å€¼</p>
<p>ä¸¾ä¸ªä¾‹å­ y=1.5 Y æ˜¯ 0(Sè¡¨ç¤ºæ­£æ•°) 01111111(Eè¡¨ç¤º0 )
10000000000000000000000(Mæœ¬æ¥åº”è¯¥æ˜¯1.10000000000000000000000)</p>
<p><span class="math display">\[
log_2(y)=&amp;log_2\left(1+\frac{M}{2^{23}}\right) + E-127\\
log_2(y) \approx &amp;\left(\frac{M}{2^{23}}\right) + E-127\\
log_2(y) \approx &amp;2^{-23}\left(M+2^{23}*E\right) -127\\
log_2(y) \approx &amp;2^{-23}Y -127
\]</span><br />
è¿™é‡Œè€ƒè™‘åˆ°<span
class="math inline">\(log_2\left(1+x\right)\)</span>æ›²çº¿åœ¨0å’Œ1ä¹‹é—´æ¥è¿‘xæ›²çº¿
ç”¨x ä»£æ›¿äº†<span class="math inline">\(log_2\left(1+x\right)\)</span>
å½“ç„¶è¿™ç§è¿‘ä¼¼ä»…åœ¨0å’Œ1å¤„æœ€å¥½ æ‰€ä»¥åŠ ä¸€ä¸ªä¿®æ­£å¯ä»¥æ˜¯æ•´ä½“è¯¯å·®æœ€å°
åé¢ä¼šåœ¨ä»£ç é‡Œçœ‹åˆ°ä¿®æ­£<br />
<span class="math display">\[
log_2(a)=&amp;-\frac{1}{2} log_2(y)\\
2^{-23}A -127 \approx &amp;-\frac{1}{2}\left(2^{-23}Y -127\right)\\
A  \approx &amp;-\frac{1}{2}Y +2^{22}\left( 381\right)
\]</span><br />
è¿™é‡Œaæ˜¯yçš„å¹³æ–¹æ ¹å€’æ•°Aæ˜¯açš„äºŒè¿›åˆ¶è¡¨ç¤º</p>
<p>å¯¹äº<span class="math inline">\(\frac{1}{2}Y\)</span>å³ç§»è§£å†³
è™½ç„¶é‡åˆ°å¥‡æ•°ä¼šæœ‰è¯¯å·®ä½†æˆ‘ä»¬åªæ˜¯æ±‚è¿‘ä¼¼å€¼æ‰€ä»¥å¯ä»¥æ¥å—</p>
<p><span class="math inline">\(2^{22}\left(
381\right)\)</span>åå…­è¿›åˆ¶ä¸º0x5400000
ä¸è¿‡ä¸ºäº†ä¿®æ­£åé¢ç”¨äº†0x5f3759df</p>
<p>è‡³æ­¤æˆ‘ä»¬å¾—åˆ°äº†å¹³æ–¹æ ¹å€’æ•°è¿‘ä¼¼å€¼æˆ‘ä»¬æŠŠå®ƒç”¨ç‰›é¡¿æ³•åœ¨è¿‘ä¼¼è¿­ä»£ä¸€ä¸‹å¯ä»¥å¾—åˆ°éå¸¸ç²¾ç¡®çš„å€¼</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">float</span> <span class="title">Q_sqrt</span><span class="params">( <span class="type">float</span> number)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">long</span> i;</span><br><span class="line">	<span class="type">float</span> x2,y;</span><br><span class="line">	<span class="type">const</span> <span class="type">float</span> threehalfs = <span class="number">1.5F</span>;</span><br><span class="line">	x2 = number * <span class="number">0.5F</span>;</span><br><span class="line">	y = number;</span><br><span class="line">	i = *( <span class="type">long</span> * ) $y; <span class="comment">//è½¬æ¢äºŒè¿›åˆ¶ç±»å‹</span></span><br><span class="line">	i = <span class="number">0x5f3759df</span> - (i &gt;&gt; i );<span class="comment">//è®¡æ•°å¹³æ–¹æ ¹å€’æ•°è¿‘ä¼¼å€¼ 0x5400000</span></span><br><span class="line">	y = *( <span class="type">float</span> *) &amp;i ;<span class="comment">//è½¬å›æµ®ç‚¹æ•°</span></span><br><span class="line">	y = y *( threehalfs -(x2 * y * y));<span class="comment">//ç‰›é¡¿æ³• æ±‚ x^(-2) -y =0 </span></span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ±‚è§£æ–¹ç¨‹">æ±‚è§£æ–¹ç¨‹</h2>
<h3 id="äºŒåˆ†æ³•">äºŒåˆ†æ³•</h3>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> bisect(f::<span class="built_in">Function</span>,a::<span class="built_in">Float64</span>,b::<span class="built_in">Float64</span>,tol::<span class="built_in">Float64</span>=<span class="number">10</span>^-<span class="number">10</span>)</span><br><span class="line">	<span class="keyword">if</span> f(a)*f(b)&gt;<span class="number">0</span></span><br><span class="line">		error(<span class="string">&quot;f(a)f(b)&lt;0 not statisfied!&quot;</span>)</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">		println(ceil(log(<span class="number">2</span>,(b-a)/tol))+<span class="number">1</span>)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:ceil(log(<span class="number">2</span>,(b-a)/tol))+<span class="number">1</span></span><br><span class="line">		<span class="keyword">global</span> c= (a + b)*<span class="number">.5</span></span><br><span class="line">		<span class="keyword">if</span> abs(f(c)) &lt; tol</span><br><span class="line">			println(<span class="string">&quot;find the solution&quot;</span>)</span><br><span class="line">			<span class="keyword">return</span> [c,f(c)]</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		(a,b)= f(c) &lt; <span class="number">0</span> ? (c,b) : (a,c)</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">return</span> [c,f(c)]</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="ä¸åŠ¨ç‚¹è¿­ä»£">ä¸åŠ¨ç‚¹è¿­ä»£</h3>
<p>å‡è®¾å‡½æ•° <span class="math inline">\(g\)</span> æ˜¯è¿ç»­å¯å¾®å‡½æ•°, <span
class="math inline">\(g(r)=r,
S=\left|g^{\prime}(r)\right|&lt;1\)</span>, åˆ™ä¸åŠ¨ç‚¹è¿­ä»£å¯¹
äºä¸€ä¸ªè¶³å¤Ÿæ¥è¿‘ <span class="math inline">\(r\)</span> çš„åˆå§‹ä¼°è®¡, ä»¥é€Ÿåº¦
<span class="math inline">\(S\)</span> çº¿æ€§æ”¶ç«åˆ°ä¸åŠ¨ç‚¹ <span
class="math inline">\(r\)</span>.</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> FPI(f::<span class="built_in">Function</span>,x0::<span class="built_in">Float64</span>,k::<span class="built_in">Int64</span>)</span><br><span class="line">	x=x0</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span>  <span class="number">1</span>:k</span><br><span class="line">		x0=f(x)</span><br><span class="line">		<span class="keyword">if</span> abs(x-x0)&lt; <span class="number">10</span>^-<span class="number">6</span>	</span><br><span class="line">			println(<span class="string">&quot;FPI convergence in &quot;</span>,i,<span class="string">&quot; step&quot;</span>)</span><br><span class="line">			<span class="keyword">return</span> x0</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		x=x0</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">println(<span class="string">&quot;FPI &quot;</span>,FPI(x-&gt;<span class="number">1</span>-x^<span class="number">3.0</span> ,<span class="number">0.5</span>,<span class="number">100</span>))</span><br><span class="line">println(<span class="string">&quot;FPI &quot;</span>,FPI(x-&gt;(<span class="number">1</span>-x)^(<span class="number">1</span>/<span class="number">3</span>) ,<span class="number">0.5</span>,<span class="number">100</span>))</span><br><span class="line">println(<span class="string">&quot;FPI &quot;</span>,FPI(x-&gt;(<span class="number">1</span>+<span class="number">2</span>*x^<span class="number">3</span>)/(<span class="number">1</span>+<span class="number">3</span>*x^<span class="number">2</span>) ,<span class="number">0.5</span>,<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#FPI 0.0</span></span><br><span class="line"><span class="comment">#FPI convergence in 39 step</span></span><br><span class="line"><span class="comment">#FPI 0.6823281782912355</span></span><br><span class="line"><span class="comment">#FPI convergence in 4 step</span></span><br><span class="line"><span class="comment">#FPI 0.682327803828347</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ç‰›é¡¿æ³•-å‰²çº¿æ³•">ç‰›é¡¿æ³• å‰²çº¿æ³•</h3>
<p>é€šè¿‡åˆ‡çº¿çš„æ–¹å¼ä¸æ–­æ±‚é›¶ç‚¹</p>
<p>å‰²çº¿æ³•</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> secant_method(f::<span class="built_in">Function</span>,x0::<span class="built_in">Float64</span>,x1::<span class="built_in">Float64</span>=x0+x0*<span class="number">0.1</span>,k::<span class="built_in">Int64</span>=<span class="number">100</span>,eta::<span class="built_in">Float64</span>=<span class="number">10</span>^-<span class="number">6</span>)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:k </span><br><span class="line">		x2 = x1- f(x1)*(x1-x0)/(f(x1)- f(x0))</span><br><span class="line">		<span class="keyword">if</span> abs(x2-x1)/(x2+eta)&lt; eta	</span><br><span class="line">			println(<span class="string">&quot;secant_method convergence in &quot;</span>,i,<span class="string">&quot; step&quot;</span>)</span><br><span class="line">			<span class="keyword">return</span> x2</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">			</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		x0 = x1</span><br><span class="line">		x1 = x2</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">return</span> x1</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> Regula_Falsi(f::<span class="built_in">Function</span>,a::<span class="built_in">Float64</span>,b::<span class="built_in">Float64</span>,k::<span class="built_in">Int64</span>=<span class="number">100</span>,eta::<span class="built_in">Float64</span>=<span class="number">10</span>^-<span class="number">6</span>)</span><br><span class="line">	<span class="keyword">if</span> f(a)*f(b)&gt;<span class="number">0</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;error range&quot;</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:k</span><br><span class="line">		c= (b*f(a)-a*f(b))/(f(a)-f(b))</span><br><span class="line">		<span class="keyword">if</span> abs(f(c)) ==<span class="number">0</span></span><br><span class="line">			<span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> check_tol(a,c,eta) &lt;eta ||  check_tol(a,c,eta) &lt;eta </span><br><span class="line">			println(<span class="string">&quot; Regula_Falsi in  &quot;</span>, i, <span class="string">&quot;step&quot;</span>, <span class="string">&quot;f(c)=&quot;</span>,f(c),<span class="string">&quot; c=&quot;</span>,c )</span><br><span class="line">			<span class="keyword">return</span> c</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		(a,b) = f(a)*f(c) ? (a,c) : (c,a)</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>è¯•ä½æ³•</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> secant_method(f::<span class="built_in">Function</span>,x0::<span class="built_in">Float64</span>,x1::<span class="built_in">Float64</span>=x0+x0*<span class="number">0.1</span>,k::<span class="built_in">Int64</span>=<span class="number">100</span>,eta::<span class="built_in">Float64</span>=<span class="number">10</span>^-<span class="number">6</span>)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:k </span><br><span class="line">		x2 = x1- f(x1)*(x1-x0)/(f(x1)- f(x0))</span><br><span class="line">		<span class="keyword">if</span> abs(x2-x1)/(x2+eta)&lt; eta	</span><br><span class="line">			println(<span class="string">&quot;secant_method convergence in &quot;</span>,i,<span class="string">&quot; step&quot;</span>)</span><br><span class="line">			<span class="keyword">return</span> x2</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">			</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		x0 = x1</span><br><span class="line">		x1 = x2</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">return</span> x1</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> Regula_Falsi(f::<span class="built_in">Function</span>,a::<span class="built_in">Float64</span>,b::<span class="built_in">Float64</span>,k::<span class="built_in">Int64</span>=<span class="number">100</span>,eta::<span class="built_in">Float64</span>=<span class="number">10</span>^-<span class="number">6</span>)</span><br><span class="line">	<span class="keyword">if</span> f(a)*f(b)&gt;<span class="number">0</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;error range&quot;</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:k</span><br><span class="line">		c= (b*f(a)-a*f(b))/(f(a)-f(b))</span><br><span class="line">		<span class="keyword">if</span> abs(f(c)) ==<span class="number">0</span></span><br><span class="line">			<span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> check_tol(a,c,eta) &lt;eta ||  check_tol(a,c,eta) &lt;eta </span><br><span class="line">			println(<span class="string">&quot; Regula_Falsi in  &quot;</span>, i, <span class="string">&quot;step&quot;</span>, <span class="string">&quot;f(c)=&quot;</span>,f(c),<span class="string">&quot; c=&quot;</span>,c )</span><br><span class="line">			<span class="keyword">return</span> c</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		(a,b) = f(a)*f(c) ? (a,c) : (c,a)</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="æ±‚è§£æ–¹ç¨‹ç»„">æ±‚è§£æ–¹ç¨‹ç»„</h2>
<p>é¦–å…ˆæä¸€å¥juliaä¸­ <code>\</code>å‡½æ•°å¯ä»¥æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„<span
class="math inline">\(A x = b\)</span> ï¼Œå…¶ä¸­<span
class="math inline">\(A\)</span>æ˜¯æ–¹é˜µ</p>
<p>å½“Açš„è¡Œæ•°å¤§äºåˆ—æ•°æ—¶ï¼Œ<code>\</code>å‡½æ•°å¯ä»¥è®¡ç®—è¶…å®šæ–¹ç¨‹çš„æœ€å°äºŒä¹˜è§£</p>
<p>ä¸€ä¸ªå‘è¦æ³¨æ„ <code>'</code> åœ¨juliaé‡Œé¢æ˜¯å„å¯†ä¸ä»…ä»…æ˜¯è½¬ç½®</p>
<h3 id="é«˜æ–¯æ¶ˆå»æ³•-luåˆ†è§£">é«˜æ–¯æ¶ˆå»æ³• LUåˆ†è§£</h3>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">using</span> LinearAlgebra</span><br><span class="line"><span class="keyword">function</span> back_substitution(a::(<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;),b::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;,order::<span class="built_in">Int64</span>=<span class="number">1</span>)</span><br><span class="line">	n=length(b)</span><br><span class="line">	x=zeros(<span class="number">1</span>,n)</span><br><span class="line">	l= order==<span class="number">1</span> ? (n:-<span class="number">1</span>:<span class="number">1</span>) : (<span class="number">1</span>:n)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> l</span><br><span class="line">		l2= order==<span class="number">1</span> ? (i+<span class="number">1</span> : n) : (<span class="number">1</span>:i-<span class="number">1</span>)</span><br><span class="line">		<span class="keyword">for</span> j <span class="keyword">in</span> l2</span><br><span class="line">			b[i]-= a[i,j]*x[j]</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		</span><br><span class="line">		x[i] = b[i]/a[i,i]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">return</span> x</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> Gaussian_elimination(a::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;,b::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line">	n=length(b)</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span>  <span class="number">1</span> : n-<span class="number">1</span></span><br><span class="line">		<span class="keyword">if</span> abs(a[j,j]) &lt; <span class="number">10</span>^-<span class="number">20</span></span><br><span class="line">			error(<span class="string">&quot;zero pivot encountered&quot;</span>)</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span>  j+<span class="number">1</span>:n</span><br><span class="line">			mult = a[i,j]/a[j,j]</span><br><span class="line">			<span class="keyword">for</span> k = j : n</span><br><span class="line">				a[i,k] -=mult*a[j,k]  </span><br><span class="line">			<span class="keyword">end</span></span><br><span class="line">			b[i] -= mult*b[j]</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">return</span> back_substitution(a,b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">println(Gaussian_elimination(<span class="number">1.0</span>*[<span class="number">1</span> <span class="number">2</span> -<span class="number">1</span>; <span class="number">2</span> <span class="number">1</span> -<span class="number">2</span> ; -<span class="number">3</span> <span class="number">1</span> <span class="number">1</span>],[<span class="number">3</span> <span class="number">3</span> -<span class="number">6</span>]*<span class="number">1.0</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> LU(m::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line">n=length(m[<span class="number">1</span>,:])</span><br><span class="line"></span><br><span class="line">L=zeros(n,n)+I</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span>  <span class="number">1</span> : n-<span class="number">1</span></span><br><span class="line">		<span class="comment">#L[j,j]=1</span></span><br><span class="line">		<span class="keyword">if</span> abs(m[j,j]) &lt; <span class="number">10</span>^-<span class="number">20</span></span><br><span class="line">			error(<span class="string">&quot;zero pivot encountered&quot;</span>)</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span>  j+<span class="number">1</span>:n</span><br><span class="line">			</span><br><span class="line">			L[i,j]=  m[i,j]/m[j,j]</span><br><span class="line">			<span class="keyword">for</span> k = j : n</span><br><span class="line">				m[i,k] -= L[i,j]*m[j,k]  </span><br><span class="line">			<span class="keyword">end</span></span><br><span class="line">			</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> L,m</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">function</span> LU_solve(L::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;,U::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;,b::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line">	c=back_substitution(L,b,-<span class="number">1</span>)</span><br><span class="line">	println(c)</span><br><span class="line">	back_substitution(U,c)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">L,U=LU(<span class="number">1.0</span>*[<span class="number">1</span> <span class="number">2</span> -<span class="number">1</span> ; <span class="number">2</span> <span class="number">1</span> -<span class="number">2</span> ; -<span class="number">3</span> <span class="number">1</span> <span class="number">1</span>])</span><br><span class="line">println(L)</span><br><span class="line">println(U)</span><br><span class="line">println(LU_solve(L,U,[<span class="number">3</span> <span class="number">3</span> -<span class="number">6</span>]*<span class="number">1.0</span>))</span><br><span class="line">println(back_substitution([<span class="number">1</span> <span class="number">0</span> ; <span class="number">3</span> <span class="number">1</span> ]*<span class="number">1.0</span>,[<span class="number">3</span> <span class="number">2</span>]*<span class="number">1.0</span>,-<span class="number">1</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="è¯¯å·®æ¥æº">è¯¯å·®æ¥æº</h4>
<p>1.æ–¹é˜µ <span class="math inline">\(A\)</span>çš„æ€§è´¨<br />
<span class="math display">\[
\text { è¯¯å·®æ”¾å¤§å› å­ }=\frac{\text { ç›¸å¯¹å‰å‘è¯¯å·® }}{\text {
ç›¸å¯¹åå‘è¯¯å·®
}}=\frac{\frac{\left\|x-x_a\right\|_{\infty}}{\|x\|_{\infty}}}{\frac{\|r\|_{\infty}}{\|b\|_{\infty}}}
\]</span></p>
<p>æ–¹é˜µ <span class="math inline">\(A\)</span> çš„æ¡ä»¶æ•° <span
class="math inline">\(\operatorname{cond}(A)\)</span> ä¸ºæ±‚è§£ <span
class="math inline">\(A x=b\)</span> æ—¶, å¯¹äºæ‰€æœ‰å³ä¾§å‘é‡ <span
class="math inline">\(b\)</span>, å¯èƒ½å‡º ç°çš„æœ€å¤§è¯¯å·®æ”¾å¤§å› å­.<br />
ä»¤äººæƒŠè®¶çš„æ˜¯, å¯¹äºæ–¹é˜µæœ‰ä¸€ä¸ªå…³äºæ¡ä»¶æ•°çš„ç´§è‡´çš„å…¬å¼. å’Œå‘é‡èŒƒæ•°ç±»ä¼¼, å®šä¹‰
<span class="math inline">\(n \times n\)</span> çŸ©é˜µ <span
class="math inline">\(A\)</span> çš„çŸ©é˜µèŒƒæ•°ä¸º<br />
<span class="math display">\[
\|A\|_{\infty}= æ¯è¡Œå…ƒç´ ç»å¯¹å€¼ä¹‹å’Œçš„æœ€å¤§å€¼
\]</span></p>
<p>å³æ¯è¡Œå…ƒç´ ç»å¯¹å€¼æ±‚å’Œ, å¹¶æŠŠ <span class="math inline">\(n\)</span>
è¡Œæ±‚å’Œçš„æœ€å¤§å€¼ä½œä¸ºçŸ©é˜µ <span class="math inline">\(A\)</span>
çš„èŒƒæ•°.<br />
$ n n$ çŸ©é˜µ <span class="math inline">\(A\)</span> çš„æ¡ä»¶æ•°æ˜¯</p>
<p><span class="math display">\[
\operatorname{cond}(A)=\|A\| \cdot\left\|A^{-1}\right\|
\]</span></p>
<p>2.æ·¹æ²¡</p>
<p>é«˜æ–¯æ¶ˆå»æ³•ä¼šå› ä¸ºç¬¬ä¸€åˆ—ä¸»å…ƒè¿‡å°è€Œå¯¼è‡´å¤§æ•°å°æ•°ç›¸å‡è€Œå¿½ç•¥å°æ•°å¼•å…¥è¯¯å·®</p>
<p>PA=LUåˆ†è§£</p>
<p>å¯ä»¥è§£å†³0ä¸»å…ƒå’Œæ·¹æ²¡çš„é—®é¢˜</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> PA_LU(m::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line">	println(<span class="string">&quot;PA_LU&quot;</span>)</span><br><span class="line">	n=length(m[<span class="number">1</span>,:])</span><br><span class="line">	L=zeros(n,n)+I</span><br><span class="line">	p=zeros(n,n)+I</span><br><span class="line">	order=collect(<span class="number">1</span>:n)</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span>  <span class="number">1</span> : n-<span class="number">1</span></span><br><span class="line">		<span class="comment">#L[j,j]=1</span></span><br><span class="line">		change_row=findmax(m[j:n,j])[<span class="number">2</span>]</span><br><span class="line">		<span class="keyword">if</span> change_row !=j</span><br><span class="line">			m[j,:],m[change_row,:]=m[change_row,:],m[j,:]</span><br><span class="line">			</span><br><span class="line">			order[j],order[change_row]=order[change_row],order[j]</span><br><span class="line">			</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> abs(m[j,j]) &lt; <span class="number">10</span>^-<span class="number">20</span></span><br><span class="line">			error(<span class="string">&quot;zero pivot encountered&quot;</span>)</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span>  j+<span class="number">1</span>:n</span><br><span class="line">			</span><br><span class="line">			L[i,j]=  m[i,j]/m[j,j]</span><br><span class="line">			<span class="keyword">for</span> k = j : n</span><br><span class="line">				m[i,k] -= L[i,j]*m[j,k]  </span><br><span class="line">			<span class="keyword">end</span></span><br><span class="line">			</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> order!=collect(<span class="number">1</span>:n)</span><br><span class="line">		p=p*Permutation_matrix(order)</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">return</span> p,L,m <span class="comment"># P L U</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">P,L,U=PA_LU(<span class="number">1.0</span>*[<span class="number">1</span> <span class="number">2</span> -<span class="number">1</span> ; <span class="number">2</span> <span class="number">1</span> -<span class="number">2</span> ; -<span class="number">3</span> <span class="number">1</span> <span class="number">1</span>])</span><br><span class="line">println(<span class="string">&quot;P: &quot;</span>),display(P)</span><br><span class="line">println(<span class="string">&quot;L: &quot;</span>),display(L)</span><br><span class="line">println(<span class="string">&quot;U: &quot;</span>),display(U)</span><br><span class="line">Pb=[i <span class="keyword">for</span> i <span class="keyword">in</span> P*[<span class="number">3</span>;<span class="number">3</span>;-<span class="number">6</span>]]</span><br><span class="line">println(<span class="string">&quot;Pb: &quot;</span>),display(Pb)</span><br><span class="line">println(LU_solve(L,U,Pb*<span class="number">1.0</span>))</span><br><span class="line">println(LU_solve(L,U,[<span class="number">3.0</span>  -<span class="number">6.0</span>  <span class="number">3.0</span>]))</span><br><span class="line"></span><br><span class="line">P,L,U=PA_LU(<span class="number">1.0</span>*[<span class="number">2</span> <span class="number">1</span> <span class="number">5</span> ; <span class="number">4</span> <span class="number">4</span> -<span class="number">4</span> ; <span class="number">1</span> <span class="number">3</span> <span class="number">1</span>])</span><br><span class="line">println(<span class="string">&quot;P: &quot;</span>),display(P)</span><br><span class="line">println(<span class="string">&quot;L: &quot;</span>),display(L)</span><br><span class="line">println(<span class="string">&quot;U: &quot;</span>),display(U)</span><br><span class="line">Pb=[i <span class="keyword">for</span> i <span class="keyword">in</span> P*[<span class="number">5</span>;<span class="number">0</span>;<span class="number">6</span>]]</span><br><span class="line">println(<span class="string">&quot;Pb: &quot;</span>),display(Pb)</span><br><span class="line">println(LU_solve(L,U,Pb*<span class="number">1.0</span>))</span><br></pre></td></tr></table></figure>
<h2 id="é›…å¯æ¯”æ–¹æ³•">é›…å¯æ¯”æ–¹æ³•</h2>
<p><span class="math display">\[
\begin{split}
&amp;x_0= åˆå§‹å‘é‡ \\
&amp;x_{k+1}=D^{-1}\left(b-(L+U) x_k\right), k=0,1,2, \cdots
\end{split}
\]</span></p>
<p>å¯¹äºä¸¥æ ¼å¯¹è§’å ä¼˜çŸ©é˜µ(<span class="math inline">\(\left|a_{i
j}\right|&gt;\sum\limits_{i \neq j}\left|a_{i j}\right|\)</span>)
æ˜¯éå¥‡å¼‚çš„ä¸”é›…å¯æ¯”æ–¹æ³•æœ‰å”¯ä¸€è§£</p>
<h2 id="é«˜æ–¯-å¡å¾³æ–¹æ³•gauss-seidel">é«˜æ–¯-å¡å¾³æ–¹æ³•ï¼ˆGauss-Seidel)</h2>
<p><span class="math display">\[
\begin{aligned}
x_0 &amp; =\text { åˆå§‹å‘é‡ } \\
x_{k+1} &amp; =D^{-1}\left(b-U x_k-L x_{k+1}\right), k=0,1,2, \cdots
\end{aligned}
\]</span></p>
<h3 id="è¿ç»­è¿‡æ¾é©°-sor">è¿ç»­è¿‡æ¾é©° (SOR)</h3>
<p><span class="math display">\[
\begin{aligned}
x_0 &amp; =\text { åˆå§‹å‘é‡ } \\
x_{k+1} &amp; =(\omega L+D)^{-1}\left[(1-\omega) D x_k-\omega U
x_k\right]+\omega(D+\omega L)^{-1} b, k=0,1,2, \cdots
\end{aligned}
\]</span></p>
<p>æ­£å¦‚é›…å¯æ¯”å’Œé«˜æ–¯-å¡å¾·å°”æ–¹æ³•, å¦ä¸€ç§å¯¼å‡º SOR
çš„æ–¹æ³•æ˜¯å°†è¯¥ç³»ç»Ÿçœ‹åšä¸åŠ¨ç‚¹è¿­ä»£. é—®é¢˜ <span class="math inline">\(A
x=b\)</span> å¯ä»¥å†™æˆ <span class="math inline">\((L+D+U) x=b\)</span>,
ä¹˜ä¸Š <span class="math inline">\(\omega\)</span> å¹¶é‡æ–°ç»„ç»‡æ–¹ç¨‹,<br />
<span class="math display">\[
\begin{aligned}
(\omega L+\omega D+\omega U) x &amp; =\omega b \\
(\omega L+D) x &amp; =\omega b-\omega U x+(1-\omega) D x \\
x &amp; =(\omega L+D)^{-1}[(1-\omega) D x-\omega U x]+\omega(D+\omega
L)^{-1} b
\end{aligned}
\]</span></p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> L_inv(m::<span class="built_in">Matrix</span>&#123;<span class="built_in">Float64</span>&#125;,n::<span class="built_in">Int64</span>=length(m[<span class="number">1</span>,:]))</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:n</span><br><span class="line">		m[i,i]= m[i,i]!=<span class="number">0</span> ?  <span class="number">1</span>/m[i,i] : <span class="number">0</span></span><br><span class="line">		<span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>:i-<span class="number">1</span></span><br><span class="line">			</span><br><span class="line">				m[i,j]=-sum([ m[i,k]*m[k,j] <span class="keyword">for</span> k <span class="keyword">in</span> j:i-<span class="number">1</span>])*m[i,i] <span class="comment">#(1/m_ii)*sum(m_i,k*inv m_kj)</span></span><br><span class="line">			</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> m</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">function</span> SOR(a::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;,b::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;,w::<span class="built_in">Int64</span>=<span class="number">1</span>,k::<span class="built_in">Int64</span>=<span class="number">100</span>,eta::<span class="built_in">Float64</span>=<span class="number">10</span>^-<span class="number">6</span>)</span><br><span class="line">	<span class="keyword">if</span> w&lt;<span class="number">1</span> </span><br><span class="line">		error(<span class="string">&quot;w must be greater than 1 &quot;</span>)</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	n=length(b)</span><br><span class="line"></span><br><span class="line">	x=rand(n,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	D=zeros(n,n)</span><br><span class="line">	L=zeros(n,n)</span><br><span class="line">	U=zeros(n,n)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:n</span><br><span class="line">		<span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>:n</span><br><span class="line">			<span class="keyword">if</span> i==j</span><br><span class="line">				D[i,j]=a[i,j]</span><br><span class="line">			<span class="keyword">elseif</span> i&lt;j</span><br><span class="line">				U[i,j]=a[i,j]</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				L[i,j]=a[i,j]</span><br><span class="line">			<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	println(n)</span><br><span class="line">	wLD_inv=</span><br><span class="line">    L_inv((w*L+D),n)</span><br><span class="line">	</span><br><span class="line">	w_wLD_inv_b=w*wLD_inv*(b&#x27;)</span><br><span class="line">	wd=(<span class="number">1</span>-w)*D-w*U</span><br><span class="line">	display(wd)</span><br><span class="line">	display(wLD_inv*(w*L+D))</span><br><span class="line">	display(w_wLD_inv_b)</span><br><span class="line">	display(wLD_inv)</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:k</span><br><span class="line">		x=wLD_inv*(wd*x)+w_wLD_inv_b</span><br><span class="line">		</span><br><span class="line">		r=sum([i^<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> (a*x-b&#x27;)])^<span class="number">0.5</span></span><br><span class="line">		println(<span class="string">&quot;r &quot;</span>,r)</span><br><span class="line">		<span class="keyword">if</span>  r &lt;eta</span><br><span class="line">			println(<span class="string">&quot;SOR convergence in &quot;</span>,i,<span class="string">&quot; step&quot;</span>)</span><br><span class="line">			<span class="keyword">return</span> x&#x27;			</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> x&#x27;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">println(SOR(<span class="number">1.0</span>*[<span class="number">3</span> -<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0.5</span>; -<span class="number">1</span> <span class="number">3</span> -<span class="number">1</span> <span class="number">0</span> <span class="number">0.5</span> <span class="number">0</span>;<span class="number">0</span> -<span class="number">1</span> <span class="number">3</span> -<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> ;<span class="number">0</span> <span class="number">0</span> -<span class="number">1</span> <span class="number">3</span> -<span class="number">1</span> <span class="number">0</span> ;<span class="number">0</span> <span class="number">0.5</span> <span class="number">0</span> -<span class="number">1</span> <span class="number">3</span> -<span class="number">1</span> ; <span class="number">0.5</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">1</span> <span class="number">3</span>],[<span class="number">5</span>/<span class="number">2.0</span> <span class="number">3</span>/<span class="number">2.0</span> <span class="number">1.0</span> <span class="number">1.0</span> <span class="number">3</span>/<span class="number">2.0</span> <span class="number">5</span>/<span class="number">2.0</span>]*<span class="number">1.0</span>))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿­ä»£æ³•å¯ä»¥ç”¨æ¥æ±‚ç¨€ç–çŸ©é˜µæ¯”è¾ƒæœ‰æ•ˆ</p>
<h3 id="éçº¿æ€§æ–¹ç¨‹ç»„">éçº¿æ€§æ–¹ç¨‹ç»„</h3>
<p><span class="math display">\[
\begin{aligned}
f_1(x_1, x_2,..., x_n)&amp;=0 \\
f_2(x_1, x_2,..., x_n)&amp;=0 \\
\vdots\\
f_m(x_1, x_2,..., x_n)&amp;=0
\end{aligned}
\]</span></p>
<h4 id="å¤šå˜é‡ç‰›é¡¿æ³•">å¤šå˜é‡ç‰›é¡¿æ³•</h4>
<p>ç±»ä¼¼ç‰›é¡¿æ³•ç›´æ¥ç”¨é›…å¯æ¯”çŸ©é˜µè¿­ä»£æ±‚è§£</p>
<h4 id="broydenæ–¹æ³•">Broydenæ–¹æ³•</h4>
<p><span class="math display">\[
\begin{aligned}
&amp; x_0=\text { åˆå§‹å‘é‡ } \\
&amp; A_0=\text { åˆå§‹çŸ©é˜µ } \\
&amp; \text { for } i=0,1,2, \cdots \\
&amp; \qquad x_{i+1}=x_i-A_i^{-1} F\left(x_i\right) \\
&amp; \qquad A_{i+1}=A_i+\frac{\left(\Delta_{i+1}-A_i
\delta_{i+1}\right) \delta_{i+1}^{\mathrm{T}}}{\delta_{i+1}^{\mathrm{T}}
\delta_{i+1}}
\end{aligned}\notag
\]</span><br />
å…¶ä¸­ <span class="math inline">\(\delta_{i+1}=x_{i+1}-x_i,
\Delta_{i+1}=F\left(x_{i+1}\right)-F\left(x_i\right)\)</span></p>
<h4 id="broyden-æ–¹æ³•ii">Broyden æ–¹æ³•II</h4>
<p><span class="math display">\[
\begin{aligned}
&amp; x_0=\text { åˆå§‹å‘é‡ } \\
&amp; B_0=\text { åˆå§‹çŸ©é˜µ } \\
&amp; \text { for } i=0,1,2, \cdots \\
&amp; \qquad x_{i+1}=x_i-B_i F\left(x_i\right) \\
&amp; \qquad B_{i+1}=B_i+\frac{\left(\delta_{i+1}-B_i
\Delta_{i+1}\right) \delta_{i+1}^{\mathrm{T}}
B_i}{\delta_{i+1}^{\mathrm{T}} B_i \Delta_{i+1}}
\end{aligned}\notag
\]</span><br />
å…¶ä¸­ <span class="math inline">\(\delta_{i+1}=x_{i+1}-x_i,
\Delta_{i+1}=F\left(x_{i+1}\right)-F\left(x_i\right)\)</span></p>
<h2 id="æ’å€¼">æ’å€¼</h2>
<p>å®šç† 3.4 å‡è®¾ <span class="math inline">\(P(x)\)</span> æ˜¯ <span
class="math inline">\(n-1\)</span> æˆ–è€…æ›´ä½é˜¶çš„æ’å€¼å¤šé¡¹å¼, å…¶æ‹Ÿåˆ <span
class="math inline">\(n\)</span> ä¸ªç‚¹ <span
class="math inline">\(\left(x_1, y_1\right), \cdots\)</span>, <span
class="math inline">\(\left(x_n, y_n\right)\)</span>. æ’å€¼è¯¯å·®æ˜¯<br />
<span class="math display">\[
f(x)-P(x)=\frac{\left(x-x_1\right)\left(x-x_2\right)
\cdots\left(x-x_n\right)}{n !} f^{(n)}(c)
\]</span><br />
å…¶ä¸­ <span class="math inline">\(c\)</span> åœ¨æœ€å°å’Œæœ€å¤§çš„ <span
class="math inline">\(n+1\)</span> ä¸ªæ•°å­— <span class="math inline">\(x,
x_1, \cdots, x_n\)</span> ä¹‹é—´.</p>
<h3 id="æ‹‰æ ¼æœ—æ—¥æ’å€¼">æ‹‰æ ¼æœ—æ—¥æ’å€¼</h3>
<p>ä¸€èˆ¬æ¥è¯´, å¦‚æœæˆ‘ä»¬æœ‰ <span class="math inline">\(n\)</span> ä¸ªç‚¹
<span class="math inline">\(\left(x_1, y_1\right), \cdots,\left(x_n,
y_n\right)\)</span>. å¯¹äº <span class="math inline">\(1 \sim n\)</span>
ä¹‹é—´çš„æ¯ä¸ª <span class="math inline">\(k\)</span>, å®š ä¹‰ <span
class="math inline">\(n-1\)</span> æ¬¡å¤šé¡¹å¼<br />
<span class="math display">\[
L_k(x)=\frac{\left(x-x_1\right)
\cdots\left(x-x_{k-1}\right)\left(x-x_{k+1}\right)
\cdots\left(x-x_n\right)}{\left(x_k-x_1\right)
\cdots\left(x_k-x_{k-1}\right)\left(x_k-x_{k+1}\right)
\cdots\left(x_k-x_n\right)}
\]</span><br />
<span class="math inline">\(L_k\)</span> å…·æœ‰ä¸€ä¸ªæœ‰è¶£çš„æ€§è´¨, å³ <span
class="math inline">\(L_k\left(x_k\right)=1\)</span>, è€Œ <span
class="math inline">\(L_k\left(x_j\right)=0\)</span>, å…¶ä¸­ <span
class="math inline">\(x_j\)</span> æ˜¯ä»»ä½•ä¸€ä¸ªå…¶ä»–çš„æ•°æ® ç‚¹. ç„¶åå®šä¹‰äº†
<span class="math inline">\(n-1\)</span> æ¬¡å¤šé¡¹å¼<br />
<span class="math display">\[
P_{n-1}(x)=y_1 L_1(x)+\cdots+y_n L_n(x)
\]</span><br />
è¿™æ˜¯å¯¹ (3.1) ä¸­å¤šé¡¹å¼ç›´æ¥çš„æ¨å¹¿, å¹¶ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œ. ç”¨ <span
class="math inline">\(x_k\)</span> æ›¿ä»£ <span
class="math inline">\(x\)</span> å¾—åˆ°<br />
<span class="math display">\[
P_{n-1}\left(x_k\right)=y_1 L_1\left(x_k\right)+\cdots+y_n
L_n\left(x_k\right)=0+\cdots+0+y_k L_k\left(x_k\right)+0+\cdots+0=y_k
\]</span><br />
å¯ä»¥çœ‹å‡ºè¯¥å¤šé¡¹å¼æ»¡è¶³è®¾è®¡è¦æ±‚.</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> Lagrange_inter(x0::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;,y0::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line">	<span class="keyword">return</span> x-&gt; sum([ y0[j]*mapreduce(m-&gt;m,*,[(x-x0[i])/(x0[j]-x0[i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:length(y0) <span class="keyword">if</span> i!= j ])  <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>:length(y0)])</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">f_Lagrange=Lagrange_inter([<span class="number">0.0</span> <span class="number">2.0</span> <span class="number">3</span>],[<span class="number">1.0</span> <span class="number">2</span> <span class="number">4</span>])</span><br><span class="line">println(ff(<span class="number">1.0</span>))</span><br></pre></td></tr></table></figure>
<h3 id="ç‰›é¡¿å·®å•†">ç‰›é¡¿å·®å•†</h3>
<p><span class="math display">\[
\begin{aligned}
f\left[x_k\right] &amp; =f\left(x_k\right) \\
f\left[x_k x_{k+1}\right] &amp;
=\frac{f\left[x_{k+1}\right]-f\left[x_k\right]}{x_{k+1}-x_k} \\
f\left[x_k x_{k+1} x_{k+2}\right] &amp; =\frac{f\left[x_{k+1}
x_{k+2}\right]-f\left[x_k x_{k+1}\right]}{x_{k+2}-x_k} \\
f\left[\begin{array}{lll}
x_k x_{k+1} &amp; x_{k+2} &amp; x_{k+3}
\end{array}\right] &amp; =\frac{f\left[x_{k+1} x_{k+2}
x_{k+3}\right]-f\left[x_k x_{k+1} x_{k+2}\right.}{x_{k+3}-x_k}
\end{aligned}
\]</span></p>
<p><span class="math display">\[
\begin{array}{l|lll}
x_1 &amp; f\left[x_1\right] &amp; \\
&amp; &amp; f\left[\begin{array}{ll}
x_1 x_2
\end{array}\right] &amp; \\
x_2 &amp; f\left[x_2\right] &amp; &amp; f\left[\begin{array}{lll}
x_1 &amp; x_2 &amp; x_3
\end{array}\right] \\
&amp; &amp; f\left[x_2 x_3\right] &amp; \\
x_3 &amp; f\left[x_3\right] &amp;
\end{array}
\]</span></p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> newtdd(x::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;,y::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line">	n = length(x)</span><br><span class="line">	v = zeros(n,n)</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>:n</span><br><span class="line">		v[j,<span class="number">1</span>]=y[j]</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">2</span>:n</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>: n+<span class="number">1</span>-i</span><br><span class="line">			v[j,i]= (v[j+<span class="number">1</span>,i-<span class="number">1</span>]-v[j,i-<span class="number">1</span>])/(x[j+i-<span class="number">1</span>]-x[j])</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span>(v[<span class="number">1</span>,:])</span><br></pre></td></tr></table></figure>
<h3 id="åˆ‡æ¯”é›ªå¤«æ’å€¼èŠ‚ç‚¹">åˆ‡æ¯”é›ªå¤«æ’å€¼èŠ‚ç‚¹</h3>
<p>åœ¨åŒºé—´ <span class="math inline">\([a, b]\)</span>,<br />
<span class="math display">\[
x_i=\frac{b+a}{2}+\frac{b-a}{2} \cos \frac{(2 i-1) \pi}{2 n}
\]</span><br />
<span class="math inline">\(i=1, \cdots, n\)</span> ï¼Œä¸ç­‰å¼<br />
<span class="math display">\[
\left|\left(x-x_1\right) \cdots\left(x-x_n\right)\right| \leqslant
\frac{\left(\frac{b-a}{2}\right)^n}{2^{n-1}}
\]</span><br />
åœ¨åŒºé—´ <span class="math inline">\([a, b]\)</span> ä¸Šæˆç«‹.</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> mysin(x::<span class="built_in">Float64</span>,n::<span class="built_in">Int64</span>=<span class="number">10</span>)</span><br><span class="line">	xsin= [ <span class="literal">pi</span>/<span class="number">4</span> + (<span class="literal">pi</span>/<span class="number">4</span>)* cos(i*<span class="literal">pi</span>/(<span class="number">2</span>*n)) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:<span class="number">2</span>:<span class="number">2</span>*n-<span class="number">1</span>]</span><br><span class="line">	ysin= map(sin,xsin)</span><br><span class="line">	c= newtdd(xsin,ysin)</span><br><span class="line">	s=<span class="number">1</span></span><br><span class="line">	x1=mod(x,<span class="number">2</span>*<span class="literal">pi</span>)</span><br><span class="line">	<span class="keyword">if</span> x1&gt;<span class="literal">pi</span></span><br><span class="line">		x1= <span class="number">2</span>*<span class="literal">pi</span>-x1</span><br><span class="line">		s=-<span class="number">1</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">if</span> x1 &gt; <span class="literal">pi</span>/<span class="number">2</span></span><br><span class="line">		x1 = <span class="literal">pi</span> - x1</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> s*hornor(x1,n-<span class="number">1</span>,c,xsin)  <span class="comment">#hornor(x::Float64,n::Int64,c::Vector&#123;Float64&#125;=[1. for  i in 1:n+1],b::Vector&#123;Float64&#125;=[0. for  i in 1:n+1])</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">println(sin(<span class="number">10</span>),<span class="string">&quot; &quot;</span>,mysin(<span class="number">10.0</span>))</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰æ¬¡æ ·æ¡æ’å€¼">ä¸‰æ¬¡æ ·æ¡æ’å€¼</h3>
<p>ä¸ºäº†æ›´åŠ ç²¾ç¡®åœ°å®šä¹‰ä¸‰æ¬¡æ ·æ¡çš„æ€§è´¨, æˆ‘ä»¬åšå‡ºå¦‚ä¸‹çš„å®šä¹‰: å‡è®¾ç»™å®š <span
class="math inline">\(n\)</span> ä¸ªç‚¹ <span
class="math inline">\(\left(x_1\right.\)</span>, <span
class="math inline">\(\left.y_1\right), \cdots,\left(x_n,
y_n\right)\)</span>, å…¶ä¸­ <span class="math inline">\(x_i\)</span> ä¸åŒ,
å¹¶ä¸”å‡åº. é€šè¿‡ç‚¹ <span class="math inline">\(\left(x_1, y_1\right),
\cdots,\left(x_n, y_n\right)\)</span> çš„ä¸‰æ¬¡æ · æ¡ <span
class="math inline">\(S(x)\)</span> æ˜¯ä¸€ç»„ä¸‰æ¬¡å¤šé¡¹å¼<br />
<span class="math display">\[
\begin{aligned}
S_1(x) &amp;
=y_1+b_1\left(x-x_1\right)+c_1\left(x-x_1\right)^2+d_1\left(x-x_1\right)^3
\text { åœ¨åŒºé—´ }\left[x_1, x_2\right] \text { ä¸Š } \\
S_2(x) &amp;
=y_2+b_2\left(x-x_2\right)+c_2\left(x-x_2\right)^2+d_2\left(x-x_2\right)^3
\text { åœ¨åŒºé—´ }\left[x_2, x_3\right] \text { ä¸Š } \\
&amp; \vdots \\
S_{n-1}(x) &amp;
=y_{n-1}+b_{n-1}\left(x-x_{n-1}\right)+c_{n-1}\left(x-x_{n-1}\right)^2+d_{n-1}\left(x-x_{n-1}\right)^3
\text { åœ¨åŒºé—´ }\left[x_{n-1}, x_n\right] \text { ä¸Š }
\end{aligned}
\]</span><br />
å¹¶å…·æœ‰å¦‚ä¸‹æ€§è´¨:<br />
æ€§è´¨ 1 $ S_i(x_i)=y_i, S_i(x_{i+1})=y_{i+1}$, å…¶ä¸­ <span
class="math inline">\(i=1, \cdots, n-1\)</span>.<br />
æ€§è´¨ 2 $ S_{i-1}<sup>{}(x_i)=S_i</sup>{}(x_i)$, å…¶ä¸­ <span
class="math inline">\(i=2, \cdots, n-1\)</span>.<br />
æ€§è´¨ 3 $ S_{i-1}<sup>{}(x_i)=S_i</sup>{}(x_i)$, å…¶ä¸­ <span
class="math inline">\(i=2, \cdots, n-1\)</span>.<br />
æ€§è´¨ 1 ä¿è¯æ ·æ¡ <span class="math inline">\(S(x)\)</span> æ’å€¼æ•°æ®ç‚¹.
æ€§è´¨ 2 ä½¿å¾—ç›¸é‚»çš„æ ·æ¡æ®µåœ¨å®ƒä»¬ç›¸é‡çš„åœ°æ–¹æ–œç‡ç›¸ åŒ, æ€§è´¨ 3
åˆ™ä¿è¯åœ¨ä¸¤æ¡æ ·æ¡æ®µç›¸é‚»çš„åœ°æ–¹æ›²ç‡ç›¸åŒ, è¯¥æ›²ç‡ç”±äºŒé˜¶å¯¼æ•°è¡¨ç¤º.</p>
<p>è¿™ä¸‰ä¸ªæ€§è´¨åªèƒ½æä¾›3n-5ä¸ªç‹¬ç«‹æ–¹ç¨‹
æ‰€ä»¥è¦ç»™å‡ºä¸€ä¸ªç¡®å®šçš„æ ·æ¡æ’å€¼éœ€è¦æ·»åŠ é¢å¤–çš„æ€§è´¨ ä»è€Œæ„æˆäº†ä¸åŒçš„æ ·æ¡</p>
<h4 id="è‡ªç„¶æ ·æ¡">è‡ªç„¶æ ·æ¡</h4>
<p>æ€§è´¨ 4a $ S_{1}<sup>{}(x_1)=0,S_{n-1}</sup>{}(x_n)=0$</p>
<p>ä½¿ç”¨è‡ªç„¶æ ·æ¡æ¡ä»¶ (æ€§è´¨ <span class="math inline">\(4 a\)</span> )
å¯ä»¥å¾—åˆ°å¦å¤–çš„ä¸¤ä¸ªæ–¹ç¨‹:<br />
<span class="math display">\[
\begin{aligned}
S_1^{\prime \prime}\left(x_1\right) &amp; =0 \rightarrow 2 c_1=0 \\
S_{n-1}^{\prime \prime}\left(x_n\right) &amp; =0 \rightarrow 2 c_n=0
\end{aligned}
\]</span><br />
å¼•äººé¢å¤–çš„æœªçŸ¥å˜é‡ <span class="math inline">\(c_n=S_{n-1}^{\prime
\prime}\left(x_n\right) / 2\)</span>, è®¡ç®—ä¼šæ›´ç®€å•. åŒæ—¶,
æˆ‘ä»¬å¼•äººé€Ÿè®°è¡¨ç¤ºæ³• <span class="math inline">\(\delta_i=x_{i+1}-x_i,
\Delta_i=y_{i+1}-y_i\)</span></p>
<p>å¯¹äº <span class="math inline">\(n\)</span> ä¸ªæœªçŸ¥å˜é‡ <span
class="math inline">\(c_i\)</span>, ä¸€å…±ç»™å‡ºäº† <span
class="math inline">\(n\)</span> ä¸ªæ–¹ç¨‹, å¯ä»¥å†™æˆçŸ©é˜µå½¢å¼<br />
<span class="math display">\[
\left[\begin{array}{cccccc}
1 &amp; 0 &amp; 0 &amp; &amp; &amp; \\
\delta_1 &amp; 2 \delta_1+2 \delta_2 &amp; \delta_2 &amp; \ddots &amp;
&amp; \\
0 &amp; \delta_2 &amp; 2 \delta_2+2 \delta_3 &amp; \delta_3 &amp; &amp;
\\
&amp; \ddots &amp; \ddots &amp; \ddots &amp; \ddots &amp; \\
&amp; &amp; &amp; \delta_{n-2} &amp; 2 \delta_{n-2}+2 \delta_{n-1} &amp;
\delta_{n-1} \\
&amp; &amp; &amp; 0 &amp; 0 &amp; 1
\end{array}\right]\left[\begin{array}{c}
c_1 \\
\vdots \\
c_n
\end{array}\right]=\left[\begin{array}{c}
0 \\
3\left(\frac{\Delta_2}{\delta_2}-\frac{\Delta_1}{\delta_1}\right) \\
3\left(\frac{\Delta_{n-1}}{\delta_{n-1}}-\frac{\Delta_{n-2}}{\delta_{n-2}}\right)
\\
0
\end{array}\right]
\]</span></p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> Spline_Interpolation(x::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;, y::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line">	n = length(x)</span><br><span class="line">	</span><br><span class="line">	delta=[(x[i+<span class="number">1</span>] - x[i], y[i+<span class="number">1</span>] -y[i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:n-<span class="number">1</span>]</span><br><span class="line">	</span><br><span class="line">	m=zeros(n,n)</span><br><span class="line">	m[<span class="number">1</span>,<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">	m[n,n]=<span class="number">1</span></span><br><span class="line">	b=zeros(n,<span class="number">1</span>)</span><br><span class="line">	<span class="keyword">for</span>  i <span class="keyword">in</span> <span class="number">2</span>:n-<span class="number">1</span></span><br><span class="line">	</span><br><span class="line">		m[i,i-<span class="number">1</span>], m[i,i] ,m[i,i+<span class="number">1</span>] = delta[i-<span class="number">1</span>][<span class="number">1</span>] , <span class="number">2</span>*delta[i-<span class="number">1</span>][<span class="number">1</span>] + <span class="number">2</span>*delta[i][<span class="number">1</span>] ,delta[i][<span class="number">1</span>]</span><br><span class="line">		</span><br><span class="line">		b[i]= <span class="number">3</span>* (delta[i][<span class="number">2</span>]/delta[i][<span class="number">1</span>] -delta[i-<span class="number">1</span>][<span class="number">2</span>]/delta[i-<span class="number">1</span>][<span class="number">1</span>])</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	c=m\b</span><br><span class="line">	</span><br><span class="line">	d=zeros(<span class="number">1</span>,n)</span><br><span class="line">	b=zeros(<span class="number">1</span>,n)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:n-<span class="number">1</span></span><br><span class="line">		d[i]=(c[i+<span class="number">1</span>]-c[i])/(<span class="number">3</span>*delta[i][<span class="number">1</span>])<span class="comment">#[((c[i+1]-c[i])/(3*delta[i][1]), delta[i][2]/delta[i][1] - delta[i][1](2* c[i] + c[i+1])/3) for i in 1:n-1]</span></span><br><span class="line">		b[i]=delta[i][<span class="number">2</span>]/delta[i][<span class="number">1</span>] - delta[i][<span class="number">1</span>]*(<span class="number">2</span>* c[i] + c[i+<span class="number">1</span>])/<span class="number">3</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">return</span> y , b , c ,d</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">println(Spline_Interpolation([<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]*<span class="number">1.0</span>,[<span class="number">3</span> -<span class="number">2</span> <span class="number">1</span>]*<span class="number">1.0</span>))</span><br></pre></td></tr></table></figure>
<h3 id="è´å¡å°”æ›²çº¿">è´å¡å°”æ›²çº¿</h3>
<h2 id="æœ€å°äºŒä¹˜æ³•">æœ€å°äºŒä¹˜æ³•</h2>
<p>é¦–å…ˆæä¸€å¥juliaä¸­ <code>\</code>å‡½æ•°å¯ä»¥æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„<span
class="math inline">\(A x = b\)</span> ï¼Œå…¶ä¸­<span
class="math inline">\(A\)</span>æ˜¯æ–¹é˜µ</p>
<p>å½“Açš„è¡Œæ•°å¤§äºåˆ—æ•°æ—¶ï¼Œ<code>\</code>å‡½æ•°å¯ä»¥è®¡ç®—è¶…å®šæ–¹ç¨‹çš„æœ€å°äºŒä¹˜è§£</p>
<h3 id="æ³•çº¿æ–¹ç¨‹">æ³•çº¿æ–¹ç¨‹</h3>
<p>æœ€å°äºŒä¹˜çš„æ³•çº¿æ–¹ç¨‹<br />
å¯¹äºä¸ä¸€è‡´ç³»ç»Ÿ<br />
<span class="math display">\[
A x=b
\]</span><br />
æ±‚è§£ <span class="math inline">\(\bar{x}\)</span> çš„è®¡ç®—å…¬å¼å¦‚ä¸‹.
æˆ‘ä»¬å·²ç»çŸ¥é“<br />
<span class="math display">\[
(b-A \bar{x}) \perp\left\{A x \mid x \in R^n\right\}
\]</span><br />
æŠŠå‚ç›´æ€§è¡¨ç¤ºä¸ºçŸ©é˜µçš„ä¹˜æ³•, æˆ‘ä»¬å‘ç°å¯¹äº <span
class="math inline">\(R^n\)</span> ä¸Šæ‰€æœ‰çš„ <span
class="math inline">\(x\)</span>,<br />
<span class="math display">\[
(A x)^{\mathrm{T}}(b-A \bar{x})=0
\]</span><br />
ä½¿ç”¨å‰é¢å…³äºè½¬ç½®çš„äº‹å®, æˆ‘ä»¬å¯ä»¥é‡å†™è¯¥å¼å­, å³å¯¹äº <span
class="math inline">\(R^n\)</span> ä¸Šæ‰€æœ‰çš„ <span
class="math inline">\(x\)</span>,<br />
<span class="math display">\[
x^{\mathrm{T}} A^{\mathrm{T}}(b-A \bar{x})=0
\]</span><br />
æ±‚è§£<br />
<span class="math display">\[
A^{\mathrm{T}} A \bar{x}=A^{\mathrm{T}} b
\]</span><br />
å¾—åˆ°çš„ <span class="math inline">\(\bar{x}\)</span>, å°±æ˜¯æœ€å°äºŒä¹˜è§£,
å®ƒå¯ä»¥æœ€å°åŒ–ä½™é¡¹ <span class="math inline">\(r=b-A x\)</span>
çš„æ¬§æ°é•¿åº¦.</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> least_sqaure(a::(<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;),b::<span class="built_in">Array</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line"></span><br><span class="line">	A=a&#x27;*a</span><br><span class="line">	ab=a&#x27;*b&#x27;</span><br><span class="line">	P,L,U=PA_LU(A)</span><br><span class="line">	Pb=[i <span class="keyword">for</span> i <span class="keyword">in</span> P*ab]</span><br><span class="line">	<span class="keyword">return</span> LU_solve(L,U,Pb*<span class="number">1.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="qr-åˆ†è§£">QR åˆ†è§£</h3>
<h4 id="ç»å…¸æ ¼æ‹‰å§†-æ–½å¯†ç‰¹æ­£äº¤">ç»å…¸æ ¼æ‹‰å§†-æ–½å¯†ç‰¹æ­£äº¤</h4>
ä»¤ <span class="math inline">\(A_j(j=1, \cdots, n)\)</span>
ä¸ºçº¿æ€§æ— å…³å‘é‡.<br />
$$<br />

<span class="math display">\[\begin{gathered}

\begin{array}{l}
\text { for } j=1,2, \cdots, n \\
\quad \quad y=A_j \\
\quad \quad \text { for } i=1,2, \cdots, j-1 \\
\quad \quad \quad r_{i j}=q_i^{\mathrm{T}} A_j \\
\quad \quad \quad y=y-r_{i j} q_i\\
\quad  \quad  \text { end } \\


%\begin{array}{l}
\quad  \quad  y=\|y \|_2 \\
\quad  \quad  r_{j j}=y / r_{j j}\\
   \text { end }
%\end{array}
\end{array} \\
\end{gathered} \notag\]</span>
<p>$$</p>
<h4 id="æ”¹è¿›æ ¼æ‹‰å§†-æ–½å¯†ç‰¹æ­£äº¤">æ”¹è¿›æ ¼æ‹‰å§†-æ–½å¯†ç‰¹æ­£äº¤</h4>
<p><span class="math display">\[
\begin{gathered}
\begin{array}{l}
\text { for } j=1,2, \cdots, n \\
\quad \quad y=A_j \\
\quad \quad \text { for } i=1,2, \cdots, j-1 \\
\quad \quad \quad r_{i j}=q_i^{\mathrm{T}} y \\
\quad \quad \quad y=y-r_{i j} q_i\\
\quad  \quad  \text { end } \\%\begin{array}{l}
\quad  \quad  y=\|y \|_2 \\
\quad  \quad  r_{j j}=y / r_{j j}\\   
\text { end }%\end{array}
\end{array} \\
\end{gathered} \notag
\]</span></p>
<h4 id="è±ªæ–¯éœå°”å¾³-æ–¹æ³•">è±ªæ–¯éœå°”å¾³ æ–¹æ³•</h4>
<p>è±ªæ–¯éœå°”å¾·åå°„å­ä»¤ <span class="math inline">\(x\)</span> å’Œ <span
class="math inline">\(w\)</span> æ˜¯å‘é‡, <span
class="math inline">\(\|x\|_2=\|w\|_2\)</span>, å¹¶å®šä¹‰ <span
class="math inline">\(v=w-\)</span> <span
class="math inline">\(x\)</span>. åˆ™ <span class="math inline">\(H=I-2 v
v^{\mathrm{T}} / v^{\mathrm{T}}\)</span> æ˜¯å¯¹ç§°æ­£äº¤çŸ©é˜µ, å¹¶ä¸” <span
class="math inline">\(H x=w\)</span>.</p>
<p>æ±‚å‡ºAçŸ©é˜µæ¯åˆ—å‘é‡çš„è±ªæ–¯éœå°”å¾³åå°„å­H å¾—åˆ° Q= H1 H2 H3 R= H3 H2 H1(
å¦‚æœçŸ©é˜µæ˜¯åˆ—æ•°ä¸º3çš„è¯)</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> Householder(x::<span class="built_in">Vector</span>&#123;<span class="built_in">Float64</span>&#125;,w::<span class="built_in">Vector</span>&#123;<span class="built_in">Float64</span>&#125;)</span><br><span class="line">	v=w-x</span><br><span class="line">	P= v* (v&#x27;)/(v&#x27;*v)</span><br><span class="line">	<span class="keyword">return</span> I- <span class="number">2</span>*P</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> QR(m::<span class="built_in">Matrix</span>&#123;<span class="built_in">Float64</span>&#125;,method::<span class="built_in">String</span>=<span class="string">&quot;QR class&quot;</span>)</span><br><span class="line">	n=size(m)</span><br><span class="line">	Q=zeros(n[<span class="number">1</span>],n[<span class="number">2</span>])</span><br><span class="line">	Q[:,<span class="number">1</span>]=m[:,<span class="number">1</span>]</span><br><span class="line">	r=zeros(n[<span class="number">1</span>],n[<span class="number">2</span>])</span><br><span class="line">	println(method)</span><br><span class="line">	<span class="keyword">if</span> method ==<span class="string">&quot;Householder method&quot;</span></span><br><span class="line">		H=I+zeros(n[<span class="number">1</span>],n[<span class="number">1</span>])</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>:n[<span class="number">2</span>]</span><br><span class="line">		<span class="keyword">if</span> method == <span class="string">&quot;Householder method&quot;</span></span><br><span class="line">			H2=I +zeros(n[<span class="number">1</span>],n[<span class="number">1</span>])</span><br><span class="line">	 		H2[j:n[<span class="number">1</span>],j:n[<span class="number">1</span>]] =Householder(m[j:n[<span class="number">1</span>],j],[k== j ? norm(m[j:n[<span class="number">1</span>],j]) : <span class="number">0.0</span> <span class="keyword">for</span> k <span class="keyword">in</span> j:n[<span class="number">1</span>]])</span><br><span class="line">	 		H= H*H2</span><br><span class="line">	 		m=H2*m</span><br><span class="line">			</span><br><span class="line">		<span class="keyword">else</span> </span><br><span class="line">			y=m[:,j]</span><br><span class="line">			<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:j-<span class="number">1</span></span><br><span class="line"></span><br><span class="line">				r[i,j] =  method ==<span class="string">&quot;QR class&quot;</span> ? Q[:,i]&#x27; *m[:,j] :  Q[:,i]&#x27; *y</span><br><span class="line">				y= y- r[i,j]* Q[:,i]</span><br><span class="line">			<span class="keyword">end</span></span><br><span class="line">			r[j,j]=  sqrt(sum([ i^<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> y ]))<span class="comment">#norm(y)</span></span><br><span class="line">			Q[:,j]= y/r[j,j]</span><br><span class="line"></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> method ==<span class="string">&quot;Householder method&quot;</span></span><br><span class="line">		Q,r =H , m</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> Q ,r</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Q,r = QR([<span class="number">1</span> -<span class="number">4</span> ; <span class="number">2</span> <span class="number">3</span> ;<span class="number">2</span> <span class="number">2</span> ]*<span class="number">1.0</span>,<span class="string">&quot;QR class&quot;</span>)</span><br><span class="line">display(Q)</span><br><span class="line">display(r)</span><br><span class="line">Q,r = QR([<span class="number">1</span> -<span class="number">4</span> ; <span class="number">2</span> <span class="number">3</span> ;<span class="number">2</span> <span class="number">2</span> ]*<span class="number">1.0</span>,<span class="string">&quot;QR&quot;</span>)</span><br><span class="line">display(Q)</span><br><span class="line">display(r)</span><br><span class="line"></span><br><span class="line">Q,r = QR([<span class="number">1</span> -<span class="number">4</span> ; <span class="number">2</span> <span class="number">3</span> ;<span class="number">2</span> <span class="number">2</span> ]*<span class="number">1.0</span>,<span class="string">&quot;Householder method&quot;</span>)</span><br><span class="line">display(Q)</span><br><span class="line">display(r)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="é€šè¿‡-q-r-åˆ†è§£å®ç°æœ€å°äºŒä¹˜">é€šè¿‡ <span class="math inline">\(Q
R\)</span> åˆ†è§£å®ç°æœ€å°äºŒä¹˜</h4>
<p>ç»™å®š <span class="math inline">\(m \times n\)</span> ä¸ä¸€è‡´ç³»ç»Ÿ<br />
<span class="math display">\[
A x=b
\]</span><br />
æ‰¾å‡ºå®Œå…¨ <span class="math inline">\(Q R\)</span> åˆ†è§£ <span
class="math inline">\(A=Q R\)</span>, ä»¤<span
class="math inline">\(\hat{R}=R\)</span> çš„ä¸Š <span
class="math inline">\(n \times n\)</span> å­çŸ©é˜µ<span
class="math inline">\(\hat{d}=d=Q^{\mathrm{T}} b\)</span> çš„ä¸Šé¢çš„ <span
class="math inline">\(n\)</span> ä¸ªå…ƒç´  æ±‚è§£ <span
class="math inline">\(\hat{R} \bar{x}=\hat{d}\)</span> å¾—åˆ°æœ€å°äºŒä¹˜è§£
<span class="math inline">\(\bar{x}\)</span>.</p>
<h3 id="éçº¿æ€§æœ€å°äºŒä¹˜æ³•">éçº¿æ€§æœ€å°äºŒä¹˜æ³•</h3>
<p>é«˜æ–¯-ç‰›é¡¿æ–¹æ³•çš„é‡è¦åº”ç”¨æ˜¯æ‹Ÿåˆå…·æœ‰éçº¿æ€§ç³»æ•°çš„æ¨¡å‹. ä»¤ <span
class="math inline">\(\left(t_1, y_1\right), \cdots,\left(t_m,
y_m\right)\)</span> æ˜¯æ•°æ®ç‚¹, <span
class="math inline">\(y=f_c(x)\)</span> æ˜¯è¦è¿›è¡Œæ‹Ÿåˆå‡½æ•°, å…¶ä¸­ <span
class="math inline">\(c=\left[c_1, \cdots, c_p\right]\)</span>
æ˜¯ä¸€ç»„é€‰æ‹©çš„å‚æ•°, ç”¨ä»¥æœ€å°åŒ–ä½™é¡¹çš„å¹³æ–¹å’Œ<br />
<span class="math display">\[
\begin{gathered}
r_1(c)=f_c\left(t_1\right)-y_1 \\
\vdots \\
r_m(c)=f_c\left(t_m\right)-y_m
\end{gathered}
\]</span><br />
çš„ç‰¹å®šæƒ…å†µè¢«æ›´ä¸€èˆ¬åœ°çœ‹å¾…, ä»¥ä¿è¯è¿™é‡Œçš„ç‰¹æ®Šå¤„ç†.</p>
<h4 id="é«˜æ–¯ä¸€ç‰›é¡¿æ–¹æ³•">é«˜æ–¯ä¸€ç‰›é¡¿æ–¹æ³•</h4>
<p>å¿½ç•¥äº†äºŒé˜¶å¯¼ï¼ˆæµ·æ£®çŸ©é˜µï¼‰</p>
<p>ä¸ºäº†æœ€å°åŒ–<br />
<span class="math display">\[
r_1(x)^2+\cdots+r_m(x)^2 \notag
\]</span><br />
ä»¤ <span class="math inline">\(x^0=\)</span> åˆå§‹å‘é‡,</p>
<p><span class="math display">\[
\begin{aligned}
\text { for } k=0,1 ï¼Œ 2 \text {, } \cdots \\
A &amp; =\operatorname{Dr}\left(x^k\right) \\
A^{\mathrm{T}} A v^k &amp; =-A^{\mathrm{T}} r\left(x^k\right) \\
x^{k+1} &amp; =x^k+v^k \\
\text{end}
\end{aligned} \notag
\]</span></p>
<h4 id="levenberg-marquardt-æ–¹æ³•">Levenberg-Marquardt æ–¹æ³•</h4>
<p>ä¸ºäº†æœ€å°åŒ–<br />
<span class="math display">\[
r_1(x)^2+\cdots+r_m(x)^2 \notag
\]</span><br />
ä»¤ <span class="math inline">\(x^0=\)</span> åˆå§‹å‘é‡,<span
class="math inline">\(\lambda =\)</span> å¸¸æ•°<br />
<span class="math display">\[
\begin{aligned}
\text { for } k=0,1 ï¼Œ 2 \text {, } \cdots \\
A &amp; =\operatorname{Dr}\left(x^k\right) \\
(A^{\mathrm{T}} A + \lambda diag(A^{\mathrm{T}} A))v^k &amp;
=-A^{\mathrm{T}} r\left(x^k\right) \\
x^{k+1} &amp; =x^k+v^k \\
\text{end}
\end{aligned} \notag
\]</span></p>
<h2 id="æ•°å€¼å¾®åˆ†å’Œç§¯åˆ†">æ•°å€¼å¾®åˆ†å’Œç§¯åˆ†</h2>
<h4 id="ç§¯åˆ†">ç§¯åˆ†</h4>
<h5 id="å¤åˆæ¢¯å½¢æ³•åˆ™">å¤åˆæ¢¯å½¢æ³•åˆ™</h5>
<p><span class="math display">\[
\int_a^b f(x) \mathrm{d} x=\frac{h}{2}\left(y_0+y_m+2 \sum_{i=1}^{n-1}
y_i\right)-\frac{(b-a) h^2}{12} f^{\prime \prime}(c)
\]</span><br />
å…¶ä¸­ <span class="math inline">\(h=(b-a) / m, c\)</span> åœ¨ <span
class="math inline">\(a\)</span> å’Œ <span
class="math inline">\(b\)</span> ä¹‹é—´.</p>
<p>æ¨å¯¼æ€è·¯å¯¹äºŒä¸ªç‚¹è¿›è¡Œæ‹‰æ ¼æœ—æ—¥æ’å€¼ å†ç§¯åˆ† å¾—åˆ°</p>
<h5 id="å¤åˆè¾›æ™®æ£®å…¬å¼">å¤åˆè¾›æ™®æ£®å…¬å¼</h5>
<p><span class="math display">\[
\int_a^b f(x) \mathrm{d} x=\frac{h}{3}\left[y_0+y_{2 m}+4 \sum_{i=1}^m
y_{2 i-1}+2 \sum_{i=1}^{m-1} y_{2 i}\right]-\frac{(b-a) h^4}{180}
f^{(4)}(c)
\]</span><br />
å…¶ä¸­$h=(b-a) / m $ c åœ¨ <span class="math inline">\(a\)</span> å’Œ <span
class="math inline">\(b\)</span> ä¹‹é—´.</p>
<p>è¾›æ™®æ£®å…¬å¼æ¨å¯¼æ€è·¯å¯¹ä¸‰ä¸ªç‚¹è¿›è¡Œæ‹‰æ ¼æœ—æ—¥æ’å€¼ åœ¨ç§¯åˆ† å¾—åˆ°</p>
<h5 id="å¤åˆä¸­ç‚¹æ³•åˆ™">å¤åˆä¸­ç‚¹æ³•åˆ™</h5>
<p><span class="math display">\[
\int_a^b f(x) \mathrm{d} x=h \sum_{i=1}^m w_{i}+\frac{(b-a) h^2}{24}
f^{\prime \prime}(c)
\]</span></p>
<p>å…¶ä¸­$h=(b-a) / m $ <span class="math inline">\(w_{i}\)</span> æ˜¯ åœ¨
a-b ä¸­ mä¸ªç›¸ç­‰å­åŒºé—´çš„ä¸­ç‚¹ c åœ¨ <span class="math inline">\(a\)</span>
å’Œ <span class="math inline">\(b\)</span> ä¹‹é—´.</p>
<h5 id="é¾™è´æ ¼ç§¯åˆ†romberg-quadrature-formula">é¾™è´æ ¼ç§¯åˆ†Romberg
quadrature formula</h5>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> romberg(f::<span class="built_in">Function</span>,a::<span class="built_in">Float64</span>,b::<span class="built_in">Float64</span>,n::<span class="built_in">Int64</span>,tol::<span class="built_in">Float64</span>=<span class="number">10</span>^-<span class="number">10</span>)</span><br><span class="line">	l=b-a</span><br><span class="line">	r=zeros(<span class="built_in">Float64</span>,n,n)</span><br><span class="line">	r[<span class="number">1</span>,<span class="number">1</span>]=(l)*(f(a)+f(b))/<span class="number">2</span></span><br><span class="line">	<span class="comment">#r=[ (l)*(f(a)+f(b))/2]</span></span><br><span class="line">	h= l</span><br><span class="line">	<span class="meta">@simd</span> <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">2</span>:n</span><br><span class="line">		h = h/<span class="number">2</span></span><br><span class="line">		r[j,<span class="number">1</span>]=<span class="number">0.5</span>* r[j-<span class="number">1</span>,<span class="number">1</span>] + h * sum([ f(a+(<span class="number">2</span>*i-<span class="number">1</span>)*h)   <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:<span class="number">2</span>^(j-<span class="number">2</span>)] )</span><br><span class="line">		<span class="meta">@simd</span> <span class="keyword">for</span> k <span class="keyword">in</span> <span class="number">2</span>:j</span><br><span class="line"></span><br><span class="line">			r[j,k]=(<span class="number">4</span>^(k-<span class="number">1</span>) * r[j,k-<span class="number">1</span>] -r[j-<span class="number">1</span>,k-<span class="number">1</span>])/(<span class="number">4</span>^(k-<span class="number">1</span>)-<span class="number">1</span>)</span><br><span class="line">			</span><br><span class="line">		  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> abs(r[j,j] - r[j-<span class="number">1</span>,j-<span class="number">1</span>]) &lt;= tol</span><br><span class="line">				println(<span class="string">&quot;finsh in &quot;</span>, j ,<span class="string">&quot;step&quot;</span>)</span><br><span class="line">				<span class="keyword">return</span> r[j,j]</span><br><span class="line">			<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	println(<span class="string">&quot;finsh in &quot;</span>, j ,<span class="string">&quot;step&quot;</span> ,<span class="string">&quot; error :&quot;</span>, abs(r[n,n] - r[n-<span class="number">1</span>,n-<span class="number">1</span>]))</span><br><span class="line">	<span class="keyword">return</span> r[n,n]</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">println(romberg(x-&gt; log(x),<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">100</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è‡ªé€‚åº”ç§¯åˆ†</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> trapezoidal_rule(f::<span class="built_in">Function</span>,a::<span class="built_in">Float64</span>,b::<span class="built_in">Float64</span>)</span><br><span class="line">	<span class="keyword">return</span>  (f(a)+f(b))*(b-a)/<span class="number">2.0</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#println(trapezoidal_rule(x-&gt;1+ sin(exp(3*x)),-1.0,1.0))</span></span><br><span class="line"><span class="keyword">function</span>  Simpson_rule(f::<span class="built_in">Function</span>,a::<span class="built_in">Float64</span>,b::<span class="built_in">Float64</span>)</span><br><span class="line">		h=(b-a)/<span class="number">2.0</span></span><br><span class="line">		<span class="keyword">return</span>  h*(f(a)+f(b)+<span class="number">4</span>*f(a+h))/<span class="number">3.0</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> adapquad(f::<span class="built_in">Function</span>,a::<span class="built_in">Float64</span>,b::<span class="built_in">Float64</span>,S::<span class="built_in">Function</span>,Tol::<span class="built_in">Float64</span>=<span class="number">10</span>^-<span class="number">5</span>,n::<span class="built_in">Int64</span>=<span class="number">100</span>,a_orig::<span class="built_in">Float64</span>=a,b_orig::<span class="built_in">Float64</span>=b)</span><br><span class="line">	</span><br><span class="line">	c = (a+b)/<span class="number">2.0</span></span><br><span class="line">	Sab=S(f,a,b)</span><br><span class="line">	Sac=S(f,a,c)</span><br><span class="line">	Scb=S(f,c,b)</span><br><span class="line">	get_Tol=abs(Sab-Sac-Scb)</span><br><span class="line">	<span class="keyword">if</span>  get_Tol &lt; Tol*(b-a)/(b_orig-a_orig)</span><br><span class="line">		<span class="comment">#println(&quot;convergence  in &quot; , n, &quot;step&quot;)</span></span><br><span class="line">		<span class="keyword">return</span>  Sac + Scb</span><br><span class="line">	<span class="keyword">elseif</span> n&lt;<span class="number">0</span></span><br><span class="line">		println(<span class="string">&quot;no convergence get_Tol:&quot;</span> ,get_Tol)</span><br><span class="line">		<span class="keyword">return</span>  Sac + Scb</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		 <span class="keyword">return</span> adapquad(f,a,c,S,Tol,n-<span class="number">1</span>,a_orig,b_orig) + adapquad(f,c,b,S,Tol,n-<span class="number">1</span>,a_orig,b_orig)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">println(adapquad(x-&gt;<span class="number">1.0</span>+ sin(exp(<span class="number">3.0</span>*x)),-<span class="number">1.0</span>,<span class="number">1.0</span>,trapezoidal_rule))</span><br><span class="line"></span><br><span class="line">println(adapquad(x-&gt;<span class="number">1.0</span>+ sin(exp(<span class="number">3.0</span>*x)),-<span class="number">1.0</span>,<span class="number">1.0</span>,Simpson_rule))</span><br></pre></td></tr></table></figure>
<h2 id="éšæœºæ•°å’Œåº”ç”¨">éšæœºæ•°å’Œåº”ç”¨</h2>
<p>éšæœºæ•°ç”Ÿæˆå™¨çš„ç›®çš„æ˜¯ä½¿è¾“å‡ºçš„æ•°å­—æ»¡è¶³ç‹¬ç«‹åŒåˆ†å¸ƒã€‚</p>
<h4 id="çº¿æ€§åŒä½™ç”Ÿæˆå™¨">çº¿æ€§åŒä½™ç”Ÿæˆå™¨</h4>
<p><span class="math inline">\(x_i=a x_{i-1}+b(\bmod m)\)</span>,
aä¸ºä¹˜å­ bä¸ºåç§» mä¸ºæ¨¡æ•° ï¼ˆå¦‚ a=13,b=0,m=31ï¼Œä»¥30ä¸ºå‘¨æœŸ)</p>
<p>Park å’Œ Miller æå‡ºä¸€ä¸­éšæœºæ•°ç”Ÿæˆçš„æ–¹æ¡ˆ ä½¿ç”¨æ¢…æ£®ï¼ˆMersennse) ç´ æ•°
<span class="math inline">\(2^p -1\)</span> pä¸ºæ•´æ•° ï¼ˆå¦‚ a=<span
class="math inline">\(7^5\)</span>,b=0,m=<span
class="math inline">\(2^{31}-1\)</span>ï¼Œé‡å¤å‘¨æœŸç†è®ºæœ€å¤§å€¼ä¸º<span
class="math inline">\(2^{31}-2\)</span>)</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> LCG(x::<span class="built_in">Int64</span>,n::<span class="built_in">Int64</span>=<span class="number">1</span>,a::<span class="built_in">Int64</span>=<span class="number">7</span>^<span class="number">5</span>,m::<span class="built_in">Int64</span>=<span class="number">2</span>^<span class="number">31</span>-<span class="number">1</span>,b::<span class="built_in">Int64</span>=<span class="number">0</span>)</span><br><span class="line">	result=[]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:n</span><br><span class="line">		x= (a*x +b )%m</span><br><span class="line">		push!(result,<span class="number">1.0</span>*x/m)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">end</span> </span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">#æ±‚ x^2 åœ¨0-1çš„ç§¯åˆ†å€¼</span></span><br><span class="line">println(sum([ i^<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> LCG(<span class="number">1</span>,<span class="number">3000</span>)])/<span class="number">3000</span>)</span><br></pre></td></tr></table></figure>
<h4 id="ç”Ÿæˆæ­£æ€åˆ†å¸ƒ">ç”Ÿæˆæ­£æ€åˆ†å¸ƒ</h4>
<h4 id="è’™å¡1å‹é—®é¢˜">è’™å¡1å‹é—®é¢˜</h4>
<p>æ±‚å‡½æ•°çš„å‡å€¼</p>
<h4 id="è’™å¡2å‹é—®é¢˜">è’™å¡2å‹é—®é¢˜</h4>
<p>é—®é¢˜æ— æ³•è½¬æ¢ä¸ºè®¡ç®—å‡½æ•°å¹³å‡å€¼çš„é—®é¢˜ å¦‚æ±‚ä¸€ä¸ªåŒºåŸŸçš„é¢ç§¯</p>
<p>ä¸¤ç±»é—®é¢˜ç”¨ä¼ªéšæœºæ•°å¾—åˆ°çš„è¯¯å·®</p>
<p><span class="math inline">\(\text { Error } \propto
n^{-\frac{1}{2}}\)</span></p>
<h4 id="æ‰©å±•">æ‰©å±•</h4>
<p>å»¶è¿Ÿæ–æ³¢é‚£å¥‘ç”Ÿæˆå™¨ é‡å¤å‘¨æœŸè¶…è¿‡<span
class="math inline">\(2^{1400}\)</span></p>
<h4 id="æ‹Ÿéšæœºæ•°">æ‹Ÿéšæœºæ•°</h4>
<p>åœ¨æ¡ä»¶å…è®¸ä¸‹ æ”¾å¼ƒå¯¹éšæœºæ•° çš„ç‹¬ç«‹æ€§è¦æ±‚</p>
<p>halton é€‰å®šä¸€ç§è¿›åˆ¶ å¦‚ 2 è¿›åˆ¶ ç¬¬iéšæœºæ•°ä¸º å¦‚ 6 åœ¨äºŒè¿›åˆ¶ä¸‹ ä¸º110
å€’è½¬è¿™ä¸ªè¡¨ç¤º ä¸º 011 å†™æˆå°æ•° 0.011 ç„¶åå˜å›åŸæ¥åè¿›åˆ¶ 0.375</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> halton(p::<span class="built_in">Int64</span>,n::<span class="built_in">Int64</span>=<span class="number">1</span>)</span><br><span class="line">	num=<span class="built_in">Int</span>(ceil(log(p,n)))+<span class="number">1</span></span><br><span class="line">	b=zeros(num,<span class="number">1</span>)</span><br><span class="line">	eps=<span class="number">10</span>^-<span class="number">6</span></span><br><span class="line">	u=zeros(n,<span class="number">1</span>)</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span>:n</span><br><span class="line">		</span><br><span class="line">		i=<span class="number">1</span></span><br><span class="line">		b[<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">		<span class="keyword">while</span> (b[i] &gt; (p-<span class="number">1</span> +eps))</span><br><span class="line">			</span><br><span class="line">			b[i] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">			i+=<span class="number">1</span></span><br><span class="line">			b[i] += <span class="number">1</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		</span><br><span class="line">		u[j] = <span class="number">0</span></span><br><span class="line">		<span class="keyword">for</span> k <span class="keyword">in</span> <span class="number">1</span>:num</span><br><span class="line">			</span><br><span class="line">			u[j] = u[j] + b[k]*(<span class="number">1.0</span>*p)^(-k)</span><br><span class="line">			</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">return</span> u</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>ä¸¤ç±»è’™å¡é—®é¢˜ç”¨æ‹Ÿéšæœºæ•°å¾—åˆ°çš„è¯¯å·®</p>
<p>1å‹è’™å¡ <span class="math inline">\(\text { Error } \propto(\ln n)^d
n^{-1}\)</span></p>
<p>2å‹è’™å¡ <span class="math inline">\(\text { Error }
\propto(n)^{\frac{1}{2}} n^{-\frac{1}{2 d}}\)</span></p>
<p>dæ˜¯ç»´åº¦</p>
<h2 id="å¥‡å¼‚å€¼åˆ†è§£">å¥‡å¼‚å€¼åˆ†è§£</h2>
<h2 id="å‚è€ƒä¹¦ç±">å‚è€ƒä¹¦ç±</h2>
<p>æ•°å€¼åˆ†æ ä½œè€…: <a href="https://book.douban.com/search/è¨å¥¥å°”">è¨å¥¥å°”
(Timothy Sauer)</a> è¯‘è€…: <a
href="https://book.douban.com/search/è£´ç‰èŒ¹">è£´ç‰èŒ¹</a> / <a
href="https://book.douban.com/search/é©¬èµ“å®‡">é©¬èµ“å®‡</a></p>
]]></content>
      <tags>
        <tag>æ•°å€¼åˆ†æ</tag>
        <tag>julia</tag>
      </tags>
  </entry>
  <entry>
    <title>mkk</title>
    <url>/post/e3278bdd.html</url>
    <content><![CDATA[<h1 align="center">
MKK
</h1>
<span id="more"></span>
<hr />
<center>
<img src="../../public/img/favicon.png">
</center>
<h2 id="install-from-butterfly">Install from butterfly</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure>
<h2 id="licence">Licence</h2>
<p>MIT</p>
]]></content>
      <tags>
        <tag>ä»‹ç»</tag>
      </tags>
  </entry>
  <entry>
    <title>openmmlabå®æˆ˜è¥ç¬¬äº”è¯¾ MMDetection ä»£ç æ•™å­¦</title>
    <url>/post/1554c19c.html</url>
    <content><![CDATA[<h1 id="mmdetection-å¯ä»¥åšä»€ä¹ˆ">MMDetection å¯ä»¥åšä»€ä¹ˆ</h1>
<ul>
<li><p><a
href="https://mmdetection.readthedocs.io/en/latest/">MMDetection</a>
æä¾›400 ä½™ä¸ªæ€§èƒ½ä¼˜è‰¯çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œå¼€ç®±å³ç”¨ï¼Œå‡ è¡ŒPython API
å³å¯è°ƒç”¨å¼ºå¤§çš„æ£€æµ‹èƒ½åŠ›</p></li>
<li><p><a
href="https://mmdetection.readthedocs.io/en/latest/">MMDetection</a>
æ¶µç›–60
ä½™ä¸ªç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œå¹¶æä¾›æ–¹ä¾¿æ˜“ç”¨çš„å·¥å…·ï¼Œç»è¿‡ç®€å•çš„é…ç½®æ–‡ä»¶æ”¹å†™å’Œè°ƒå‚å°±å¯ä»¥è®­ç»ƒè‡ªå·±çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹</p>
<span id="more"></span></li>
</ul>
<div class="text" style=" text-align:center;">
<font size="30">MMDetection</font>
</div>
<table>
<thead>
<tr class="header">
<th>ä»»åŠ¡æ”¯æŒ</th>
<th>è¦†ç›–å¹¿æ³›</th>
<th>ç®—æ³•ä¸°å¯Œ</th>
<th>ç®—æ³•ä¸°å¯Œ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ç›®æ ‡æ£€æµ‹</td>
<td>440+ ä¸ªé¢„è®­ç»ƒæ¨¡å‹</td>
<td>ä¸¤é˜¶æ®µæ£€æµ‹å™¨</td>
<td>è®­ç»ƒå·¥å…·</td>
</tr>
<tr class="even">
<td>ç›®æ ‡æ£€æµ‹</td>
<td>60+ ç¯‡è®ºæ–‡å¤ç°</td>
<td>ä¸€é˜¶æ®µæ£€æµ‹å™¨</td>
<td>æµ‹è¯•å·¥å…·</td>
</tr>
<tr class="odd">
<td>å…¨æ™¯åˆ†å‰²</td>
<td>å¸¸ç”¨å­¦æœ¯æ•°æ®é›†</td>
<td>çº§è”æ£€æµ‹å™¨</td>
<td>æ¨ç† API</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>æ— é”šæ¡†æ£€æµ‹å™¨</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>Transformer</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="openmmlab-é¡¹ç›®ä¸­çš„é‡è¦æ¦‚å¿µé…ç½®æ–‡ä»¶">OpenMMLab
é¡¹ç›®ä¸­çš„é‡è¦æ¦‚å¿µâ€”â€”é…ç½®æ–‡ä»¶</h3>
<p>æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒæ¶‰åŠå‡ ä¸ªæ–¹é¢ï¼š<br />
âˆ’ æ¨¡å‹ç»“æ„æ¨¡å‹æœ‰å‡ å±‚ã€æ¯å±‚å¤šå°‘é€šé“æ•°ç­‰ç­‰<br />
âˆ’
æ•°æ®é›†ç”¨ä»€ä¹ˆæ•°æ®è®­ç»ƒæ¨¡å‹ï¼šæ•°æ®é›†åˆ’åˆ†ã€æ•°æ®æ–‡ä»¶è·¯å¾„ã€æ•°æ®å¢å¼ºç­–ç•¥ç­‰ç­‰<br />
âˆ’
è®­ç»ƒç­–ç•¥æ¢¯åº¦ä¸‹é™ç®—æ³•ã€å­¦ä¹ ç‡å‚æ•°ã€batch_sizeã€è®­ç»ƒæ€»è½®æ¬¡ã€å­¦ä¹ ç‡å˜åŒ–ç­–ç•¥ç­‰ç­‰<br />
âˆ’ è¿è¡Œæ—¶GPUã€åˆ†å¸ƒå¼ç¯å¢ƒé…ç½®ç­‰ç­‰<br />
âˆ’ ä¸€äº›è¾…åŠ©åŠŸèƒ½å¦‚æ‰“å°æ—¥å¿—ã€å®šæ—¶ä¿å­˜checkpointç­‰ç­‰</p>
<p>åœ¨OpenMMLab
é¡¹ç›®ä¸­ï¼Œæ‰€æœ‰è¿™äº›é¡¹ç›®éƒ½æ¶µç›–åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œä¸€ä¸ªé…ç½®æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªå®Œæ•´çš„è®­ç»ƒè¿‡ç¨‹<br />
âˆ’ model å­—æ®µå®šä¹‰æ¨¡å‹<br />
âˆ’ data å­—æ®µå®šä¹‰æ•°æ®<br />
âˆ’ optimizerã€lr_config ç­‰å­—æ®µå®šä¹‰è®­ç»ƒç­–ç•¥<br />
âˆ’ load_from å­—æ®µå®šä¹‰ä¸è®­ç»ƒæ¨¡å‹çš„å‚æ•°æ–‡ä»¶</p>
<pre class="mermaid">

 
flowchart LR;
subgraph é…ç½®æ–‡ä»¶
æ¨¡å‹ç»“æ„
æ•°æ®é›†
æ•°æ®å¤„ç†ç­–ç•¥
å­¦ä¹ ç‡ç­–ç•¥
ä¼˜åŒ–å™¨ç­–ç•¥
è¿è¡Œç¯å¢ƒé…ç½®
end


subgraph æ¨¡å‹åº“
é¢„è®­ç»ƒæ¨¡å‹
end

subgraph å†…éƒ¨æ¨¡å—
A[æ¨¡å‹æ„å»º]
B[æ•°æ®åŠ è½½å™¨æ„å»º]
C[ä¼˜åŒ–å™¨æ„å»º]
D[Runner]
A--&gt;D
B--&gt;D
C--&gt;D
end

subgraph å·¥å…·
è®­ç»ƒå·¥å…·
æµ‹è¯•å·¥å…·
æ¨ç†å·¥å…·
end

subgraph æ•°æ®æ–‡ä»¶
COCO
è‡ªå®šä¹‰æ•°æ®
æ¨ç†å·¥å…·
S[Pascal VOC]
Cityscapes
end
å†…éƒ¨æ¨¡å— --&gt;å·¥å…·
æ•°æ®æ–‡ä»¶--&gt;å†…éƒ¨æ¨¡å—
æ¨¡å‹åº“--&gt;å†…éƒ¨æ¨¡å—
é…ç½®æ–‡ä»¶--&gt;å†…éƒ¨æ¨¡å—
</pre>
<p>å®‰è£…ç¯å¢ƒ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install openmim</span><br><span class="line">mim install mmcv-full==1.3.17</span><br><span class="line">mim install mmdet==2.22.0</span><br></pre></td></tr></table></figure>
<p>éªŒè¯æ˜¯å¦æˆåŠŸ å‚è€ƒ<a
href="https://mmdetection.readthedocs.io/zh_CN/latest/index.html">å®˜æ–¹çš„æ–‡æ¡£</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> mmdet.apis <span class="keyword">import</span> init_detector, inference_detector,show_result_pyplot</span><br><span class="line">config_file = <span class="string">&#x27;æ”¾faster_rcnn_r50_fpn_1x_coco.pyçš„åœ°å€&#x27;</span></span><br><span class="line"><span class="comment"># ä» model zoo ä¸‹è½½ checkpoint å¹¶æ”¾åœ¨ `checkpoints/` æ–‡ä»¶ä¸‹</span></span><br><span class="line"><span class="comment"># ç½‘å€ä¸º: http://download.openmmlab.com/mmdetection/v2.0/faster_rcnn/faster_rcnn_r50_fpn_1x_coco/faster_rcnn_r50_fpn_1x_coco_20200130-047c8118.pth</span></span><br><span class="line">checkpoint_file = <span class="string">&#x27;æ”¾faster_rcnn_r50_fpn_1x_coco_20200130-047c8118.pthçš„åœ°å€&#x27;</span></span><br><span class="line">device = <span class="string">&#x27;cuda:0&#x27;</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–æ£€æµ‹å™¨</span></span><br><span class="line">model = init_detector(config_file, checkpoint_file, device=device)</span><br><span class="line"><span class="comment"># æ¨ç†æ¼”ç¤ºå›¾åƒ</span></span><br><span class="line">result=inference_detector(model, <span class="string">&#x27;å›¾åƒåœ°å€å¯ä»¥ç”¨demoé‡Œçš„å›¾&#x27;</span>)</span><br><span class="line">show_result_pyplot(model,<span class="string">&#x27;å›¾åƒåœ°å€å¯ä»¥ç”¨demoé‡Œçš„å›¾&#x27;</span>,result) <span class="comment">#å±•ç¤ºå›¾ç‰‡</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä½•æŠŠä¸€ä¸ªæ–°çš„æ•°æ®é›†è½¬åŒ–ä¸ºcocoæ•°æ®é›†è®­ç»ƒ
ä»¥è¿™æ¬¡è¯¾ç¨‹çš„balloonæ•°æ®é›†ä¸ºä¾‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> os.path <span class="keyword">as</span> osp</span><br><span class="line"><span class="keyword">import</span> mmcv</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">convert_balloon_to_coco</span>(<span class="params">ann_file, out_file, image_prefix</span>):</span><br><span class="line">    data_infos = mmcv.load(ann_file)</span><br><span class="line"></span><br><span class="line">    annotations = []</span><br><span class="line">    images = []</span><br><span class="line">    obj_count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> idx, v <span class="keyword">in</span> <span class="built_in">enumerate</span>(mmcv.track_iter_progress(data_infos.values())):</span><br><span class="line">        filename = v[<span class="string">&#x27;filename&#x27;</span>]</span><br><span class="line">        img_path = osp.join(image_prefix, filename)</span><br><span class="line">        height, width = mmcv.imread(img_path).shape[:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">        images.append(<span class="built_in">dict</span>(</span><br><span class="line">            <span class="built_in">id</span>=idx,</span><br><span class="line">            file_name=filename,</span><br><span class="line">            height=height,</span><br><span class="line">            width=width))</span><br><span class="line"></span><br><span class="line">        bboxes = []</span><br><span class="line">        labels = []</span><br><span class="line">        masks = []</span><br><span class="line">        <span class="keyword">for</span> _, obj <span class="keyword">in</span> v[<span class="string">&#x27;regions&#x27;</span>].items():</span><br><span class="line">            <span class="keyword">assert</span> <span class="keyword">not</span> obj[<span class="string">&#x27;region_attributes&#x27;</span>]</span><br><span class="line">            obj = obj[<span class="string">&#x27;shape_attributes&#x27;</span>]</span><br><span class="line">            px = obj[<span class="string">&#x27;all_points_x&#x27;</span>]</span><br><span class="line">            py = obj[<span class="string">&#x27;all_points_y&#x27;</span>]</span><br><span class="line">            poly = [(x + <span class="number">0.5</span>, y + <span class="number">0.5</span>) <span class="keyword">for</span> x, y <span class="keyword">in</span> <span class="built_in">zip</span>(px, py)]</span><br><span class="line">            poly = [p <span class="keyword">for</span> x <span class="keyword">in</span> poly <span class="keyword">for</span> p <span class="keyword">in</span> x]</span><br><span class="line"></span><br><span class="line">            x_min, y_min, x_max, y_max = (</span><br><span class="line">                <span class="built_in">min</span>(px), <span class="built_in">min</span>(py), <span class="built_in">max</span>(px), <span class="built_in">max</span>(py))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            data_anno = <span class="built_in">dict</span>(</span><br><span class="line">                image_id=idx,</span><br><span class="line">                <span class="built_in">id</span>=obj_count,</span><br><span class="line">                category_id=<span class="number">0</span>,</span><br><span class="line">                bbox=[x_min, y_min, x_max - x_min, y_max - y_min],</span><br><span class="line">                area=(x_max - x_min) * (y_max - y_min),</span><br><span class="line">                segmentation=[poly],</span><br><span class="line">                iscrowd=<span class="number">0</span>)</span><br><span class="line">            annotations.append(data_anno)</span><br><span class="line">            obj_count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    coco_format_json = <span class="built_in">dict</span>(</span><br><span class="line">        images=images,</span><br><span class="line">        annotations=annotations,</span><br><span class="line">        categories=[&#123;<span class="string">&#x27;id&#x27;</span>:<span class="number">0</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;balloon&#x27;</span>&#125;])</span><br><span class="line">    mmcv.dump(coco_format_json, out_file)</span><br></pre></td></tr></table></figure>
<p>ä¸‹è½½å·²ç»æœ‰çš„æ¨¡å‹ å¯ä»¥ç”¨ mim search mmdet --model
"æ¨¡å‹id"æŸ¥æœ‰çš„æ¨¡å‹<br />
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mim download mmdet --config mask_rcnn_r50_fpn_2x_coco --desk . </span><br></pre></td></tr></table></figure><br />
å‡†å¤‡ä¸€ä¸ªé…ç½®æ–‡ä»¶</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"> è¿™ä¸ªæ–°çš„é…ç½®æ–‡ä»¶ç»§æ‰¿è‡ªä¸€ä¸ªåŸå§‹é…ç½®æ–‡ä»¶ï¼Œåªéœ€è¦çªå‡ºå¿…è¦çš„ä¿®æ”¹éƒ¨åˆ†å³å¯</span><br><span class="line">_base_ = <span class="string">&#x27;mask_rcnn_r50_fpn_2x_coco.py&#x27;</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬éœ€è¦å¯¹å¤´ä¸­çš„ç±»åˆ«æ•°é‡è¿›è¡Œä¿®æ”¹æ¥åŒ¹é…æ•°æ®é›†çš„æ ‡æ³¨</span></span><br><span class="line">model = <span class="built_in">dict</span>(</span><br><span class="line">    roi_head=<span class="built_in">dict</span>(</span><br><span class="line">        bbox_head=<span class="built_in">dict</span>(num_classes=<span class="number">1</span>),</span><br><span class="line">        mask_head=<span class="built_in">dict</span>(num_classes=<span class="number">1</span>)))</span><br><span class="line"> </span><br><span class="line">dataset_type = <span class="string">&#x27;CocoDataset&#x27;</span></span><br><span class="line">classes = (<span class="string">&#x27;balloon&#x27;</span>,)</span><br><span class="line">data = <span class="built_in">dict</span>(</span><br><span class="line">    train=<span class="built_in">dict</span>(</span><br><span class="line">        img_prefix=<span class="string">&#x27;/input0/balloon/train/&#x27;</span>,</span><br><span class="line">        classes=classes,</span><br><span class="line">        ann_file=<span class="string">&#x27;/input0/balloon/train/via_region_data2.json&#x27;</span>),</span><br><span class="line">    val=<span class="built_in">dict</span>(</span><br><span class="line">        img_prefix=<span class="string">&#x27;/input0/balloon/val/&#x27;</span>,</span><br><span class="line">        classes=classes,</span><br><span class="line">        ann_file=<span class="string">&#x27;/input0/balloon/val/via_region_data2.json&#x27;</span>),</span><br><span class="line">    test=<span class="built_in">dict</span>(</span><br><span class="line">        img_prefix=<span class="string">&#x27;/input0/balloon/val/&#x27;</span>,</span><br><span class="line">        classes=classes,</span><br><span class="line">        ann_file=<span class="string">&#x27;/input0/balloon/val/via_region_data2.json&#x27;</span>))</span><br><span class="line"><span class="comment">#model= dict(bbox_head=dict(num_classes=1))</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢„è®­ç»ƒçš„ Mask R-CNN æ¥è·å–æ›´å¥½çš„æ€§èƒ½</span></span><br><span class="line">load_from =<span class="string">&#x27;mask_rcnn_r50_fpn_2x_coco_bbox_mAP-0.392__segm_mAP-0.354_20200505_003907-3e542a40.pth&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è®­ç»ƒæ¨¡å‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mim train mmdet balloon.py</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•æ¨¡å‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mim test mmdet balloon.py --checkpoint work_dirs/balloon/latest.pth --show-dir work_dirs/balloon</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>OpenMMLab</tag>
        <tag>è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>äººå·¥æ™ºèƒ½ ç°ä»£æ–¹æ³• ç¬¬ä¸‰ç« è¯»ä¹¦ç¬”è®°(æŒç»­æ›´æ–°ï¼‰</title>
    <url>/post/49fc3cb6.html</url>
    <content><![CDATA[<h1 id="å ä¸ªä½ç½®">å ä¸ªä½ç½®</h1>
<span id="more"></span>
<h1 id="æ— ä¿¡æ¯æœç´¢ç­–ç•¥">3.4æ— ä¿¡æ¯æœç´¢ç­–ç•¥</h1>
<p>â€ƒâ€ƒæ— ä¿¡æ¯æœç´¢ç®—æ³•ä¸æä¾›æœ‰å…³æŸä¸ªçŠ¶æ€ä¸ç›®æ ‡çŠ¶æ€çš„æ¥è¿‘ç¨‹åº¦çš„ä»»ä½•çº¿ç´¢ã€‚</p>
<h2 id="å¹¿åº¦ä¼˜å…ˆæœç´¢breadth-first-search">å¹¿åº¦ä¼˜å…ˆæœç´¢(breadth-first
search)</h2>
<hr />
<p><strong>function</strong> Breadth-First-Search(problem)
<strong>returns</strong> ä¸€ä¸ªè§£èŠ‚ç‚¹æˆ– failure<br><br />
â€ƒnode â† Node(problem.Initial)<br><br />
â€ƒ<strong>if</strong> problem.Is-Goal(node.State) <strong>then
return</strong> node<br><br />
â€ƒfrontier â† ä¸€ä¸ªFIFOé˜Ÿåˆ—ï¼Œå…¶ä¸­ä¸€ä¸ªå…ƒç´ ä¸ºnode<br><br />
â€ƒreached â†{problem.Initial}<br><br />
â€ƒ<strong>while not</strong> Is-Empty(frontier)
<strong>do</strong><br><br />
â€ƒâ€ƒnode â† Pop(frontier)<br><br />
â€ƒâ€ƒ<strong>for each</strong> child <strong>in</strong> Expand(problem,
node) <strong>do</strong><br><br />
â€ƒâ€ƒâ€ƒs â† child.State<br><br />
â€ƒâ€ƒâ€ƒ<strong>if</strong> problem.Is-Goal(s) <strong>then return</strong>
child<br><br />
â€ƒâ€ƒâ€ƒ<strong>if</strong> sä¸åœ¨reachedä¸­ <strong>then</strong><br><br />
â€ƒâ€ƒâ€ƒâ€ƒå°†sæ·»åŠ åˆ°reached<br><br />
â€ƒâ€ƒâ€ƒâ€ƒå°†childæ·»åŠ åˆ°frontier<br><br />
<strong>return</strong> failure<br></p>
<hr />
<p><strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>ï¼ˆpriority queueï¼‰é¦–å…ˆå¼¹å‡ºæ ¹æ®è¯„ä»·å‡½æ•°f
è®¡ç®—å¾—åˆ°çš„ä»£ä»·æœ€å°çš„èŠ‚ç‚¹ã€‚å®ƒè¢«ç”¨äºæœ€ä½³ä¼˜å…ˆæœç´¢ã€‚</p>
<p><strong>FIFO é˜Ÿåˆ—</strong>ï¼ˆFIFO
queueï¼‰ï¼Œå³å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼ˆfirst-in-first-out
queueï¼‰ï¼Œé¦–å…ˆå¼¹å‡ºæœ€å…ˆæ·»åŠ åˆ°é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼›å®ƒè¢«ç”¨äºå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚</p>
<p><strong>LIFO é˜Ÿåˆ—</strong>ï¼ˆLIFO
queueï¼‰ï¼Œå³åè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼ˆlast-in-first-out
queueï¼‰ï¼Œä¹Ÿç§°ä¸ºæ ˆï¼ˆstackï¼‰ï¼Œé¦–å…ˆå¼¹å‡ºæœ€è¿‘æ·»åŠ çš„èŠ‚ç‚¹ï¼›å®ƒè¢«ç”¨äºæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</p>
<h2 id="dijkstra-ç®—æ³•æˆ–ä¸€è‡´ä»£ä»·æœç´¢">Dijkstra ç®—æ³•æˆ–ä¸€è‡´ä»£ä»·æœç´¢</h2>
<hr />
<p><strong>function</strong> Uniform-Cost-Search(problem)
<strong>returns</strong> ä¸€ä¸ªè§£èŠ‚ç‚¹æˆ–failure<br><br />
<strong>return</strong> Best-First-Search(problem, Path-Cost)<br></p>
<p><strong>function</strong> Best-First-Search(problem, f )
<strong>returns</strong> ä¸€ä¸ªè§£èŠ‚ç‚¹æˆ– failure<br><br />
â€ƒnode â† Node(State=problem.Initial)<br><br />
â€ƒfrontier â† ä¸€ä¸ªä»¥ f æ’åºçš„ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…¶ä¸­ä¸€ä¸ªå…ƒç´ ä¸ºnode<br><br />
â€ƒreached â†
ä¸€ä¸ªæŸ¥æ‰¾è¡¨ï¼Œå…¶ä¸­ä¸€ä¸ªæ¡ç›®çš„é”®ä¸ºproblem.Initialï¼Œå€¼ä¸ºnode<br><br />
â€ƒ<strong>while not</strong> Is-Empty(frontier)
<strong>do</strong><br><br />
â€ƒâ€ƒnode â† Pop(frontier)<br><br />
â€ƒâ€ƒif problem.Is-Goal(node.State) then return node<br><br />
â€ƒâ€ƒfor each child in Expand(problem, node) <strong>do</strong><br><br />
â€ƒâ€ƒs â† child.State<br><br />
â€ƒâ€ƒif sä¸åœ¨reachedä¸­ or child.Path-Cost reached[s].Path-Cost
then<br><br />
â€ƒâ€ƒâ€ƒâ€ƒreached[s] â† child<br><br />
â€ƒâ€ƒâ€ƒâ€ƒå°†childæ·»åŠ åˆ°frontierä¸­<br><br />
<strong>return</strong> failure<br><br />
<strong>function</strong> Expand(problem, node) <strong>yields</strong>
èŠ‚ç‚¹<br><br />
â€ƒs â† node.State<br><br />
â€ƒ<strong>for each</strong> action <strong>in</strong> problem.Actions(s)
<strong>do</strong><br><br />
â€ƒâ€ƒs' â† problem.Result(s, action)<br><br />
â€ƒâ€ƒâ€ƒcost â† node.Path-Cost + problem.Action-Cost(s, action, s')<br><br />
â€ƒâ€ƒâ€ƒ<strong>yield</strong> Node(State=s', Parent=node, Action=action,
Path-Cost=cost)<br></p>
<hr />
<h2 id="æ·±åº¦ä¼˜å…ˆæœç´¢depth-first-search">æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆdepth-first
searchï¼‰</h2>
<hr />
<p><strong>function</strong> Depth-Limited-Search(problem, â„“)
<strong>returns</strong>ä¸€ä¸ªè§£èŠ‚ç‚¹æˆ–failure cutoff //å½“â„“=âˆ
å°±æ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢<br />
â€ƒfrontier â†
ä¸€ä¸ªLIFOé˜Ÿåˆ—ï¼ˆæ ˆï¼‰ï¼Œå…¶ä¸­ä¸€ä¸ªå…ƒç´ ä¸ºNode(problem.Initial)<br><br />
â€ƒresult â† failure<br><br />
â€ƒ<strong>while not</strong> Is-Empty(frontier)
<strong>do</strong><br><br />
â€ƒâ€ƒnode â† Pop(frontier)<br><br />
â€ƒâ€ƒ<strong>if</strong> problem.Is-Goal(node.State) then return
node<br><br />
â€ƒâ€ƒ<strong>if</strong> Depth(node) â„“ <strong>then</strong><br><br />
â€ƒâ€ƒâ€ƒresult â† cutoff<br><br />
â€ƒâ€ƒ<strong>else if not</strong> Is-Cycle(node)
<strong>do</strong><br><br />
â€ƒâ€ƒâ€ƒ<strong>for each</strong> child <strong>in</strong> Expand(problem,
node) <strong>do</strong><br><br />
â€ƒâ€ƒâ€ƒâ€ƒå°†childæ·»åŠ åˆ°frontier<br><br />
<strong>return</strong> result<br></p>
<p><strong>function</strong> Iterative-Deepening-Search(problem)
<strong>returns</strong> ä¸€ä¸ªè§£èŠ‚ç‚¹æˆ–failure<br><br />
â€ƒ<strong>for</strong> depth = 0 to âˆ <strong>do</strong><br><br />
â€ƒâ€ƒresult â† Depth-Limited-Search(problem, depth)<br></p>
<p><strong>if </strong> result <span class="math inline">\(\neq\)</span>
cutoff then <strong>return</strong> result<br></p>
<hr />
<h2 id="åŒå‘æœç´¢">åŒå‘æœç´¢</h2>
<p>â€ƒâ€ƒæˆ‘ä»¬ä¼ å…¥é—®é¢˜å’Œè¯„ä»·å‡½æ•°çš„ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜¯æ­£å‘çš„ï¼ˆä¸‹æ ‡Fï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯åå‘çš„ï¼ˆä¸‹æ ‡Bï¼‰ã€‚å½“è¯„ä»·å‡½æ•°æ˜¯è·¯å¾„ä»£ä»·æ—¶ï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªè§£å°†æ˜¯æœ€ä¼˜è§£ï¼Œä½†æ˜¯å¯¹äºä¸åŒçš„è¯„ä»·å‡½æ•°ï¼Œè¿™ä¸€ç»“è®ºä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¼šè®°å½•è¿„ä»Šä¸ºæ­¢æ‰¾åˆ°çš„æœ€ä¼˜è§£ï¼Œå¹¶ä¸”å¯èƒ½ä¸å¾—ä¸å¤šæ¬¡æ›´æ–°æœ€ä¼˜è§£ï¼Œç›´åˆ°Terminated
æµ‹è¯•è¯æ˜ä¸å¯èƒ½å†æœ‰<br />
æ›´å¥½çš„è§£ã€‚</p>
<hr />
<p><strong>function</strong> BiBF-Search(problemF, fF, problemB, fB)
<strong>returns</strong> ä¸€ä¸ªè§£èŠ‚ç‚¹æˆ– failure<br><br />
â€ƒnode_F â† Node(problem_F.initial) // åˆå§‹çŠ¶æ€èŠ‚ç‚¹<br><br />
â€ƒnode_B â† Node(problem_B.initial) // ç›®æ ‡çŠ¶æ€èŠ‚ç‚¹<br><br />
â€ƒfrontier_F â† æŒ‰f_Fæ’åºçš„ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…¶ä¸­ä¸€ä¸ªå…ƒç´ ä¸ºnode_F<br><br />
â€ƒfrontier_B â† æŒ‰ f_Bæ’åºçš„ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…¶ä¸­ä¸€ä¸ªå…ƒç´ ä¸ºnode_B<br><br />
â€ƒreached_F â†
ä¸€ä¸ªæŸ¥æ‰¾è¡¨ï¼Œå…¶ä¸­ä¸€ä¸ªæ¡ç›®çš„é”®æ˜¯node_F.Stateä¸”å€¼æ˜¯node_F<br><br />
â€ƒreached_B â†
ä¸€ä¸ªæŸ¥æ‰¾è¡¨ï¼Œå…¶ä¸­ä¸€ä¸ªæ¡ç›®çš„é”®æ˜¯node_B.Stateä¸”å€¼æ˜¯node_B<br><br />
â€ƒsolution â† failure<br><br />
â€ƒ<strong>while not</strong> Terminated(solution, frontier_F, frontier_B)
<strong>do</strong><br><br />
â€ƒâ€ƒ<strong>if</strong> f_F(Top(frontier_F)) f_B(Top(frontier_B))
<strong>then</strong><br><br />
â€ƒâ€ƒâ€ƒsolution â† Proceed(F, problem_F , frontier_F , reached_F, reached_B,
solution)<br><br />
â€ƒâ€ƒ<strong>else</strong> solution â† Proceed(B, problem_B, frontier_B,
reached_B, reached_F, solution)<br><br />
<strong>return </strong>solution<br></p>
<p><strong>function</strong> Proceed(dir, problem, frontier, reached,
reached2, solution) <strong>returns</strong>ä¸€ä¸ªè§£<br><br />
/ / åœ¨frontierä¸Šæ‰©å±•èŠ‚ç‚¹ï¼Œå¯¹ç…§reached2ä¸­çš„å¦ä¸€ä¸ªè¾¹ç•Œ<br><br />
/ / å˜é‡diræ˜¯æ–¹å‘ï¼šè¦ä¹ˆæ˜¯Fï¼ˆä»£è¡¨æ­£å‘ï¼‰ï¼Œè¦ä¹ˆæ˜¯Bï¼ˆä»£è¡¨åå‘ï¼‰<br><br />
node â† Pop(frontier)<br><br />
<strong>for each</strong> child in Expand(problem, node) do<br><br />
â€ƒs â† child.State<br><br />
â€ƒ<strong>if</strong> sä¸åœ¨ reached ä¸­ or Path-Cost(child)
Path-Cost(reached[s]) <strong>then</strong><br><br />
â€ƒâ€ƒreached[s] â† child<br><br />
â€ƒâ€ƒ//å°†childæ·»åŠ åˆ°frontier<br><br />
â€ƒif sä¸åœ¨reached2ä¸­ then<br><br />
â€ƒâ€ƒsolution_2 â† Join-Nodes(dir, child, reached_2[s])<br><br />
â€ƒâ€ƒ<strong>if</strong> Path-Cost(solution_2) Path-Cost(solution)
<strong>then</strong><br><br />
â€ƒâ€ƒâ€ƒsolution â† solution_2<br><br />
<strong>return</strong> solution<br></p>
<hr />
<p>Terminatedæµ‹è¯•æ€ä¹ˆå®ç°ï¼Ÿ</p>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="header">
<th>ç®—æ³•</th>
<th>é‡‡ç”¨é˜Ÿåˆ—å’Œæœç´¢</th>
<th>æ—¶é—´å¤æ‚åº¦/ç©ºé—´å¤æ‚åº¦</th>
<th>ä¼˜ç‚¹ /ç¼ºç‚¹</th>
<th>åº”ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>å¹¿åº¦ä¼˜å…ˆæœç´¢(breadth-first search)</td>
<td>å…ˆè¿›å…ˆå‡ºæ€»èƒ½å¾—åˆ°æ–°èŠ‚ç‚¹ å›¾æœç´¢</td>
<td><span class="math inline">\(O(b^d)\)</span><a href="#fn1"
class="footnote-ref" id="fnref1"
role="doc-noteref"><sup>1</sup></a></td>
<td>æ€»èƒ½æ‰¾åˆ°åŠ¨ä½œï¼ˆæ·±åº¦ï¼‰æœ€å°‘ï¼ˆæµ…ï¼‰çš„è§£/éœ€è¦å¾ˆå¤šå†…å­˜å’Œæ—¶é—´</td>
<td>æ‰€æœ‰åŠ¨ä½œçš„ä»£ä»·ç›¸åŒï¼ˆæŠŠæ·±åº¦çœ‹ä½œä»£ä»·ï¼‰</td>
</tr>
<tr class="even">
<td>Dijkstra ç®—æ³•æˆ–ä¸€è‡´ä»£ä»·æœç´¢</td>
<td>ä¼˜å…ˆé˜Ÿåˆ— å›¾æœç´¢</td>
<td><span class="math inline">\(O(b^{1+C^*/ \epsilon})\)</span><a
href="#fn2" class="footnote-ref" id="fnref2"
role="doc-noteref"><sup>2</sup></a></td>
<td>ä¸€è‡´ä»£ä»·æœç´¢æ˜¯å®Œå¤‡çš„ï¼Œä¹Ÿæ˜¯ä»£ä»·æœ€ä¼˜çš„ï¼Œå› ä¸ºå®ƒæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªè§£çš„ä»£ä»·è‡³å°‘ä¸è¾¹ç•Œä¸Šçš„ä»»ä½•å…¶ä»–èŠ‚ç‚¹çš„ä»£ä»·ä¸€æ ·å°ã€‚ä¸€è‡´ä»£ä»·æœç´¢ä¼šæŒ‰ç…§ä»£ä»·é€’å¢çš„é¡ºåºç³»ç»Ÿåœ°è€ƒè™‘æ‰€æœ‰è·¯å¾„ï¼Œè€Œä¸ä¼šé™·å…¥ä¸€ç›´æ²¿å•ä¸€æ— é™è·¯å¾„æ¢ç´¢çš„å›°å¢ƒã€‚</td>
<td>åŠ¨ä½œä»£ä»·ä¸åŒæ—¶ï¼ˆç´¯åŠ ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„ä»£ä»·ï¼‰</td>
</tr>
<tr class="odd">
<td>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆdepth-first searchï¼‰</td>
<td>æ ‘çŠ¶æœç´¢ï¼ˆä¸ç»´æŠ¤å·²è¾¾çŠ¶æ€è¡¨ï¼‰</td>
<td><span class="math inline">\(O(b^m)\)</span>/<span
class="math inline">\(O(bm)\)</span></td>
<td>å†…å­˜å°/ä¸æ˜¯æœ€ä¼˜è§£ ä¸”ä¸å®Œå¤‡å®¹æ˜“é™·å…¥å¾ªç¯</td>
<td>èŠ‚çº¦å†…å­˜</td>
</tr>
<tr class="even">
<td>å›æº¯æœç´¢ï¼ˆbacktracking searchï¼‰</td>
<td>æ ‘çŠ¶æœç´¢</td>
<td><span class="math inline">\(O(b^m)\)</span>/<span
class="math inline">\(O(m)\)</span></td>
<td>èŠ‚çœå¤§é‡èµ„æºï¼Œé€šè¿‡å›æº¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¸ºå½“å‰è·¯å¾„ä¸Šçš„çŠ¶æ€ç»´æŠ¤ä¸€ä¸ªæœ‰æ•ˆçš„é›†åˆæ•°æ®ç»“æ„ï¼Œä»è€Œä½¿æ£€æŸ¥å¾ªç¯çš„æ—¶é—´ä»<span
class="math inline">\(O(m)\)</span> å‡å°‘åˆ°<span
class="math inline">\(O(1)\)</span>ã€‚</td>
<td>å›æº¯å¯¹è®¸å¤šå…·æœ‰å¤§å‹çŠ¶æ€æè¿°çš„é—®é¢˜ï¼ˆä¾‹å¦‚æœºå™¨äººç»„è£…ï¼‰çš„æˆåŠŸæ±‚è§£è‡³å…³é‡è¦ã€‚</td>
</tr>
<tr class="odd">
<td>æ·±åº¦å—é™æœç´¢ï¼ˆdepth-limited searchï¼‰</td>
<td>æ ‘çŠ¶æœç´¢ï¼ˆä¸ç»´æŠ¤å·²è¾¾çŠ¶æ€è¡¨ï¼‰è®¾ç½®æ·±åº¦ç•Œé™â„“</td>
<td><span class="math inline">\(O(b^â„“)\)</span>/<span
class="math inline">\(O(bâ„“)\)</span></td>
<td></td>
<td>æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ”¹è¿›ç‰ˆæœ¬</td>
</tr>
<tr class="even">
<td>è¿­ä»£åŠ æ·±æœç´¢ï¼ˆiterative deepening searchï¼‰</td>
<td></td>
<td>å­˜åœ¨è§£æ—¶<span class="math inline">\(O(b^d)\)</span>/<span
class="math inline">\(O(bd)\)</span>ä¸å­˜åœ¨è§£æ—¶<span
class="math inline">\(O(b^m)\)</span> / <span
class="math inline">\(O(bm)\)</span></td>
<td>åœ¨æœç´¢æ ‘é¡¶ç«¯çŠ¶æ€ä¼šè¢«é‡å¤ç”Ÿæˆ</td>
<td>è§£å†³äº†å¦‚ä½•é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„çš„é—®é¢˜</td>
</tr>
<tr class="odd">
<td>åŒå‘æœç´¢ï¼ˆbidirectional searchï¼‰</td>
<td></td>
<td></td>
<td></td>
<td><span class="math inline">\(b^{d/2}+b^{d/2}\)</span>è¦æ¯”<span
class="math inline">\(b^d\)</span>å°å¾—å¤š</td>
</tr>
</tbody>
</table>
<h1 id="æœ‰ä¿¡æ¯å¯å‘å¼æœç´¢ç­–ç•¥">3.5 æœ‰ä¿¡æ¯ï¼ˆå¯å‘å¼ï¼‰æœç´¢ç­–ç•¥</h1>
<p>â€ƒâ€ƒå¼•å…¥å¯å‘å¼å‡½æ•°ï¼ˆheuristic function) h(n) = ä»èŠ‚ç‚¹n
çš„çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„æœ€å°ä»£ä»·è·¯å¾„çš„ä»£ä»·ä¼°è®¡å€¼ï¼ˆå®ƒçš„æ¥æºåé¢çš„ç« èŠ‚å›è®²ï¼‰</p>
<h2
id="è´ªå¿ƒæœ€ä½³ä¼˜å…ˆæœç´¢greedy-best-first-search">è´ªå¿ƒæœ€ä½³ä¼˜å…ˆæœç´¢ï¼ˆgreedy
best-first searchï¼‰</h2>
<p>â€ƒâ€ƒä½¿ç”¨æœ€ä¼˜å…ˆæœç´¢çš„æ–¹å¼ å»è¯„ä»·å‡½æ•°f(n)=h(n)ã€‚ä¾‹å¦‚å¯»å¾„é—®é¢˜
æˆ‘ä»¬ç”¨ä¸¤åœ°çš„ç›´çº¿è·ç¦»<span
class="math inline">\(h_{SLD}\)</span>ä½œä¸ºå¯å‘å‡½æ•°ã€‚å¯¹äºè¿™ä¸€ç‰¹å®šé—®é¢˜ï¼Œä½¿ç”¨<span
class="math inline">\(h_{SLD}\)</span>çš„è´ªå¿ƒæœ€ä½³ä¼˜å…ˆæœç´¢æ— é¡»æ‰©å±•ä¸åœ¨è§£è·¯å¾„ä¸Šçš„èŠ‚ç‚¹å°±æ‰¾åˆ°äº†è§£ã€‚ä½†æ˜¯ï¼Œå®ƒæ‰¾åˆ°çš„è§£å¹¶ä¸æ˜¯ä»£ä»·æœ€ä¼˜çš„ã€‚å®ƒä¿è¯äº†æ¯ä¸€æ­¥æœ€ä¼˜ä½†æ— æ³•ä¿è¯å…¨å±€æœ€ä¼˜ã€‚å…¶åœ¨æœ‰é™ç©ºé—´æ˜¯å®Œå¤‡çš„ï¼Œåœ¨æ— é™ç©ºé—´æ˜¯ä¸å®Œå¤‡çš„ã€‚æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚æ€§å’Œç©ºé—´å¤æ‚æ€§ä¸ºO(|v|),
é‡‡ç”¨ä¸€ä¸ªå¥½çš„å¯å‘å¼å‡½æ•°ï¼Œå¤æ‚æ€§å¯ä»¥é™ä½åˆ°O(bm)ã€‚</p>
<h2 id="aastæœç´¢aast-search"><span
class="math inline">\(A^\ast\)</span>æœç´¢ï¼ˆ<span
class="math inline">\(A^\ast\)</span> searchï¼‰</h2>
<p>â€ƒâ€ƒ<span class="math inline">\(A^\ast\)</span>
æœç´¢ä¹Ÿæ˜¯ä¸€ç§æœ€ä½³ä¼˜å…ˆæœç´¢ è¯„ä»·å‡½æ•°å– f(n)= g(n)+h(n)ã€‚
g(n)æ˜¯ä»åˆå§‹çŠ¶æ€åˆ°èŠ‚ç‚¹nçš„è·¯å¾„ä»£ä»·ï¼Œh(n)æ˜¯ä»èŠ‚ç‚¹n
åˆ°ä¸€ä¸ªç›®æ ‡çŠ¶æ€çš„æœ€çŸ­è·¯å¾„çš„ä»£ä»·ä¼°è®¡å€¼ã€‚</p>
<p><span class="math inline">\(A^\ast\)</span> æœç´¢æ˜¯å®Œå¤‡çš„çš„
ã€‚å®ƒæ˜¯å¦æ˜¯ä»£ä»·æœ€ä¼˜åˆ™å–å†³äºå¯å‘å¼å‡½æ•°çš„æ€§è´¨ã€‚</p>
<p>å¯å®¹è®¸æ€§ï¼ˆadmissibilityï¼‰ä¸€ä¸ªå¯å®¹è®¸çš„å¯å‘å¼ï¼ˆadmissible
heuristicï¼‰å‡½æ•°æ°¸è¿œä¸ä¼šé«˜ä¼°åˆ°è¾¾æŸä¸ªç›®æ ‡çš„ä»£ä»·</p>
<p>ä¸€è‡´æ€§ï¼ˆconsistencyï¼‰<span class="math inline">\(h(n) \leq
c(n,a,n^\prime)+h(n^\prime)\)</span></p>
<pre class="mermaid">

graph LR
A((n))--&quot;c(n,a,n&#39;)&quot;--&gt; B((n&#39;))
B -.&quot;h(n&#39;)&quot;.-&gt; f
A -.&quot;h(n)&quot;.-&gt; f((G_n&#39;))

</pre>
<p>â€ƒâ€ƒä¸€è‡´çš„å¯å‘å¼å‡½æ•°éƒ½æ˜¯å¯å®¹è®¸çš„ï¼ˆåè¿‡æ¥ä¸æˆç«‹ï¼‰ã€‚ä½¿ç”¨ä¸€è‡´çš„å¯å‘å‡½æ•°
A*æœç´¢çš„è§£æ€»æ˜¯æœ€ä¼˜çš„ä¸”ç¬¬ä¸€æ¬¡åˆ°è¾¾çš„çŠ¶æ€å°±æ˜¯æœ€ä¼˜è§£çš„è·¯å¾„ã€‚</p>
<p>â€ƒâ€ƒæœç´¢ç­‰å€¼çº¿
ä¸€ç§å¯¹æœç´¢è¿›è¡Œå¯è§†åŒ–çš„æ–¹æ³•æ˜¯åœ¨çŠ¶æ€ç©ºé—´ä¸­ç»˜åˆ¶ç­‰å€¼çº¿ï¼ˆcontourï¼‰ï¼Œå°±åƒåœ¨åœ°å½¢å›¾ä¸­ç»˜åˆ¶ç­‰é«˜çº¿ä¸€æ ·ã€‚</p>
<p>â€ƒâ€ƒ<span
class="math inline">\(A^\ast\)</span>ä¹‹æ‰€ä»¥é«˜æ•ˆï¼Œæ˜¯å› ä¸ºå®ƒä¼šå¯¹é‚£äº›å¯¹äºå¯»æ‰¾æœ€ä¼˜è§£æ²¡æœ‰å¸®åŠ©çš„æœç´¢æ ‘èŠ‚ç‚¹è¿›è¡Œå‰ªæï¼ˆpruningï¼‰ã€‚å¯¹è®¸å¤šäººå·¥æ™ºèƒ½é¢†åŸŸæ¥è¯´ï¼Œå‰ªæï¼ˆä¸å¿…è¿›è¡Œæ£€æŸ¥å°±å¯ä»¥æ’é™¤ä¸æ­£ç¡®çš„ç­”æ¡ˆï¼‰éå¸¸é‡è¦ã€‚éœ€è¦æ³¨æ„çš„æ˜¯<span
class="math inline">\(A^\ast\)</span>å¹¶ä¸é€‚ç”¨ä¸æ‰€æœ‰æœç´¢éœ€æ±‚ï¼Œå®ƒå¯èƒ½å—å›°äºè¿‡å¤šçš„æ‰©å±•èŠ‚ç‚¹æ•°ã€‚</p>
<h2
id="æ»¡æ„æœç´¢ä¸å¯å®¹è®¸çš„å¯å‘å¼å‡½æ•°ä¸åŠ æƒaast-æœç´¢">æ»¡æ„æœç´¢ï¼šä¸å¯å®¹è®¸çš„å¯å‘å¼å‡½æ•°ä¸åŠ æƒ<span
class="math inline">\(A^\ast\)</span> æœç´¢</h2>
<p>â€ƒâ€ƒè™½ç„¶ <span
class="math inline">\(A^\ast\)</span>ç®—æ³•å¯ä»¥æ‰¾åˆ°æœ€ä¼˜çš„è§£
ä½†æ˜¯ä»£ä»·éœ€è¦æ‰©å±•å¤§é‡èŠ‚ç‚¹
ï¼Œå¦‚æœæˆ‘ä»¬é€€è€Œæ±‚å…¶æ¬¡,æ¥å—ä¸€ä¸ªæ¥è‡ªä¸å¯å®¹è®¸ï¼ˆä½†æ›´å‡†ç¡®ï¼‰çš„å¯å‘å‡½æ•°å¸¦æ¥çš„æ¬¡ä¼˜çš„è§£,å°†èŠ±è´¹æ›´å°‘çš„æ—¶é—´å’Œç©ºé—´çš„ä»£ä»·ï¼Œè¿™æ ·çš„è§£æˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸ºæ»¡æ„çš„è§£ã€‚</p>
<p>â€ƒâ€ƒæˆ‘ä»¬é‡‡ç”¨ä¸€ç§ç§°ä¸ºåŠ æƒ<span
class="math inline">\(A^\ast\)</span>æœç´¢ï¼ˆweighted <span
class="math inline">\(A^\ast\)</span>
searchï¼‰çš„æ–¹æ³•ï¼Œå¯¹å¯å‘å¼å‡½æ•°çš„å€¼è¿›è¡Œæ›´é‡çš„åŠ æƒï¼Œè¯„ä»·å‡½æ•°ä¸º<span
class="math inline">\(f(n) = g(n) + W Ã— h(n)\)</span>ï¼Œå…¶ä¸­<span
class="math inline">\(W\geq1\)</span>ã€‚ä¸€èˆ¬ä¼šæ‰¾åˆ°ä¸€ä¸ªä»‹äº<span
class="math inline">\(W\times C^\ast\)</span>ä¸<span
class="math inline">\(C^\ast\)</span>ä¹‹é—´çš„è§£ã€‚è¿™ç§æ–¹æ³•ä¹Ÿè¢«æˆä¸ºæœ‰ç•Œæ¬¡ä¼˜æœç´¢ï¼ˆbounded
suboptimal searchï¼‰ï¼Œä¸ä¹‹ç›¸åè¿˜å­˜åœ¨æ— ç•Œä»£ä»·æœç´¢ï¼ˆunbounded-cost
searchï¼‰ï¼Œæˆ‘ä»¬æ¥å—ä»»ä½•ä»£ä»·çš„è§£ï¼Œåªè¦èƒ½å¿«é€Ÿæ‰¾åˆ°å®ƒã€‚</p>
<h2 id="å†…å­˜å—é™æœç´¢">å†…å­˜å—é™æœç´¢</h2>
<p>â€ƒâ€ƒæŸæœç´¢ï¼ˆbeam searchï¼‰é™å®šè¾¹ç•Œå¤§å°é€šè¿‡é™å®šå¯æ‰©å±•èŠ‚ç‚¹ä¸ªæ•° æˆ–è€…åªæ‰©å±•
åœ¨æœ€ä¼˜få€¼ä¸€å®šèŒƒå›´å†…çš„èŠ‚ç‚¹æ•°ã€‚</p>
<p>â€ƒâ€ƒè¿­ä»£åŠ æ·±<span
class="math inline">\(A^\ast\)</span>æœç´¢ï¼ˆiterative-deepening <span
class="math inline">\(A^\ast\)</span> searchï¼ŒID<span
class="math inline">\(A^\ast\)</span>ï¼‰
æ¯æ¬¡è¿­ä»£æ›´æ–°æˆªæ–­çš„få€¼ï¼Œæ–°çš„fæˆªæ–­å€¼ä¸ºè¶…è¿‡ä¸Šä¸€æ¬¡è¿­ä»£æˆªæ–­å€¼çš„èŠ‚ç‚¹ä¸­æœ€å°çš„fä»£ä»·ã€‚æ¢å¥è¯è¯´ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šå½»åº•åœ°æœç´¢ä¸€ä¸ªf
ç­‰å€¼çº¿ï¼Œæ‰¾åˆ°ä¸€ä¸ªåˆšå¥½è¶…å‡ºè¯¥ç­‰å€¼çº¿çš„èŠ‚ç‚¹ï¼Œå¹¶ä½¿ç”¨è¯¥èŠ‚ç‚¹çš„f
ä»£ä»·ä½œä¸ºä¸‹ä¸€ä¸ªç­‰å€¼çº¿ã€‚</p>
<p>é€’å½’æœ€ä½³ä¼˜å…ˆæœç´¢ï¼ˆrecursive best-first searchï¼ŒRBFSï¼‰</p>
<p>â€ƒâ€ƒä½¿ç”¨$f_limit
$å˜é‡è·Ÿè¸ªä»å½“å‰èŠ‚ç‚¹çš„ä»»æ„ç¥–å…ˆèŠ‚ç‚¹å¯å¾—åˆ°çš„æœ€ä¼˜å¤‡é€‰è·¯å¾„çš„f
å€¼ã€‚å¦‚æœå½“å‰èŠ‚ç‚¹è¶…è¿‡äº†è¿™ä¸ªé™åˆ¶ï¼Œé‚£ä¹ˆé€’å½’å°†å›åˆ°å¤‡é€‰è·¯å¾„ä¸Šã€‚éšç€é€’å½’çš„å±•å¼€ï¼ŒRBFS
å°†è·¯å¾„ä¸Šæ¯ä¸ªèŠ‚ç‚¹çš„f å€¼æ›¿æ¢ä¸ºä¸€ä¸ªå€’æ¨å€¼ï¼ˆbacked-up
valueï¼‰â€”â€”å…¶å­èŠ‚ç‚¹çš„æœ€ä¼˜f å€¼ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒRBFS
å¯ä»¥è®°ä½è¢«å®ƒé—å¿˜çš„å­æ ‘ä¸­æœ€ä¼˜å¶èŠ‚ç‚¹çš„f å€¼ï¼Œå› æ­¤ï¼Œåœ¨ä¹‹åçš„æŸä¸ªæ—¶åˆ»ï¼ŒRBFS
å¯ä»¥å†³å®šæ˜¯å¦è¦é‡æ–°æ‰©å±•è¯¥å­æ ‘ã€‚</p>
<hr />
<p><strong>function</strong> Recursive-Best-First-Search(problem)
<strong>returns</strong> ä¸€ä¸ªè§£æˆ–è€…failure<br>â€ƒsolution, fvalue â†
RBFS(problem, Node(problem.Initial), âˆ)<br><br />
<strong>return</strong> solution<br><br />
<strong>function</strong> RBFS(problem, node, f_limit) returns
ä¸€ä¸ªè§£æˆ–failureï¼Œä»¥åŠä¸€ä¸ªæ–°çš„ fä»£ä»·é™åˆ¶<br><br />
â€ƒ<strong>if</strong> problem.Is-Goal(node.State) <strong>then
return</strong> node<br><br />
successors â† list(Expand(node))<br><br />
â€ƒ<strong>if</strong> successorsä¸ºç©º <strong>then return
failure</strong>, âˆ<br><br />
â€ƒ<strong>for each</strong> s <strong>in</strong> successors
<strong>do</strong> //ç”¨å‰ä¸€æ¬¡æœç´¢ä¸­çš„å€¼æ›´æ–° f<br><br />
â€ƒâ€ƒs.f â† max(s.Path-Cost + h(s), node.f )<br><br />
<strong>while</strong> true <strong>do</strong><br><br />
â€ƒbest â† successors ä¸­ f å€¼æœ€ä½çš„èŠ‚ç‚¹<br><br />
â€ƒ<strong>if </strong>best. f &gt;f_limit <strong>then return</strong>
failure, best. f<br><br />
â€ƒalternative â† successorsä¸­ç¬¬äºŒä½çš„ f å€¼<br><br />
â€ƒresult, best. f â† RBFS(problem, best, min(f_limit,
alternative))<br><br />
â€ƒ<strong>if</strong> result<span class="math inline">\(\neq\)</span>
failure <strong>then return</strong> result, best. f<br></p>
<hr />
<p>â€ƒâ€ƒæœ‰å¤šå°‘å¯ç”¨å†…å­˜ä½¿ç”¨å¤šå°‘å†…å­˜çš„ç®—æ³• <span
class="math inline">\(MA^\ast\)</span>ï¼ˆmemory-bounded <span
class="math inline">\(A^\ast\)</span>ï¼Œå†…å­˜å—é™çš„<span
class="math inline">\(A^\ast\)</span>ï¼‰å’Œ<span
class="math inline">\(SMA^\ast\)</span>ï¼ˆsimplified <span
class="math inline">\(MA^\ast\)</span>ï¼Œç®€åŒ–çš„<span
class="math inline">\(MA^\ast\)</span>ï¼‰ã€‚<span
class="math inline">\(SMA^\ast\)</span> åƒ<span
class="math inline">\(A^\ast\)</span>ä¸€æ ·ï¼Œä½†æ˜¯å½“å†…å­˜æ»¡æ—¶ï¼Œå®ƒä¸åœ¨æ·»åŠ èŠ‚ç‚¹
é™¤éå®ƒåˆ¤æ–­ä»¥ååˆ é™¤æœ€è€çš„æœ€å·®å¶èŠ‚ç‚¹ã€‚å’ŒRBFS ä¸€æ ·ï¼ŒSMA*
å°†è¢«é—å¿˜èŠ‚ç‚¹çš„å€¼å¤‡ä»½åˆ°å…¶çˆ¶èŠ‚ç‚¹ã€‚</p>
<h2 id="åŒå‘å¯å‘å¼æœç´¢">åŒå‘å¯å‘å¼æœç´¢</h2>
<p>â€ƒâ€ƒè€ƒè™‘å¯å‘å‡½æ•°çš„åŒå‘æœ€ä½³ä¼˜å…ˆæœç´¢ã€‚æ­£å‘æœç´¢ç”¨<span
class="math inline">\(f_F(n)=g_F(n)+h_F(n)\)</span>ä½œä¸ºè¯„ä»·å‡½æ•°ï¼Œåå‘æœç´¢ç”¨<span
class="math inline">\(f_B(n)=g_B(n)+h_B(n)\)</span>ä½œä¸ºè¯„ä»·å‡½æ•°ã€‚ä»–ä»¬æ‹¥æœ‰ä¸åŒçš„è¯„ä»·å‡½æ•°ã€‚</p>
<p>è§£ä»£ä»·çš„ä¸‹ç•Œ</p>
<p><span class="math display">\[
lb(m,n)=max(g_F(m)+g_B(n),f_F(m),f_B(n))
\]</span></p>
<h1 id="å¯å‘å¼å‡½æ•°">3.6ã€€å¯å‘å¼å‡½æ•°</h1>
<p>â€ƒâ€ƒä¸€ç§æè¿°å¯å‘å¼å‡½æ•°è´¨é‡çš„æ–¹æ³•æ˜¯<strong>æœ‰æ•ˆåˆ†æ”¯å› å­ï¼ˆeffective
branching factorï¼‰</strong><span
class="math inline">\(b^\ast\)</span>ã€‚å¦‚æœé’ˆå¯¹ä¸€ä¸ªç‰¹å®šé—®é¢˜ï¼Œ<span
class="math inline">\(A^\ast\)</span>
æœç´¢æ‰€ç”Ÿæˆçš„æ€»èŠ‚ç‚¹æ•°æ˜¯nï¼Œè€Œè§£çš„æ·±åº¦æ˜¯dï¼Œé‚£ä¹ˆ<span
class="math inline">\(b^\ast\)</span> å°±æ˜¯æ·±åº¦ä¸ºd çš„å‡è¡¡æ ‘è¦åŒ…å«n + 1
ä¸ªèŠ‚ç‚¹æ‰€å¿…éœ€çš„åˆ†æ”¯å› å­ã€‚å› æ­¤æœ‰</p>
<p><span class="math display">\[
n+1=1+b^\ast+(b^\ast)^2+...+(b^\ast)^d=\frac{1-(b^\ast)^{d+1}}{1-b^\ast}
\]</span><br />
â€ƒâ€ƒç§‘å°”å¤«å’Œé‡Œå¾·ï¼ˆKorf and Reid,
1998ï¼‰æå‡ºäº†å¦ä¸€ä¸ªåˆ»ç”»å¯¹äºä¸€ä¸ªä½¿ç”¨ç»™å®šå¯å‘å¼å‡½æ•°h çš„<span
class="math inline">\(A^\ast\)</span> å‰ªææ•ˆæœçš„æ¦‚å¿µ:
ç›¸å¯¹äºä¸ä½¿ç”¨å¯å‘å‡½æ•°çš„ç®—æ³•æ‰€ç”¨æœ‰æ•ˆæ·±åº¦çš„å‡å°é‡<span
class="math inline">\(k_h\)</span> ,å³æ— ä¿¡æ¯æœç´¢çš„ä»£ä»·ä¸º<span
class="math inline">\(O(b^d)\)</span> ä½¿ç”¨å¯å‘å‡½æ•°åä»£ä»·ä¸º<span
class="math inline">\(O(b^{d-k_h})\)</span> ã€‚</p>
<p>â€ƒâ€ƒå¯¹äºåŒä¸€ä¸ªé—®é¢˜å½“ä¸€ä¸ªå¯å‘å‡½æ•°<span
class="math inline">\(h_1\)</span>
åœ¨æ¯ä¸ªèŠ‚ç‚¹çš„å€¼æ€»æ˜¯å¤§äºç­‰äºå¦ä¸€ä¸ªå¯å‘å‡½æ•°<span
class="math inline">\(h_2\)</span> æ—¶ æˆ‘ä»¬è¯´<span
class="math inline">\(h_1\)</span> å ä¼˜äº <span
class="math inline">\(h_2\)</span> ã€‚</p>
<h2 id="ä»æ¾å¼›é—®é¢˜å‡ºå‘ç”Ÿæˆå¯å‘å¼å‡½æ•°">ä»æ¾å¼›é—®é¢˜å‡ºå‘ç”Ÿæˆå¯å‘å¼å‡½æ•°</h2>
<p>â€ƒâ€ƒå¯å‘å‡½æ•°å¾ˆé‡è¦
é‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°å¥½çš„å¯å‘å‡½æ•°æˆ–è€…å¦‚ä½•è®©è®¡ç®—æœºè‡ªåŠ¨æ‰¾åˆ°ä¸€ä¸ªå¯å‘å‡½æ•°å‘¢?æˆ‘ä»¬å¯ä»¥é€šè¿‡æ±‚è§£ä¸€ä¸ªåŸé—®é¢˜çš„<strong>æ¾å¼›é—®é¢˜ï¼ˆrelaxed
problemï¼‰</strong>çš„æœ€ä¼˜ä»£ä»·è§£ä½œä¸ºå¯å‘å‡½æ•°ã€‚æ‰€è°“æ¾å¼›é—®é¢˜å°±æ˜¯å‡å°‘åŠ¨ä½œé™åˆ¶çš„é—®é¢˜ï¼Œå®ƒçš„çŠ¶æ€ç©ºé—´æ¯”åŸé—®é¢˜å¤šäº†ä¸€äº›è¾¹ï¼Œå¯ä»¥ç®€å•çš„ç†è§£ä¸ºæ˜¯ä¸€ä¸ªç›¸å¯¹ç®€åŒ–çš„é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥åˆ é™¤ä¸€ä¸¤ä¸ªæ¡ä»¶æ„é€ æ¾å¼›é—®é¢˜ã€‚</p>
<p>â€ƒâ€ƒå¦‚æœä¸€ä¸ªå¯å®¹è®¸çš„å¯å‘å¼å‡½æ•°é›†åˆ<span class="math inline">\(h_1, â€¦,
h_m\)</span>
å¯ä»¥æ±‚è§£åŒä¸€ä¸ªé—®é¢˜ï¼Œä½†æ²¡æœ‰ä¸€ä¸ªå‡½æ•°æ˜æ˜¾ä¼˜äºå…¶ä»–å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥é€‰æ‹©å“ªä¸ªå‡½æ•°ï¼Ÿäº‹å®è¯æ˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹å®šä¹‰ï¼Œå¾—åˆ°æœ€ä¼˜çš„å¯å‘å¼å‡½æ•°ï¼š</p>
<p><span class="math display">\[
h(n)=max\left\{h_1(n),..,h_k(n)\right\}
\]</span><br />
â€ƒâ€ƒè¿™ç§å¤åˆå¯å‘å¼å‡½æ•°å°†é€‰æ‹©å¯¹äºæ‰€è®¨è®ºèŠ‚ç‚¹æœ€å‡†ç¡®çš„å‡½æ•°ã€‚å› ä¸º<span
class="math inline">\(h_i\)</span> éƒ½æ˜¯å¯å®¹è®¸çš„ï¼Œæ‰€ä»¥h
ä¹Ÿæ˜¯å¯å®¹è®¸çš„ï¼ˆå¦‚æœ<span class="math inline">\(h_i\)</span>
éƒ½æ˜¯ä¸€è‡´çš„ï¼Œåˆ™h ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼‰ã€‚æ­¤å¤–ï¼Œh
ä¼˜äºæ‰€æœ‰ç»„æˆå®ƒçš„å¯å‘å¼å‡½æ•°ã€‚å”¯ä¸€çš„ç¼ºç‚¹æ˜¯<span
class="math inline">\(h(n)\)</span>
çš„è®¡ç®—æ—¶é—´æ›´é•¿ã€‚å¦‚æœè€ƒè™‘è¿™ä¸€é—®é¢˜ï¼Œå¦ä¸€ç§é€‰æ‹©æ˜¯åœ¨æ¯æ¬¡è¯„ä»·æ—¶éšæœºé€‰æ‹©ä¸€ä¸ªå¯å‘å¼å‡½æ•°ï¼Œæˆ–è€…ä½¿ç”¨æœºå™¨å­¦ä¹ ç®—æ³•æ¥é¢„æµ‹å“ªä¸ªå¯å‘å¼å‡½æ•°æ˜¯æœ€ä¼˜çš„ã€‚è¿™æ ·åšå¯èƒ½ä¼šå¯¼è‡´å¯å‘å¼å‡½æ•°å¤±å»ä¸€è‡´æ€§ï¼ˆå³ä½¿æ¯ä¸ª<span
class="math inline">\(h_i\)</span>
éƒ½æ˜¯ä¸€è‡´çš„ï¼‰ï¼Œä½†åœ¨å®è·µä¸­ï¼Œå®ƒé€šå¸¸èƒ½æ›´å¿«åœ°æ±‚è§£é—®é¢˜ã€‚</p>
<h2
id="ä»å­é—®é¢˜å‡ºå‘ç”Ÿæˆå¯å‘å¼å‡½æ•°æ¨¡å¼æ•°æ®åº“">ä»å­é—®é¢˜å‡ºå‘ç”Ÿæˆå¯å‘å¼å‡½æ•°ï¼šæ¨¡å¼æ•°æ®åº“</h2>
<p>â€ƒâ€ƒ<strong>æ¨¡å¼æ•°æ®åº“ï¼ˆpattern
databaseï¼‰</strong>çš„æ€æƒ³æ˜¯ä¸ºæ¯ä¸ªå¯èƒ½çš„å­é—®é¢˜å­˜å‚¨å‡†ç¡®çš„è§£ä»£ä»·ã€‚ç„¶åï¼Œé€šè¿‡åœ¨æ•°æ®åº“ä¸­æŸ¥æ‰¾ç›¸åº”çš„å­é—®é¢˜ï¼Œä¸ºæœç´¢è¿‡ç¨‹ä¸­é‡åˆ°çš„æ¯ä¸ªçŠ¶æ€è®¡ç®—ä¸€ä¸ªå¯å®¹è®¸çš„å¯å‘å¼å‡½æ•°<span
class="math inline">\(h_{DB}\)</span>ã€‚</p>
<p>â€ƒâ€ƒå­é—®é¢˜å’Œæ¾å¼›é—®é¢˜åŒºåˆ«åœ¨äº å­é—®é¢˜çŠ¶æ€æ•°å°äºåŸé—®é¢˜
,è€Œæ¾å¼›é—®é¢˜çŠ¶æ€æ•°å’ŒåŸé—®é¢˜ç›¸åŒåªæ˜¯å¤šäº†ä¸€äº›è¾¹ã€‚</p>
<p>â€ƒâ€ƒå½“åŸé—®é¢˜å¯ä»¥è¢«åˆ’åˆ†æˆè‹¥å¹²ä¸ªå­é—®é¢˜ä¸”è¿™äº›é—®é¢˜è§£ä¸é‡å 
æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ª<strong>ä¸ç›¸äº¤æ¨¡å¼æ•°æ®åº“ï¼ˆdisjoint pattern
databaseï¼‰</strong>å¹¶ä¸”æŠŠå…¶ä¸­æ¯ä¸ªå­é—®é¢˜çš„è§£æ„æˆå¤åˆå¯å‘å¼å‡½æ•°ã€‚</p>
<h2 id="ä½¿ç”¨åœ°æ ‡ç”Ÿæˆå¯å‘å¼å‡½æ•°">ä½¿ç”¨åœ°æ ‡ç”Ÿæˆå¯å‘å¼å‡½æ•°</h2>
<p>ä¸ºäº†å‡å°‘æœç´¢æ—¶é—´æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>é¢„è®¡ç®—ï¼ˆprecomputationï¼‰</strong>æŠ€å·§ï¼Œæ¯”å¦‚
å…ˆèŠ±è´¹æ—¶é—´è®¡ç®—å„ä¸ªé¡¶ç‚¹çš„æœ€ä¼˜è·¯å¾„å­˜å‚¨ä¸‹ ä»¥æ»¡è¶³ä»¥åç”¨æˆ·çš„æœç´¢éœ€æ±‚ã€‚</p>
<p>å¦‚æœç®€å•çš„è¿›è¡Œæ¯ä¸ªé¡¶ç‚¹çš„é¢„è®¡ç®—éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´å’Œå‚¨å­˜æ˜¯ä¸å¤ªæ˜æ™ºçš„ã€‚æ›´å¥½çš„æ–¹æ³•æ˜¯ä»é¡¶ç‚¹ä¸­é€‰æ‹©ä¸€äº›ï¼ˆä¹Ÿè®¸10
ä¸ªæˆ–20 ä¸ªï¼‰<strong>åœ°æ ‡ç‚¹ï¼ˆlandmark
point)</strong>Lï¼Œç„¶åè®¡ç®—å­˜å‚¨å„ä¸ªé¡¶ç‚¹våˆ°åœ°æ ‡Lçš„æœ€ä¼˜ä»£ä»·<span
class="math inline">\(C^\ast(v,L)\)</span>ï¼ˆä»¥åŠåœ°æ ‡åˆ°é¡¶ç‚¹çš„<span
class="math inline">\(C^\ast(L,v)\)</span>
å¯¹äºæ— å‘å›¾åˆ™ä¸ç”¨ï¼‰ï¼Œæœ€åæ„é€ å‡º</p>
<p><span class="math display">\[
h_L(n)= min C^\ast(n,L)+C^\ast(L,goal)
\]</span><br />
<span
class="math inline">\(h_L(n)\)</span>æ˜¯é«˜æ•ˆçš„ï¼Œä½†ä¸æ˜¯å¯å®¹è®¸çš„ã€‚åªè¦ç¨åŠ æ³¨æ„ï¼Œæˆ‘ä»¬å°±å¯ä»¥æå‡ºä¸€ç§æ—¢é«˜æ•ˆåˆå¯å®¹è®¸çš„å¯å‘å¼å‡½æ•°:</p>
<p><span class="math display">\[
h_{DH}(n)= max |C^\ast(n,L)-C^\ast(L,goal)|
\]</span></p>
<p>è¿™è¢«ç§°ä¸º<strong>å·®åˆ†å¯å‘å¼ï¼ˆdifferential
heuristicï¼‰</strong>å‡½æ•°ï¼ˆå› ä¸ºåŒ…å«å‡æ³•ï¼‰ã€‚å¯ä»¥æŠŠå®ƒç†è§£ä¸ºåœ¨æ¯”ç›®æ ‡è¿˜è¦è¿œçš„æŸä¸ªä½ç½®è®¾ç½®ä¸€ä¸ªåœ°æ ‡ç‚¹ã€‚å¦‚æœç›®æ ‡æ°å¥½åœ¨ä»n
åˆ°è¯¥åœ°æ ‡ç‚¹çš„æœ€ä¼˜è·¯å¾„ä¸Šï¼Œé‚£ä¹ˆâ€œè€ƒ<br />
è™‘ä»n åˆ°L çš„å®Œæ•´è·¯å¾„ï¼Œç„¶åå‡å»è¿™æ¡è·¯å¾„çš„æœ€åä¸€éƒ¨åˆ†ï¼Œå³ä»goal
åˆ°Lï¼Œå³å¯å¾—åˆ°ä»n åˆ°goal
çš„è¿™æ®µè·¯å¾„çš„å‡†ç¡®ä»£ä»·â€ã€‚å¦‚æœç›®æ ‡ç¨å¾®åç¦»åˆ°åœ°æ ‡çš„æœ€ä¼˜è·¯å¾„ï¼Œå¯å‘å¼å‡½æ•°å°†æ˜¯ä¸å‡†ç¡®çš„ï¼Œä½†ä»ç„¶æ˜¯å¯å®¹è®¸çš„ã€‚æ¯”ç›®æ ‡è¿‘çš„åœ°æ ‡æ˜¯æ²¡æœ‰ç”¨çš„ï¼›ä¾‹å¦‚ï¼Œä¸€ä¸ªæ°å¥½ä½äºn
å’Œgoal æ­£ä¸­é—´çš„åœ°æ ‡å°†å¯¼è‡´<span class="math inline">\(h_{DH} =
0\)</span>ï¼Œè¿™æ˜¯æ²¡æœ‰ç”¨çš„ã€‚</p>
<p>ä»‹ç»å‡ ç§é€‰æ‹©åœ°æ ‡ç‚¹çš„æ–¹æ³•ã€‚</p>
<ul>
<li>è´ªå¿ƒæ–¹æ³•æ˜¯éšæœºé€‰æ‹©ç¬¬ä¸€ä¸ªåœ°æ ‡ï¼Œç„¶åæ‰¾åˆ°ç¦»å®ƒæœ€è¿œçš„ç‚¹ï¼Œå°†å…¶æ·»åŠ åˆ°åœ°æ ‡é›†åˆä¸­ï¼Œæ¥ç€åœ¨æ¯æ¬¡è¿­ä»£ä¸­æ·»åŠ ç¦»æœ€è¿‘åœ°æ ‡æœ€è¿œçš„ç‚¹ã€‚</li>
<li>å¦‚æœé€šè¿‡ç”¨æˆ·è¿‡å»çš„æœç´¢è¯·æ±‚æ—¥å¿—ï¼Œé‚£ä¹ˆé€‰æ‹©æœç´¢ä¸­ç»å¸¸è¯·æ±‚çš„åœ°ç‚¹ä½œä¸ºåœ°æ ‡ã€‚</li>
<li>å¯¹äºå·®åˆ†å¯å‘å¼å‡½æ•°ï¼Œåœ°æ ‡åˆ†å¸ƒåœ¨å›¾çš„å‘¨ç•Œä¸Šæ›´å¥½ã€‚å› æ­¤ï¼Œä¸€ä¸ªæ¯”è¾ƒå¥½çš„æŠ€æœ¯æ˜¯æ‰¾åˆ°å›¾çš„è´¨å¿ƒï¼Œå›´ç»•è´¨å¿ƒåˆ’åˆ†å‡ºk
ä¸ªæ¥”å½¢ï¼ˆå°±åƒé¥¼çŠ¶å›¾ä¸€æ ·ï¼‰ï¼Œå¹¶åœ¨æ¯ä¸ªæ¥”å½¢ä¸­é€‰æ‹©ç¦»ä¸­å¿ƒæœ€è¿œçš„é¡¶ç‚¹ã€‚</li>
</ul>
<p>ä¸€äº›å¯»å¾„ç®—æ³•é€šè¿‡åœ¨å›¾ä¸­æ·»åŠ <strong>æ·å¾„ï¼ˆshortcutï¼‰</strong>â€”â€”äººå·¥å®šä¹‰çš„å¯¹åº”äºä¸€æ¡æœ€ä¼˜å¤šè¡ŒåŠ¨è·¯å¾„çš„è¾¹â€”â€”æ¥èŠ‚çœæ›´å¤šçš„æ—¶é—´ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥äººä¸ºè€ƒè™‘å‡ ä¸ªä¸é—®é¢˜æœ‰å…³çš„çŠ¶æ€ç‰¹å¾ï¼Œç„¶åæŠŠä»–ä»¬çº¿æ€§ç»„åˆå¾—åˆ°å¯å‘å‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æœŸç›¼æ™ºèƒ½ä½“ä»æœç´¢è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æœç´¢æ ‘åºåˆ—ï¼ˆ<strong>å…ƒçº§çŠ¶æ€ç©ºé—´ï¼ˆmetalevel
state spaceï¼‰</strong>ï¼‰é‡Œå­¦ä¹ ä¼˜åŒ–æœç´¢çš„æ–¹æ³•
å³<strong>å…ƒçº§å­¦ä¹ ï¼ˆmetalevel learningï¼‰</strong></p>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p>Artificial Intelligence: A Modern Approach, Fourth Editionäººå·¥æ™ºèƒ½:
ç°ä»£æ–¹æ³•ï¼ˆç¬¬4 ç‰ˆï¼‰[ ç¾] æ–¯å›¾å°”ç‰¹â€¢ ç½—ç´ ï¼ˆStuart Russellï¼‰ è‘— å½¼å¾—â€¢
è¯ºç»´æ ¼ï¼ˆPeter Norvigï¼‰ å¼ åšé›… é™ˆå¤ ç”°è¶… é¡¾å“å°” å´å‡¡ èµµç”³å‰‘ è¯‘ å¼ å¿—å
å®¡æ ¡ äºº æ°‘ é‚® ç”µ å‡º ç‰ˆ ç¤¾</p>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>(bä¸ºèŠ‚ç‚¹dä¸ºæ·±åº¦)<a href="#fnref1" class="footnote-back"
role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn2"><p>(<span class="math inline">\(C^*\)</span> ç®—æ³•æœ€ä¼˜ä»£ä»·
<span class="math inline">\(\epsilon\)</span>æ¯ä¸ªåŠ¨ä½œä¸‹ç•Œ &gt;0)<a
href="#fnref2" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
</ol>
</section>
]]></content>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>äººå·¥æ™ºèƒ½ ç°ä»£æ–¹æ³• ç¬¬äºŒç« è¯»ä¹¦ç¬”è®°(æŒç»­æ›´æ–°ï¼‰</title>
    <url>/post/eb31a1ba.html</url>
    <content><![CDATA[<h1 id="å ä¸ªä½ç½®">å ä¸ªä½ç½®</h1>
<span id="more"></span>
]]></content>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„æ£‹å±€å¤ç›˜è®°å½•</title>
    <url>/post/6361184f.html</url>
    <content><![CDATA[<p><img
src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/psc.png" /></p>
<p>å’Œæœ‹å‹ä¸‹æ£‹çš„è®°å½•</p>
<span id="more"></span>
<hr />
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Event &quot;Casual Game&quot;]</span><br><span class="line">[Site &quot;https://lichess.org&quot;]</span><br><span class="line">[Date &quot;2023/7/15 ä¸Šåˆ12:49:16&quot;]</span><br><span class="line">[White &quot;Anonymous&quot;]</span><br><span class="line">[Black &quot;Anonymous&quot;]</span><br><span class="line">[Result &quot;*&quot;]</span><br><span class="line">[PlyCount &quot;66&quot;]</span><br><span class="line">[FEN &quot;rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1&quot;]</span><br><span class="line">[Variant &quot;Standard&quot;]</span><br><span class="line">[Termination &quot;?&quot;]</span><br><span class="line"></span><br><span class="line">1. d4 d5 2. c4 e6 3. Nf3 Nf6 4. Bg5 c5 5. cxd5 exd5 6. e3 Qb6 7. Qe2 Be7 8. Bxf6 Bxf6 9. Nc3 O-O 10. Nxd5 Qd6 11. Nxf6+ Qxf6 12. Rc1 b6 13. d5 Ba6 14. Qd2 Bxf1 15. Kxf1 Nd7 16. Qc2 h6 17. h4 g6 18. h5 g5 19. Ke2 Ne5 20. Rhd1 g4 21. Nxe5 Qxe5 22. d6 Qxh5 23. Rh1 Qg5 24. d7 g3 25. Rh3 Qg4+ 26. Kf1 Kg7 27. Rxg3 h5 28. Rxg4+ hxg4 29. Qf5 Rh8 30. Qg5+ Kf8 31. d8=Q+ Rxd8 32. Qxd8+ Kg7 33. Qg5+ Kh7 *</span><br></pre></td></tr></table></figure>
<hr />
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">[Event &quot;Casual Game&quot;]</span><br><span class="line">[Site &quot;https://lichess.org&quot;]</span><br><span class="line">[Date &quot;2023/7/20 ä¸Šåˆ12:08:56&quot;]</span><br><span class="line">[White &quot;Anonymous&quot;]</span><br><span class="line">[Black &quot;Anonymous&quot;]</span><br><span class="line">[Result &quot;*&quot;]</span><br><span class="line">[PlyCount &quot;69&quot;]</span><br><span class="line">[FEN &quot;rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1&quot;]</span><br><span class="line">[Variant &quot;Standard&quot;]</span><br><span class="line">[Termination &quot;?&quot;]</span><br><span class="line"></span><br><span class="line">1. d4 c6 2. e3 d5 3. Nf3 Bg4 4. Be2 f6 5. Bd2 Nd7 6. c3 e5 7. h3 Bh5 8. Na3 Qb6 9. Qb3 Bxa3 10. Qxa3 Ne7 11. g4 Bg6 12. Nh4 Bf7 13. Rg1 Be6 14. Nf5 Bxf5 15. gxf5 Nxf5 16. Bh5+ g6 17. Bg4 O-O-O 18. Bxf5 gxf5 19. O-O-O a6 20. Rg7 Nf8 21. Rf7 Nd7 22. Rg1 Rdf8 23. Rgg7 Rxf7 24. Rxf7 h5 25. Qe7 Qd8 26. f4 Re8 27. Qd6 Rf8 28. Rh7 Rh8 29. Rg7 Re8 30. c4 Rg8 31. Ba5 Nb6 32. Bxb6 Qxd6 33. Rxg8+ Kd7 34. Rd8+ Ke6 35. Rxd6+ *</span><br></pre></td></tr></table></figure>
<hr />
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">[Event &quot;Casual Game&quot;]</span><br><span class="line">[Site &quot;https://lichess.org&quot;]</span><br><span class="line">[Date &quot;2023/7/25 ä¸Šåˆ2:11:26&quot;]</span><br><span class="line">[White &quot;Anonymous&quot;]</span><br><span class="line">[Black &quot;Anonymous&quot;]</span><br><span class="line">[Result &quot;1-0&quot;]</span><br><span class="line">[PlyCount &quot;57&quot;]</span><br><span class="line">[FEN &quot;rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1&quot;]</span><br><span class="line">[Variant &quot;Standard&quot;]</span><br><span class="line">[Termination &quot;mate&quot;]</span><br><span class="line"></span><br><span class="line">1. d4 c6 2. e4 d5 3. e5 Bf5 4. Nf3 e6 5. Nc3 c5 6. Be3 Qb6 7. Nxd5 exd5 8. dxc5 Bxc5 9. Nd4 Ne7 10. Qd2 O-O 11. O-O-O Nbc6 12. Nxf5 Nxf5 13. Bd3 Nxe3 14. Bxh7+ Kxh7 15. Qd3+ g6 16. fxe3 Nxe5 17. Qe2 Bxe3+ 18. Kb1 Nc4 19. b3 Na3+ 20. Kb2 Rae8 21. Qf3 Bc5 22. Rxd5 Re3 23. Qg4 Rfe8 24. Rf1 R8e7 25. Rh5+ gxh5 26. Qxh5+ Kg8 27. Qg5+ Kf8 28. Qh5 Re1 29. Qh8# 1-0</span><br></pre></td></tr></table></figure>
<p>è¿™å±€æ£‹è™½ç„¶ç™½æ–¹å¼€å±€ä¸¢äº†ä¸€åŒ¹é©¬ ä½†æ²¡æœ‰å¤±å»æˆ˜æ„ åé¢æ¯ä¸€æ­¥éƒ½è®¤çœŸå¯¹å¾…
ä»è€ŒæŠ“ä½é»‘æ–¹(æˆ‘)çš„å¤±è¯¯åè´¥ä¸ºèƒœ è¿™ä¹Ÿè®¸æ˜¯ä¸‹æ£‹å’Œéœ€è¦çš„å¿ƒå¢ƒ</p>
<hr />
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">[Event &quot;Casual Game&quot;]</span><br><span class="line">[Site &quot;https://lichess.org&quot;]</span><br><span class="line">[Date &quot;2023/7/25 ä¸Šåˆ12:11:00&quot;]</span><br><span class="line">[White &quot;Anonymous&quot;]</span><br><span class="line">[Black &quot;me&quot;]</span><br><span class="line">1. e4 c6 2. d4 d5 3. Nf3 e6 4. Nc3 Bb4 5. a3 Bxc3+ 6. bxc3 dxe4 7. Ne5 Nd7 8. f3 Nxe5 9. dxe5 Qxd1+ 10. Kxd1 exf3 11. gxf3 Ne7 12. c4 O-O 13. Bg5 Ng6 14. Bd3 h6 15. Bxg6 hxg5 16. Bd3 b6 17. h4 gxh4 18. Rxh4 Rd8 19. Ke2 Bb7 20. Rah1 g6 21. Rh8+ Kg7 22. R1h7#</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">[White &quot;spoe&quot;]</span><br><span class="line">[Black &quot;mkk&quot;]</span><br><span class="line">1. e4 c6 2. d4 d5 3. Nc3 Nf6 4. e5 Ne4 5. Be3 Bf5 6. f3 Nxc3 7. bxc3 h5 8. Bd3 e6 9. f4 Qa5 10. Ne2 c5 11. O-O Be4 12. Bxe4 dxe4 13. f5 Rh6 14. f6 Rh7 15. Rf4 g5 16. Rxe4 g4 17. Qb1 b6 18. a4 c4 19. Qb5+ Qxb5 20. axb5 a5 21. d5 exd5 22. Rd4 Bc5 23. Rxd5 Bxe3+ 24. Kf1 Nd7 25. Ng3 O-O-O 26. Re1 Bf4 27. e6 fxe6 28. Rxe6 Rf8 29. Rf5 Bxg3 30. hxg3 Rhf7 31. Ke2 Rxf6 32. Rfxf6 Nxf6 33. Ke3 Re8 34. Rxe8+ Nxe8</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">[Event &quot;Casual Game&quot;]</span><br><span class="line">[Site &quot;https://lichess.org&quot;]</span><br><span class="line">[Date &quot;2023/8/2 ä¸‹åˆ11:40:28&quot;]</span><br><span class="line">[White &quot;å¤©æµ·æ‚ æ ‘&quot;]</span><br><span class="line">[Black &quot;mkk&quot;]</span><br><span class="line">[Result &quot;*&quot;]</span><br><span class="line">[PlyCount &quot;45&quot;]</span><br><span class="line">[FEN &quot;rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1&quot;]</span><br><span class="line">[Variant &quot;Standard&quot;]</span><br><span class="line">[Termination &quot;?&quot;]</span><br><span class="line"></span><br><span class="line">1. e4 c6 2. Nc3 d5 3. Nf3 Bg4 4. h3 Bxf3 5. Qxf3 e6 6. exd5 cxd5 7. d4 Nc6 8. Qe3 a6 9. Bd2 Qb6 10. Nxd5 Qd8 11. Nf4 Nxd4 12. O-O-O Nf6 13. Bc3 Qc7 14. Qxd4 Rd8 15. Qxd8+ Qxd8 16. Rxd8+ Kxd8 17. Be2 Bc5 18. Nd3 Bd6 19. Bf3 b6 20. Ne5 Ke8 21. Rd1 Ke7 22. Rxd6 Kxd6 23. Nxf7+ *</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Event &quot;Casual Game&quot;]</span><br><span class="line">[Site &quot;https://lichess.org&quot;]</span><br><span class="line">[Date &quot;2023/8/13 ä¸‹åˆ12:30&quot;]</span><br><span class="line">[White &quot;å…¨è‚¯å®š&quot;]</span><br><span class="line">[Black &quot;mkk&quot;]</span><br><span class="line">1. e4 c6 2. c4 d5 3. cxd5 cxd5 4. exd5 Nf6 5. Bb5+ Bd7 6. Qa4 Nxd5 7. Bxd7+ Nxd7 8. Nf3 Nb6 9. Qd4 e6 10. O-O Bc5 11. Qxg7 Rf8 12. d4 Bd6 13. Qxh7 Rc8 14. Nc3 Nf6 15. Qh4 Be7 16. Bg5 Nc4 17. Rab1 Nd5 18. Nxd5 exd5 19. Bxe7 Qxe7 20. Rfe1</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Event &quot;Casual Game&quot;]</span><br><span class="line">[Site &quot;https://lichess.org&quot;]</span><br><span class="line">[Date &quot;2023/8/17 ä¸‹åˆ10:50:19&quot;]</span><br><span class="line">[White &quot;å…¨è‚¯å®š&quot;]</span><br><span class="line">[Black &quot;mkk&quot;]</span><br><span class="line">[Result &quot;*&quot;]</span><br><span class="line">[PlyCount &quot;35&quot;]</span><br><span class="line">[FEN &quot;rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1&quot;]</span><br><span class="line">[Variant &quot;Standard&quot;]</span><br><span class="line">[Termination &quot;?&quot;]</span><br><span class="line"></span><br><span class="line">1. e4 c6 2. Nc3 d5 3. exd5 cxd5 4. d4 e6 5. Nf3 Nc6 6. Bf4 Nf6 7. Bd3 Bd6 8. Qd2 O-O 9. O-O Re8 10. Rfe1 a6 11. a3 Qc7 12. Bxd6 Qxd6 13. h3 e5 14. dxe5 Nxe5 15. Nxe5 Rxe5 16. Rxe5 Qxe5 17. Re1 Qc7 18. Nxd5 *</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Event &quot;Casual Game&quot;]</span><br><span class="line">[Site &quot;https://lichess.org&quot;]</span><br><span class="line">[Date &quot;2023/8/19 &quot;]</span><br><span class="line">[White &quot;spoe&quot;]</span><br><span class="line">[Black &quot;mkk&quot;]</span><br><span class="line">[Result &quot;*&quot;]</span><br><span class="line">[PlyCount &quot;35&quot;]</span><br><span class="line">[FEN &quot;rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1&quot;]</span><br><span class="line">[Variant &quot;Standard&quot;]</span><br><span class="line">[Termination &quot;?&quot;]</span><br><span class="line">1. d4 c6 2. e3 d5 3. c4 Bf5 4. Nc3 e6 5. Qb3 b6 6. Nf3 Nd7 7. Qd1 Bb4 8. a3 Bd6 9. Bd3 Bxd3 10. Qxd3 Ngf6 11. b4 O-O 12. c5 Bc7 13. cxb6 axb6 14. b5 c5 15. dxc5 Nxc5 16. Qc2 e5 17. Bb2 d4 18. exd4 exd4 19. Rd1 Ne6 20. Ne4 Qd7 21. a4 Rfd8 22. Qd3 Nxe4 23. Qxe4 d3 24. O-O Nc5 25. Qh4 Rxa4 26. Qh5 Ra2 27. Ng5 Qf5 28. Bxg7 Kxg7 29. Ne6+ fxe6 30. Qh4 Ne4 31. g4 Qf4 32. f3 Nd6 33. Qe7+ Qf7 34. Qg5+ Kh8 35. Qe5+ Kg8 36. Qc3 Nxb5 37. Qb3 Ra5 38. Rfe1 Nd4 39. Qxd3 Nxf3+</span><br></pre></td></tr></table></figure>
<p>å¤åˆ¶æ£‹è°±ç‚¹å‡»<a
href="https://lichess.org/analysis">æ­¤å¤„</a>åˆ°lichessä¸Šå¤ç›˜</p>
]]></content>
      <tags>
        <tag>å›½é™…è±¡æ£‹</tag>
      </tags>
  </entry>
  <entry>
    <title>å›½é™…è±¡æ£‹å¼€å±€å’Œä½“ç³»</title>
    <url>/post/5122df53.html</url>
    <content><![CDATA[<p><img
src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Searching%20for%20Bobby%20Fischer.jpg" /></p>
<p>æ”¶é›†çš„ä¸€äº›æ£‹è°±å’Œæ•™ç¨‹</p>
<span id="more"></span>
<blockquote>
<p>â€œå°½ç®¡é‚£äº›ç©ä¸–ä¸æ­æ„¤ä¸–å«‰ä¿—çš„çŠ¬å„’ä¸»ä¹‰è€…ä¸€å†æŒ–è‹¦ã€ééš¾æˆ‘ä»¬é’Ÿçˆ±çš„å›½é™…è±¡æ£‹,ç„¶è€Œ,çŠ¬å„’ä¸»ä¹‰è€…æ€ä¹ˆçŸ¥é“æ£‹å¼ˆæœ¬èº«è•´è—ç€æ— ç©·çš„ç§‘å­¦ã€‚æ£‹å¼ˆå°†æˆ‘ä»¬ä»ç—›è‹¦å¿§ä¼¤ä¸­è§£è„±å‡ºæ¥,æ£‹å¼ˆå®‰æ…°ç„¦èºä¸å®‰çš„æ‹äºº,æ£‹å¼ˆç”¨è‰ºæœ¯çš„çœ¼å…‰è¯„è®®æˆ˜å£«,å½“ä¸¥é‡çš„å±é™©å‹è¿«ç€æˆ‘ä»¬,æœ€ç»ˆåˆå±ˆæœäºæˆ‘ä»¬,å½“æˆ‘ä»¬æœ€éœ€è¦ä»–ä»¬çš„æ—¶å€™,ä»–ä»¬æ˜¯æˆ‘ä»¬å­¤ç‹¬æ—¶çš„ä¼™ä¼´"ã€‚ä¼Šæœ¬Â·é˜¿å°”å§†å¡”å…¹,çº¦äº
1040 å¹´</p>
</blockquote>
<h2 id="ä¼¦æ•¦ä½“ç³»">ä¼¦æ•¦ä½“ç³»</h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/London%20System.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>London System</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. d4 Nf6 2. Bf4 d5 3. e3 e6 4. Nd2 c5 5. c3 Nc6 6. Ngf3 Be7 7. Bd3 a6 8. Ne5 O-O 9. h4 Nxe5 10. dxe5 Nd7 11. Bxh7+ Kxh7 12. Qh5+ Kg8 13. Nf3 f6 14. Ng5 fxg5 15. hxg5 Bxg5 16. Bxg5 Qc7 17. f4 d4 18. O-O-O dxc3 19. Qh7+ Kf7 20. Rh6 cxb2+ 21. Kb1 c4 22. Qg6+ Kg8 23. Rdh1</span><br></pre></td></tr></table></figure>
<h3 id="è§†é¢‘æ•™ç¨‹">è§†é¢‘æ•™ç¨‹</h3>
<ol type="1">
<li><a
href="https://www.bilibili.com/video/BV1vi4y1m7yZ/?spm_id_from=333.337.search-card.all.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">bç«™æ¬è¿ç¿»è¯‘çš„</a>
<a
href="https://www.chess.com/lessons/london-system-for-the-busy-chess-player">åŸè§†é¢‘</a></li>
</ol>
<h2 id="caro-kann-defence">Caro-Kann defence</h2>
<p>æœ€æ—©ç”±ç»´ä¹Ÿçº³å¤§å¸ˆ é©¬é‡Œå¥¥åº·èµ°çš„ åæ¥ç”±å¾·å›½å¡ç½— æŠŠå¤§éƒ¨åˆ†å˜ä¾‹æ¨æ¼”å‡ºæ¥</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Caro-Kann_defence.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Caro-Kann defence</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. d4 d5 3. e5 c5 4. dxc5 Nc6 5. Nf3 Bg4 6. Be2 e6 7. Be3 Nge7 8. h3 Bxf3 9. Bxf3</span><br></pre></td></tr></table></figure>
<h3 id="è§†é¢‘æ•™ç¨‹-1">è§†é¢‘æ•™ç¨‹</h3>
<ol type="1">
<li><a
href="https://www.bilibili.com/video/BV1sh4y1y7YA/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">bç«™æ¬è¿çš„</a>
ï¼›<a
href="https://www.youtube.com/watch?v=0p_881Nwoo4">YouTubeåŸè§†é¢‘åœ°å€</a></li>
</ol>
<h3 id="æŒºå…µå˜ä¾‹">æŒºå…µå˜ä¾‹</h3>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. d4 d5 3. e5 Bf5 4. Bd3 Bxd3 5. Qxd3 e6 6. Ne2 c5 7. c3 Ne7 8. Qb5+ Qd7 9. Qxc5 Nf5 10. Qa5 b6</span><br></pre></td></tr></table></figure>
<p>é»‘æ–¹ç›¸åˆ°fçº¿ ç™½æ–¹å’Œä½ å…‘ç™½æ ¼ç›¸è¦å…‘ ä¸ç„¶å¾ˆæƒ¨</p>
<p>https://www.youtube.com/watch?v=j17vjUbBuaE</p>
<h3 id="è§†é¢‘æ•™ç¨‹-2">è§†é¢‘æ•™ç¨‹</h3>
<p>bç«™ <a
href="https://www.bilibili.com/video/BV1VD4y1w7KK/?spm_id_from=333.788.recommend_more_video.2&amp;vd_source=89cd1bd958a3eea212de763dc113559e">yixinchess</a></p>
<h3 id="ä½ ä¼šé¢å¯¹çš„é™·é˜±">ä½ ä¼šé¢å¯¹çš„é™·é˜±</h3>
<h3 id="å…‘é©¬å˜ä¾‹">å…‘é©¬å˜ä¾‹</h3>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Caro-Kann%20Defencekinights%20exchangee.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'> å…‘é©¬å˜ä¾‹</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. Nc3 d5 3. d4 dxe4 4. Nxe4 Nf6 5. Nxf6+ exf6 6. Bc4 Be7 7. Qh5 O-O 8. Ne2 g6 9. Qf3 Nd7 10. Bh6 Re8 11. Bxf7+ Kxf7 12. Qa3</span><br></pre></td></tr></table></figure>
<h3 id="è§†é¢‘æ•™ç¨‹-3">è§†é¢‘æ•™ç¨‹</h3>
<ol type="1">
<li><a
href="https://www.bilibili.com/video/BV1Eu411m7Wr/?spm_id_from=333.788.recommend_more_video.-1&amp;vd_source=89cd1bd958a3eea212de763dc113559e">Bç«™
up yixinchess</a></li>
</ol>
<h4 id="å¸•è¯ºå¤«æ”»å‡»">å¸•è¯ºå¤«æ”»å‡»</h4>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Accelerated%20Panov%20Attack.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Accelerated Panov Attack</font></b>
</center>
<p></font></p>
<blockquote>
<p>Accelerated Panov Attack</p>
<ol start="2" type="1">
<li>c4</li>
</ol>
<p>Instead of playing d4, white can respond with the Accelerated Panov
Attack, an aggressive counter against the Caro-Kann. The Accelerated
Panov Attack (<strong>1. e4 1...c6 2. c4</strong>), named after the
soviet grandmaster Vasily Panov is the second most common move against
the Caro-Kann, and is an aggressive response against the Caro-Kann. This
is because if black were to play 2...d5, white can follow up with exd5
(white can also choose to play 3. cxd5) taking the pawn, black 3...cxd5
taking the pawn, white 4. cxd5 taking the pawn and black 4...Qxd5 taking
with the queen. However, this is a trade of pawns as white and black has
won the same material. White aims weaken the D-file and to take the d5
pawn, and to also wreck havoc by aiming to take the c-pawn. The idea of
the Accelerated Panov Attack is to counter the Caro-Kann and to weaken
the D-file and C-file and to take the d5 pawn, and to open up the
D-file, which weakens blackâ€™s pawn structure. The Accelerated Panov
Attack controls the d5 square, and allows the knight to develop behind
the c-pawn.</p>
<p>Black has some...</p>
<p><a
href="https://en.wikibooks.org/wiki/Chess_Opening_Theory/1._e4/1...c6/2._c4">Read
more on WikiBooks</a></p>
</blockquote>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. c4 d5 3. exd5 cxd5 4. d4 Nf6 5. Nc3 Nc6 6. Bg5 Qb6 7. cxd5 Qxb2 8. Rc1 Nb4 9. Na4 Qxa2 10. Bc4 Qa3 11. Rc3 Nd3+ 12. Qxd3 Qd6</span><br></pre></td></tr></table></figure>
<p>ç¬¬å…­æ­¥é™¤äº†èµ°ç›¸è¿˜æœ‰èµ°é©¬</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nf6 5. Qd3 e5 6. dxe5 Qa5+ 7. Bd2 Qxe5 8. O-O-O Nxe4 9. Qd8+ Kxd8 10. Bg5+</span><br></pre></td></tr></table></figure>
<h3 id="è§†é¢‘æ•™ç¨‹-4">è§†é¢‘æ•™ç¨‹</h3>
<p><a
href="https://www.bilibili.com/video/BV12L411c7jM/?spm_id_from=333.788.recommend_more_video.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">Bç«™
up yixinchess</a></p>
<h3 id="åŒé©¬æ”»å‡»">åŒé©¬æ”»å‡»</h3>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Caro-Kann%20Defence%20two%20knights.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'> åŒé©¬æ”»å‡»</font></b>
</center>
<p></font></p>
<p>æ¥è‡ªé˜¿åˆ—äº¨ éå¸¸ç°ä»£çš„èµ°æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. Nc3 d5 3. d4 dxe4 4. Nxe4 Nf6 5. Nxf6+ exf6 6. Bc4 Be7 7. Qh5 O-O 8. Ne2 g6 9. Qf3 Nd7 10. Bh6 Re8 11. Bxf7+ Kxf7 12. Qb3#</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. Nc3 d5 3. Nf3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Ne5 Bh7 8. Qh5 g6 9. Bc4 e6 10. Qf3 f5 11. Bxe6</span><br></pre></td></tr></table></figure>
<p>ç›¸ä¸åº”è¯¥é€€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. Nc3 d5 3. Nf3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Ne5 Nd7 8. Nxg6 fxg6 9. d4 e5 10. Qg4 Qf6 11. Be3 Ne7 12. Ne4 Qf7 13. Nd6+ Kd8 14. Nxf7+</span><br></pre></td></tr></table></figure>
<p>ä¸åº”è¯¥èµ°é©¬e7</p>
<h3 id="è§†é¢‘æ•™ç¨‹-5">è§†é¢‘æ•™ç¨‹</h3>
<p><a
href="https://www.bilibili.com/video/BV1qr4y1a7Ue/?spm_id_from=333.788.recommend_more_video.1&amp;vd_source=89cd1bd958a3eea212de763dc113559e">Bç«™
up yixinchess</a></p>
<h2 id="æ–¯å ªçš„çº³ç»´äºšé˜²å¾¡-scandinavian-defence">æ–¯å ªçš„çº³ç»´äºšé˜²å¾¡
Scandinavian Defence</h2>
<blockquote>
<p>1... d5 - Scandinavian Defence</p>
<p>The Scandinavian Defense (or Centre Counter Defense) is one of the
oldest chess openings, dating back the 16th century. This opening tries
to break White's centre and stop white from taking control. The
Scandinavian defense is Black's 9th most popular response to 1.e4 and
grandmasters such as Magnus Carlsen occasionally play this move in
tournaments. White has a few possible replies:</p>
<p>This is White's strongest reply, and exposes chief drawback of the
Scandinavian Defense: in order to recover the pawn (while not mandatory)
Black must now bring out his queen providing White with a target to
attack. This was considered enough of a problem to put the opening out
of business for much of the mid-20th century. However, modern players
are a little more comfortable breaking the rules, and the Scandinavian
has enjoyed some modern popularity.</p>
<p>White can...</p>
<p><a
href="https://en.wikibooks.org/wiki/Chess_Opening_Theory/1._e4/1...d5">Read
more on WikiBooks</a></p>
</blockquote>
<h3 id="section"></h3>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Scandinavian_Defence_Modern_Variation.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Scandinavian Defence Modern Variation</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 d5 2. exd5 Nf6 3. d4 Qxd5 4. c4 Qe4+ 5. Ne2 e5 6. Nc3 Bb4 7. Qa4+ Nc6 8. d5 Nxd5 9. cxd5 Bxc3+</span><br></pre></td></tr></table></figure>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Scandinavian_%20Defence.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Scandinavian Defence</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 d5 2. exd5 Nf6 3. d4 Qxd5 4. c4 Qe4+ 5. Ne2 e5 6. Nc3 Bb4 7. Qa4+ Nc6 8. f3 Bxc3+ 9. bxc3 Qh4+ 10. g3 Qh5 11. d5 Qxf3 12. Rg1 Ne4 13. dxc6 Qf2+ 14. Kd1 Qxe2+ 15. Bxe2 Nxc3+ 16. Ke1 Nxa4</span><br></pre></td></tr></table></figure>
<h3 id="è§†é¢‘æ•™ç¨‹-6">è§†é¢‘æ•™ç¨‹</h3>
<p><a
href="https://www.bilibili.com/video/BV16a411y7RT/?spm_id_from=333.788.recommend_more_video.3&amp;vd_source=89cd1bd958a3eea212de763dc113559e">yixinchess</a></p>
<h2 id="ä¿„ç½—æ–¯é˜²å¾¡-stafford-gambit">ä¿„ç½—æ–¯é˜²å¾¡/ Stafford Gambit</h2>
<blockquote>
<p>Petrov's Defence</p>
<p>2...Nf6</p>
<p>The Petrov's Defence (or Russian game) is a solid response to White's
2. Nf3. While this opening is often drawish and boring, it is still
popular, and quite often played in chess tournaments. White has a couple
of good responses here:</p>
<p>3.Nxe5 is the main line (or <strong>Classical Variation</strong>). If
...Nc6 is played afterwards, it will most likely be the <strong>Stafford
Gambit</strong>. In this line, it's not advised for Black to take
White's pawn before having chased the knight. There is a famous trap :
3...Nxe4? 4. Qe2 Nd6?? (or 4...Nf6??) 5. Nc6+ and Black's queen is lost.
There are a few lines that are quite dangerous in the Classical
Variation, especially the Cochrane Gambit, which goes 3...d6 4. Nxf7,
sacrificing a knight for two pawns and an exposed king. Rarely do games
in the Cochrane Gambit end in a draw, especially due to the attacking
opportunities and aggression offered by the position as White tries to
gain a pawn back (3 pawns for a knight is material equality), while
Black tries to maintain its advantage of a pawn....</p>
<p><a
href="https://en.wikibooks.org/wiki/Chess_Opening_Theory/1._e4/1...e5/2._Nf3/2...Nf6">Read
more on WikiBooks</a></p>
</blockquote>
<blockquote>
<p>3... Nc6</p>
<p>Black invites White to trade knights. White, being up one pawn in
material, is compelled to accept the trade.<br />
4.Nxc6 is the main line.</p>
<p><a
href="https://en.wikibooks.org/wiki/Chess_Opening_Theory/1._e4/1...e5/2._Nf3/2...Nf6/3._Nxe5/3...Nc6">Read
more on WikiBooks</a></p>
</blockquote>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Stafford_Gambit.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Stafford Gambit</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 Nf6 3. Nxe5 Nc6 4. Nxc6 dxc6 5. Nc3 Bc5 6. Bc4 Ng4 7. O-O Qh4 8. h3 Nxf2 9. Qe1 Nxh3+ 10. Kh1 Nf2+ 11. Kg1 Qh1#</span><br></pre></td></tr></table></figure>
<p>ç¬¬5æ­¥çš„æ—¶å€™ç™½æ£‹åº”è¯¥å‡ºh 3</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 Nf6 3. Nc3 Bc5 4. Nxe5 Nc6 5. Nxc6 dxc6 6. Be2 Qd4 7. O-O h5 8. h3 Ng4 9. hxg4 hxg4 10. g3 Qe5 11. Kg2 Bxf2 12. Rxf2 Qh5 13. Rf5</span><br></pre></td></tr></table></figure>
<h3 id="è§†é¢‘æ•™ç¨‹-7">è§†é¢‘æ•™ç¨‹</h3>
<p><a
href="https://www.bilibili.com/video/BV1Zu411V7oc/?spm_id_from=333.880.my_history.page.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">bç«™è§†é¢‘</a></p>
<h2 id="å¤å°åº¦oræ ¼æ—è²å¾·-é˜²å¾¡">å¤å°åº¦oræ ¼æ—è²å¾· é˜²å¾¡</h2>
<p>ç‹ç¿¼å°åº¦é˜²å¾¡æ˜¯ä¸€æ”¯åä¸º
hypermodernismï¼ˆç›´è¯‘ã€Œè¶…ç°ä»£ä¸»ä¹‰ã€ï¼‰çš„æµæ´¾çš„äº§ç‰©ã€‚å…¶ä¸»è¦æ€æƒ³ä¸ºï¼šä¸­å¿ƒæ§åˆ¶æƒå¯ä»¥è—‰ç”±<em>éç›´æ¥æ§åˆ¶</em>å é¢†ã€‚é€šè¿‡å‰æœŸä¸»åŠ¨â€œé‚€è¯·â€å¯¹æ‰‹ç”¨å­åŠ›æ§åˆ¶ä¸­å¿ƒï¼Œå¯ä»¥ä½¿å…¶æ£‹å½¢å›ºåŒ–ï¼Œè¿›è€Œæš´éœ²å‡ºå¯ä»¥æ”»å‡»çš„å¼±ç‚¹ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œä¸­å¿ƒæ°æ°æˆä¸ºäº†é˜»éš”ç‹ã€åç¿¼çš„å£å’ï¼Œä½¿å¾—ç™½æ–¹çš„å­åŠ›æ— æ³•åœ¨ç‹ç¿¼çš„è¿›æ”»ä¸­æœ‰æ•ˆè°ƒåº¦ï¼Œè¿›è€Œå–å¾—å±€éƒ¨çš„å·¨å¤§æˆ˜ç•¥ä¼˜åŠ¿ã€‚</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/King_Indian_Defense.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>King's'Indian Defense</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Bd3 Bg4 7. h3 Bxf3 8. Qxf3 Nc6 9. Be3 Nd7 10. Ne2 Nde5 11. dxe5 Nxe5 12. Qg3 Nxd3+ 13. Kd2 Nxb2</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Bf4 Nh5 5. Nxd5 (5. Be5 f6 6. Bg3 Nxg3 7. hxg3 c6 8. e3 Bg7 9. Bd3 O-O 10. Rxh7 Kxh7 11. Qh5+ Kg8 12. Bxg6 Re8 13. Bxe8) 5... Nxf4 6. Nxf4 e5 7. dxe5 (7. Nd3 Qxd4) 7... Bb4+ 8. Qd2 Qxd2#</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€æ­¥æ­å»ºå ¡å’ï¼ˆå¯¹æ–¹å‡ºäº†eå…µè®°å¾—é¡¶då…µï¼‰</p>
<p>ç¬¬äºŒæ­¥ï¼ˆå¯ä»¥ç•¥å»ï¼‰ å‡ºé©¬b6æ¯”è¾ƒæ¿€çƒˆï¼ˆä¼šè¢«å…µæ”»å‡»ï¼‰ å¯ä»¥è€ƒè™‘é©¬åˆ°e7
ä½†ä¹‹å‰è¦å¤„ç†å¥½ç›¸ ï¼ˆå¯ä»¥åˆ°g4 å¦‚æœå»ä¸äº†å¯ä»¥å…µb6ç„¶åç›¸b7ï¼‰</p>
<p>ç¬¬ä¸‰æ­¥ é¡¶eå…µæ”»å‡» å¦‚æœå¯¹æ–¹å’Œä½ ä¸€æ ·æ˜¯çŸ­æ˜“ä½å¯ä»¥æŠŠç‹ç¿¼çš„å…µéƒ½é¡¶èµ·æ¥æ”»å‡»
å¦‚æœå¯¹æ–¹é•¿æ˜“ä½ å»ºè®®å°é”ç‹åŸ</p>
<p>è‡ªå·±çæ‘†çš„è°±</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 d6 2. d4 Nf6 3. Nc3 (3. e5 dxe5 4. dxe5 Qxd1+ 5. Kxd1 Ne4) 3... g6 4. Nf3 Bg7 5. h3 O-O 6. Be2 b6 7. O-O Bb7 (7... e5)</span><br></pre></td></tr></table></figure>
<p>ä¸­æ‘å…‰çš„å±€è¶…çº§å¤æ‚orz</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O (7. dxe5 dxe5 8. Qxd8 Rxd8 9. Nxe5 Nxe4 10. Nxe4 Bxe5) 7... Nc6 8. d5 Ne7 9. Ne1 Nd7 10. f3 f5 11. Be3 f4 12. Bf2 g5 13. Nd3 Ng6 14. c5 Nf6 15. Rc1 Rf7 16. Kh1 h5 17. cxd6 cxd6 18. Nb5 a6 19. Na3 b5 20. Rc6 g4 21. Qc2 Qf8 22. Rc1 Bd7 23. Rc7 Bh6 24. Be1 h4 25. fxg4 f3 26. gxf3 Nxe4 27. Rd1 (27. fxe4 Rf1+ 28. Bxf1 (28. Kg2 Be3 29. Bxf1 h3+ 30. Kxh3 Qf3+ 31. Bg3 Bxg4#) 28... Qxf1#) 27... Rxf3 28. Bxf3 (28. Rxd7 Rf1+ 29. Kg2 Be3 30. Bg3 hxg3 31. Rxf1 Nh4+ 32. Kh3 Qh6 33. g5 Nxg5+ 34. Kg4 Nhf3 35. Nf2 Qh4+ 36. Kf5 Rf8+ 37. Kg6 Rf6+ 38. Kxf6 Ne4+ 39. Kg6 Qg5#) 28... Qxf3+ 29. Qg2 Bxg4 30. h3 Qxg2+ 31. Kxg2 Bxd1</span><br></pre></td></tr></table></figure>
<h3 id="è§†é¢‘æ•™ç¨‹-8">è§†é¢‘æ•™ç¨‹</h3>
<p><a
href="https://www.bilibili.com/video/BV1us4y1r7vx/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">Ali_Chess</a></p>
<p>https://www.youtube.com/watch?v=5XyayUs6J1M</p>
<p>https://www.bilibili.com/video/BV1T84y1U75C/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e</p>
<h2 id="nakhmanson-gambitå†·é—¨å¼€å±€">Nakhmanson Gambit(å†·é—¨å¼€å±€)</h2>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 Nc6 3. d4 exd4 4. Bc4 Nf6 5. O-O Nxe4 6. Nc3 dxc3 7. Bxf7+ Kxf7 8. Qd5+ *</span><br></pre></td></tr></table></figure>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Nakhmanson_Gambit.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'> Nakhmanson Gambit</font></b>
</center>
<p></font></p>
<h3 id="è§†é¢‘æ•™ç¨‹-9">è§†é¢‘æ•™ç¨‹</h3>
<p><a
href="https://www.bilibili.com/video/BV1V54y1D72N/?spm_id_from=333.999.top_right_bar_window_custom_collection.content.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">bç«™è§†é¢‘</a></p>
<h2 id="è¥¿è¥¿é‡Œé˜²å¾¡-sicilian-defence">è¥¿è¥¿é‡Œé˜²å¾¡ Sicilian Defence</h2>
<p>è¯¥å¼€å±€æ³•æ˜¯ç”±æ„å¤§åˆ©æ£‹è‰ºç†è®ºå®¶å¡é‡Œæ‹‰(1573-16Sicilian
Defence47)é¦–åˆ›ï¼Œç”±è‹±å›½æ£‹æ‰‹<a
href="https://www.zhihu.com/search?q=è¨æ‹‰ç‰¹&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A%223130932709%22%7D">è¨æ‹‰ç‰¹</a>(1772-1819)å‘½åã€‚19ä¸–çºªæ—¶è¢«è®¤ä¸ºä¸åˆ©äºé»‘æ–¹ï¼Œäºæ˜¯åº”ç”¨è€…å°‘ï¼Œ20ä¸–çºªå‡ºç°å¤§é‡æ–°å˜ç€ï¼Œæ¸æ¸æˆä¸ºåŠå¼€æ”¾å‹å±€é¢ä¸­æœ€æµè¡Œçš„å¼€å±€ä½“ç³»ã€‚é»‘æ–¹åœ¨ç¬¬ä¸€æ­¥å°±é˜»ç¢ç™½æ–¹å½¢æˆæ§åˆ¶ä¸­å¿ƒæ–¹æ¡ˆï¼Œå¹¶å‡†å¤‡æ”»å‡»ç™½æ–¹åç¿¼ï¼Œä»¥å¯¹æŠ—ç™½æ–¹å¯èƒ½åœ¨ä¸­å¿ƒæˆ–æ˜¯ç‹ç¿¼å‘èµ·çš„è¿›æ”»ã€‚
å‡ ä¹æ‰€æœ‰å˜åŒ–æå®¹æ˜“å½¢æˆå°–é”å¤æ‚çš„å±€é¢ï¼Œä¹Ÿå°±æ˜¯å®¹æ˜“å½¢æˆå„æ”»ä¸€æ–¹ã€‚
æ€»ä¹‹è¿™ç§å¸ƒå±€é»‘æ–¹è¿˜æ˜¯éå¸¸æ»¡æ„çš„ï¼Œæœ‰åˆ©äºé»‘æ–¹ä¸‹å‡ºæ”»å‡»å‹é£æ ¼ã€‚</p>
<p>ä½œè€…ï¼šæ•£è½äºäº‘æµ·<br />
é“¾æ¥ï¼šhttps://www.zhihu.com/question/429435723/answer/3130932709<br />
æ¥æºï¼šçŸ¥ä¹<br />
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<p>è¥¿è¥¿é‡Œæ˜¯ç”¨cå…µæ¢då…µ å¡ç½—åº·æ˜¯ç”¨bå…µæ¢då…µ</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sveshnikov%20Sicilian.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Sveshnikov Sicilian</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e5 6. Ndb5 d6 7. Bg5 a6 8. Na3 b5 9. Nd5 Be7 10. Nxe7 Qxe7</span><br></pre></td></tr></table></figure>
ä½ ä¼šå‘ç°è¥¿è¥¿é‡Œæ£‹å¾ˆæ™šæ‰è¿‡5çº¿ å› ä¸ºè¥¿è¥¿é‡Œé˜²å¾¡æ˜¯å…ˆå®ˆå†æ”»<br />

<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian.png" style="height: 300px; width: auto;"/>
</center>
<center>
<p><b></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Qb6 6. Nb3 e6 7. a3 Be7 8. g3 O-O 9. Bg2 a6 10. O-O d6 11. Be3 Qc7 12. f4 Rd8</span><br></pre></td></tr></table></figure>
<p>B33é‡Œé¢çš„åb6çš„å˜ç§</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Qb6 (5... e6) 6. Ndb5 (6. Nb3</span><br><span class="line">e6 7. a3 Be7 8. g3 O-O 9. Bg2 a6 10. O-O Qc7 (10... Rd8) (10... d6 11. Be3 Qc7</span><br><span class="line">12. f4 Rd8) 11. Be3)</span><br></pre></td></tr></table></figure>
<h2 id="ä¿å°”é€Šä½“ç³»-b40-49">ä¿å°”é€Šä½“ç³» B40-49</h2>
<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian_e6.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">2</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian_e6_2.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">5</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian_e6_3.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">8</font><br />

</center>
</td>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian_e6_4.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">13</font><br />

</center>
</td>
</tr>
</table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 a6 5. Be2 Nf6 6. Nc3 Bb4 7. Qd3 d5 8. e5 Ne4 9. O-O Bxc3 10. bxc3 Nd7 11. c4 O-O (11... Nxe5) 12. Qe3 Re8 13. Ba3 Qa5</span><br></pre></td></tr></table></figure>
<p>ç¬¬2 æ­¥ä¸å‡º Nc6 e6ä¸ºäº†d5å…µä¿æŠ¤ æ‰“å¼€ç›¸è·¯ ä½†æ˜¯Nf6ä¸æ€•e5å—</p>
<p>upæ¨èçš„ç®€å•ç‰ˆæœ¬</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian_e6_5.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>ç®€å•ç‰ˆæœ¬</font></b>
</center>
<p></font></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 a6 5. Be2 Nf6 6. Nc3 Be7 7. O-O Nc6 8. Be3 b5 9. f4</span><br></pre></td></tr></table></figure>
<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian_e6_5.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">ç®€å•ç‰ˆæœ¬</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian_e6_6.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">å¦ä¸€ç§å˜åŒ–</font><br />

</center>
</td>
</tr>
</table>
<p>å¦ä¸€ç§å˜åŒ–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 Nc6  5. Nc3 Qc7 6. f4 a6 7. Nxc6 Qxc6 8. Bd3 b5 9. Qe2 Bb7 10. Bd2 Bc5 11. a3</span><br></pre></td></tr></table></figure>
<h2 id="çº³é“å°”å¤«ä½“ç³»-b90-99">çº³é“å°”å¤«ä½“ç³» B90-99</h2>
<p>è™½ç„¶è¯´æ˜¯ä½“ç³»ä½†æ˜¯upæ²¡è¯´å…·ä½“è¿ç”¨orz</p>
<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Najdorf.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">Najdorf</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Najdorf2.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">Najdorf</font><br />

</center>
</td>
</tr>
</table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. g3 (6. Be2 Nbd7 7. Be3 Nc5 8. f3 e6 9. a4 b6 10. O-O Bb7 11. Qd2 Rc8 12. Rfd1 Be7 13. b4 Ncd7 14. b5) 6... b5 (6... e5 7. Nde2 Be6 8. Bg2 Be7 9. O-O Nbd7 10. a4 Rc8 11. h3 Nb6 12. Bg5 d5 (12... h6 13. Bxf6 Bxf6 14. b3 O-O 15. a5 Nd7) 13. exd5 Nfxd5 14. Nxd5 Nxd5) 7. Bg2 Bb7 8. O-O e6 9. Re1 Qc7 10. a4 b4 11. Na2 a5 12. c3</span><br></pre></td></tr></table></figure>
<h2 id="èˆæ–‡å®æ ¹scheveningen-variation-b80-85">èˆæ–‡å®æ ¹Scheveningen
Variation B80-85</h2>
<p>ç»“åˆäº† çº³é“å°”å¤«å’Œä¿å°”é€Š</p>
<blockquote>
<p>Scheveningen Variation</p>
<p><strong>5... e6</strong>, building a so-called "small center", is the
signature move of the Scheveningen Variation of the Sicilian Defence.
<strong>5... e6</strong> strengthens Black's control of the important
<strong>d5</strong> square and opens <strong>e7</strong> for the
development of his dark-squared bishop. If Black is able to safely play
<strong>... d5</strong> later on, he will have a good position.</p>
<p>In contrast to the Najdorf Variation, <strong>5... a6</strong>, the
Scheveningen commits Black earlier to a certain pawn structure in the
center and delays queenside operations, but does more to promote Black's
early development and castling. Both systems are considered very solid
choices for Black, however <strong>5... a6</strong> has been played by
even the best Scheveningen specialists (including Garry Kasparov) to
avoid the dangerous <em>Keres Attack</em>, <strong>5... e6 6.
g4!</strong> (Although by no means winning for White, statistics sharply
favour the white pieces.)</p>
<p>.</p>
</blockquote>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Scheveningen%20Variation.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Scheveningen Variation</font></b>
</center>
<p></font></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. Be3 (6. f4 Nc6 7. Be3 Be7 8. Bd3 O-O 9. O-O Nxd4 10. Bxd4 e5 11. fxe5 dxe5 12. Bxe5 Ng4 13. Bf4 Bc5+ 14. Kh1 Nf2+ 15. Rxf2 Bxf2) (6. Be2 a6 7. f4 (7. O-O Qc7 8. f4 Nc6 9. Kh1 Be7 10. f5 O-O 11. fxe6 fxe6 12. Bc4 Nxd4 13. Qxd4 Kh8 14. Bg5 b5 15. Bb3 Bb7 16. Bxe6 b4 17. Qxb4 d5 18. Qb3 dxe4) 7... Qc7 8. Be3 Be7 9. g4 b5 10. g5 Nfd7 11. a3 Nc6 12. Nxc6 Qxc6 13. h4 Bb7 14. Qd4 O-O 15. O-O-O Nc5 16. Bf3 a5) 6... a6 7. Bd3 b5 8. O-O Bb7 9. Qe1 Nbd7 10. f3 Be7 11. a4 b4 12. Nce2</span><br></pre></td></tr></table></figure>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Scheveningen%20Variation,%20English%20Attack.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Scheveningen Variation, English Attack</font></b>
</center>
<p></font></p>
<blockquote>
<p>Scheveningen Variation, English Attack</p>
<p>With 6. Be3, white begins a standard English attack setup. White will
play f3, g4, Qd2 and O-O-O in some order, setting up a kingside pawn
storm targeted towards black's king. In response, black will play a6 and
b5 and set up a pawn attack on the queenside against white's king.</p>
<p>Note that the standard 6...a6 from black transposes into a hybrid
Najdorf/Scheveningen, and allows white to begin the Perenyi Attack with
7.g4 if desired.</p>
<p>.</p>
</blockquote>
<p>###è§†é¢‘æ•™ç¨‹</p>
<p><a
href="https://www.bilibili.com/video/BV1nk4y1r7QQ/?spm_id_from=333.788.recommend_more_video.-1&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å°å°å°æ‚é©¬è§†é¢‘æ•™å­¦</a></p>
<h2 id="é¾™å¼å˜ä¾‹1-b70-79">é¾™å¼å˜ä¾‹ï¼ˆ1ï¼‰ B70-79</h2>
<p>åå­—å¥½å¸… åå‘äºæ”»å‡»çš„å˜ä¾‹</p>
<blockquote>
<p>5...g6 introduces the famous "Dragon" variation of the Sicilian
defence. While the general themes are easy to understand, the Dragon is
a very sharp line with immense amounts of established theory. Against
players familiar with the theory, even one slip can be quickly
fatal.</p>
<p>With 5...g6 Black is preparing to fianchetto his dark-squared bishop.
On g7 this bishop will exert considerable pressure on the center and
facilitate a queenside attack. However, 5...g6 weakens Black's kingside
pawn structure and encourages White to pursue a kingside attack of his
own. In most lines, White will castle queenside and attack on the
kingside with his pawns, hoping to exploit Black's structural weakness.
Because both players are attacking on opposite wings, there is no time
to be lost for either side. Subtle maneuvering will tend to take a back
seat to sharp tactics in the Dragon.</p>
</blockquote>
<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian%20Defence,%20Dragon%20Variation.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA"></font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian%20Defence,%20Dragon%20Variation1.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA"></font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian%20Defence,%20Dragon%20Variation3.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA"></font><br />

</center>
</td>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian%20Defence,%20Dragon%20Variation4.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA"></font><br />

</center>
</td>
</tr>
</table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Na5 (9... Nxd4 10. Bxd4 Be6 11. Bb3 Qa5 12. O-O-O b5 13. Kb1 b4 14. Nd5 Bxd5 15. exd5 Qb5 16. Rhe1 a5 17. Qe2 Qxe2 18. Rxe2 a4 19. Bc4 Rfc8 20. b3 Kf8) 10. Bb3 Nxb3 11. axb3 a6 12. h4 d5 13. e5 Nh5 14. g4 Ng3 15. Rg1 Bxe5 16. O-O-O</span><br></pre></td></tr></table></figure>
<p>###è§†é¢‘æ•™ç¨‹</p>
<p><a
href="https://www.bilibili.com/video/BV18v411q7jZ/?spm_id_from=333.999.top_right_bar_window_custom_collection.content.click">å°å°å°æ‚é©¬è§†é¢‘æ•™å­¦</a></p>
<h2 id="é¾™å¼å˜ä¾‹2ä¹‹å—æ–¯æ‹‰å¤«è¿›æ”»">é¾™å¼å˜ä¾‹ï¼ˆ2ï¼‰ä¹‹å—æ–¯æ‹‰å¤«è¿›æ”»</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O (7... Nc6 8. Qd2 Bd7 9. O-O-O Qa5 10. Kb1 Rc8 11. g4 h6 12. h4 a6 13. Be2 Ne5 14. g5 hxg5 15. hxg5 Rxh1 16. gxf6 Rxd1+ 17. Nxd1 Qxd2 18. fxg7) 8. Qd2 Nc6 9. O-O-O Qa5 10. Kb1 Bd7</span><br></pre></td></tr></table></figure>
<blockquote>
<ol start="7" type="1">
<li>f3 is known as the Yugoslav attack. The f3-pawn defends White's only
center pawn at e4, freeing up her c3-knight. It also sets up a possible
rook lift to the 2nd rank on the f-file following a kingside castling.
Though 7. f3 blocks the diagonal kingside mobility of White's queen, the
queen can occupy a powerful central seat with 8. Qd2, where she can
participate in either a queenside or kingside attack. For more on this,
see Boleslavsky-Lissitzin (Moscow, 1956).</li>
</ol>
</blockquote>
<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian%20Defense,%20Dragon%20Variation,%20Yugoslav%20Attack.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA"></font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian%20Defense,%20Dragon%20Variation,%20Yugoslav%20Attack2.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA"></font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Sicilian%20Defense,%20Dragon%20Variation,%20Yugoslav%20Attack1.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA"></font><br />

</center>
</td>
</td>
</tr>
</table>
<p>é€‰7. Nc6 å¯ä»¥åœ¨ç¬¬15èµ° Ng8</p>
<p>###è§†é¢‘æ•™ç¨‹</p>
<p><a
href="https://www.bilibili.com/video/BV11a4y1E7vJ/?spm_id_from=333.337.search-card.all.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å°å°å°æ‚é©¬è§†é¢‘æ•™å­¦</a></p>
<p>æ–¯å¸•æ–¯åŸºVså½¼å¾—ç½—ç›¸</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 Nbd7 7. Bc4 Qa5 8. Qd2 h6 9. Bxf6 Nxf6 10. O-O-O e6 11. Rhe1 Be7 12. f4 O-O 13. Bb3 Re8 14. Kb1 Bf8 15. g4 Nxg4 16. Qg2 Nf6 17. Rg1 Bd7 18. f5 Kh8 19. Rdf1 Qd8 20. fxe6 fxe6 21. e5 dxe5 22. Ne4 Nh5 23. Qg6 exd4 24. Ng5 hxg5 25. Qxh5+ Kg8 26. Qf7+ Kh8 27. Rf3 g4 28. Rxg4</span><br></pre></td></tr></table></figure>
<h2 id="æ„å¤§åˆ©å¼€å±€">æ„å¤§åˆ©å¼€å±€</h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Italian%20Game.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>åªæœ‰åƒå…µæ˜¯æ¯”è¾ƒæ­£ç¡®çš„èµ°æ³•</font></b>
</center>
<p></font></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 Nc6 3. Bc4 Nf6 4. d4 exd4 (4... Nxd4 5. Bxf7+ Kxf7 6. Nxe5+ Ke8 7. Qxd4) (4... Nxe4 5. dxe5 Bc5 6. Qd5) 5. O-O Nxe4 (5... Bc5 6. e5 d5 (6... Ng4 7. Bf4 O-O 8. h3 Nh6 9. Bxh6 gxh6) (6... Ne4 7. Re1 d5 8. exd6 Bf5 (8... f5 9. dxc7 Qxc7 10. Nbd2 Be7 11. Nxe4 fxe4 12. Rxe4 Bf5 13. Ng5 Bxe4 14. Bf7+ Kd7 15. Qg4+ Kd6 16. Nxe4+ Ke5 17. Qe6#) 9. dxc7 Qxc7 10. Nbd2) 7. exf6 dxc4 8. Re1+ Be6 9. Ng5 Qxf6 (9... gxf6 10. Nxe6 fxe6 11. Qh5+ Kf8 12. Qxc5+) (9... O-O 10. fxg7 Re8 (10... Kxg7 11. Rxe6 fxe6 12. Nxe6+) 11. Qh5 Bf5 12. Qxf7#) 10. Nxe6 fxe6 11. Qh5+ Kf8 12. Qxc5+) 6. Re1 d5 7. Bxd5 Qxd5 8. Nc3 Qh5 9. Nxe4 Be6 10. Bg5 h6 (10... f6 11. Nxf6+ gxf6 12. Rxe6+ Kd7 13. Rxc6 Kxc6 (13... bxc6 14. Ne5+ Kd6 15. Qxh5) 14. Nxd4+) 11. Bf6 Be7 (11... Qa5 12. Nxd4 gxf6 13. Nxf6+ Ke7 14. b4 Nxb4 15. Nxe6 Kxf6 16. Qd4+ Kg6 17. Qxh8 Nxc2 18. Nf4+ Kf5 19. Qh7+ Kxf4 20. Re4+ Kg5 21. Qxf7 Qe1+ 22. Raxe1 h5 23. h4+ Kh6 24. Re6#) 12. Bxe7 Nxe7 13. Nxd4 Qxd1 14. Raxd1 Bd7</span><br></pre></td></tr></table></figure>
<p>Ali_Chess<a
href="https://www.bilibili.com/video/BV1fo4y1a7Mw/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">è§†é¢‘æ•™å­¦</a>
æ„Ÿè§‰è¿™ä¸ªup ç™½æ£‹å¥½å¼º</p>
<h2 id="åº”å¯¹å¡ç½—åº·">åº”å¯¹å¡ç½—åº·</h2>
<p><a
href="https://www.bilibili.com/video/BV11D4y1G7n1/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">åº”å¯¹å¡ç½—åº·è§†é¢‘</a></p>
<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Caro-Kann%20Defencekinights%20exchangee.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">å…‘é©¬å˜ä¾‹è°±åœ¨ä¸Šé¢</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Caro-Kann%20Defence%20two%20knights.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">åŒé©¬æ”»å‡»</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/tockf3.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">3.f3</font><br />

</center>
</td>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Accelerated%20Panov%20Attack.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">2.c4å¸•è¯ºå¤«æ”»å‡» è¿˜æœ‰éƒ¨åˆ†è°±åœ¨ä¸Šé¢</font><br />

</center>
</td>
</tr>
</table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c6 2. Nf3 (2. d4 d5 3. Nc3 (3. f3 dxe4 4. fxe4 e5 5. Nf3 exd4 6. Bc4 Bb4+ 7. c3 dxc3 8. Bxf7+ Kxf7 9. Qxd8 cxb2+ 10. Ke2 bxa1=Q 11. Ng5+ Kg6 12. Qe8+ Kh6 13. Ne6+ Bd2 14. Bxd2+) 3... dxe4 4. Nxe4 Nf6 (4... Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 e6 8. Ne5 Bh7 9. Bd3 Qxd4 10. Nxf7 Bxd3 11. Nxh8 Qe5+ 12. Ne2 Bf5 13. Qd8+ Kxd8 14. Nf7+ Ke7 15. Nxe5) (4... Nd7 5. Bc4 Ndf6 6. Ng5) 5. Ng3 h5 6. Bg5 h4 7. Bxf6 hxg3 8. Be5 Rxh2 9. Rxh2 Qa5+ 10. Qd2 (10. c3 Qxe5+ 11. dxe5 gxh2) 10... gxf2+ 11. Ke2 Qxd2+ 12. Kxd2 fxg1=Q) (2. c4 d5 3. cxd5 cxd5 4. exd5 Nf6 5. Nc3 Nbd7 6. Nf3 a6 7. d4 Nb6 8. Ne5 Nbxd5 9. Qa4+ Bd7 10. Nxd7 Nxd7 (10... Qxd7 11. Bb5 axb5 12. Qxa8+ Qd8 13. Qxb7) 11. Nxd5) 2... d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Ne5 Bh7 8. Qh5 g6 9. Bc4 e6 10. Qe2 Bg7 11. Nxf7 Kxf7 12. Qxe6+ Kf8 13. Qf7#</span><br></pre></td></tr></table></figure>
<ol start="6" type="1">
<li>Bg5æ˜¯ä¸€æ­¥é”™æ‹›ä½œä¸ºæç¤º</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.e4 c6  2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nf6 5. Ng3 h5 6. Bg5 h4 7. Bxf6 hxg3 8. Be5 Rxh2 9. Rxh2 Qa5+ 10. Qd2 (10. c3 Qxe5+ 11. dxe5 gxh2)</span><br></pre></td></tr></table></figure>
<h2 id="åº”å¯¹è¥¿è¥¿é‡Œ">åº”å¯¹è¥¿è¥¿é‡Œ</h2>
<p><a
href="https://www.bilibili.com/video/BV1Zg4y1p7QS/?spm_id_from=333.788&amp;vd_source=89cd1bd958a3eea212de763dc113559e">è§†é¢‘ä¸€</a></p>
<table rules="none" align="center">
<tr>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/e4dealwithSicilian.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">2. Nf3 Nc6 3. Bb5</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/e4dealwithSiciliang6.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">2. ...g6</font><br />

</center>
</td>
<td>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/e4dealwithSiciliane6.png" width="100%" /><br />
<br/><br />
<font color="AAAAAA">2. ...e6</font><br />

</center>
</td>
</td>
</tr>
</table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 c5 2. Nf3 Nc6 (2... g6 3. c3 b6 4. d4 Bb7 5. Bc4 Bxe4 6. Bxf7+ (6. Ng5 d5 7. Bb5+ Nd7 8. Nxe4 dxe4 9. dxc5 a6 10. Bxd7+ Qxd7 11. Qxd7+ Kxd7 12. cxb6) 6... Kxf7 7. Ng5+ Ke8 8. Nxe4) (2... e6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Bb4 6. e5 Nd5 (6... Ne4 7. Qg4 Nxc3 8. Qxg7 Rf8 9. a3 Nb5+ 10. axb4 Nxd4 11. Bg5 f6 (11... Qb6 12. Bd3 Nf5 13. Bxf5 exf5 14. O-O-O Qg6 15. e6 Qxg7 (15... d6 16. Rxd6 f6 17. Rd8+ Kxd8 18. Qxf8+ Qe8 19. Bxf6+ Kc7 20. Be5+ Kd8 21. Rd1+ Bd7 22. Rxd7+ Nxd7 23. e7+ Kc8 24. Qxe8#) 16. exd7+ Bxd7 17. Rhe1+) 12. exf6 Nf5 13. f7+ Rxf7 14. Qxf7+ Kxf7 15. Bxd8) 7. Qg4 O-O (7... g6 8. a3 Bxc3+ (8... Qa5 9. axb4 Qxa1 10. Nb3) 9. bxc3 Qc7 10. Nb5 Qxe5+ 11. Qe2 Qxe2+ 12. Bxe2) 8. Bh6) 3. Bb5 Qb6 (3... e6 4. O-O Nf6 5. Re1 d5 6. exd5 Nxd5 7. Ne5 Qc7 8. Nc3 (8. Qh5)) (3... g6 4. O-O Bg7 5. Re1 Nf6 6. Nc3 Nd4 7. e5 Ng8 8. d3 Nxb5 9. Nxb5 a6 10. Nd6+ exd6 11. Bg5 Qa5 12. exd6+ Kf8 13. Re8+ Kxe8 14. Qe2+ Kf8 15. Be7+ Nxe7 (15... Ke8 16. Bd8+ Kxd8 17. Ng5) 16. Qxe7+ Kg8 17. Ng5) (3... Nf6 4. Nc3 Nd4 5. e5 Nxb5 6. Nxb5 Nd5 7. Ng5 h6 (7... a6 8. Qf3 f6 9. Qxd5 fxg5 10. Nc3) 8. Nxf7 Kxf7 9. Qf3+ Ke6 10. c4 Nb4 11. a3 Nc2+ 12. Kd1 Nxa1 13. g4) 4. Nc3 Nd4 5. Nxd4 cxd4 6. Nd5 Qd8 7. Qh5 a6 (7... Nf6 8. Nxf6+ gxf6 9. Bc4) 8. Qe5 axb5 (8... f6 9. Nc7+ Kf7 10. Qd5+ e6 11. Nxe6 Qe7 12. Nc7+ Kg6 13. Nxa8) 9. Nc7+ Qxc7 10. Qxc7</span><br></pre></td></tr></table></figure>
<p>å¤åˆ¶æ£‹è°±ç‚¹å‡»<a
href="https://lichess.org/analysis">æ­¤å¤„</a>åˆ°lichessä¸Šå¤ç›˜</p>
<h2 id="ä¼Šæ–‡æ€å¼ƒå…µ-evans-gambit">ä¼Šæ–‡æ€å¼ƒå…µ Evans Gambit</h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Evans_Gambit.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>Evans Gambit</font></b>
</center>
<p></font></p>
<h3 id="æ¥å—å¼ƒå…µ">æ¥å—å¼ƒå…µ</h3>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. b4 Bxb4 5. c3 Bc5 (5... Ba5 6. d4 d6) (5... Be7 6. d4 Na5 7. Bd3 d6 8. dxe5 dxe5 9. Nxe5 Nf6) 6. d4 exd4 7. O-O d6 (7... dxc3 8. Bxf7+ Kxf7 9. Qd5+) 8. cxd4 Bb6 9. Nc3</span><br></pre></td></tr></table></figure>
<p>d6å…µå¾ˆé‡è¦</p>
<h3 id="ä¸æ¥å—å¼ƒå…µ">ä¸æ¥å—å¼ƒå…µ</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. b4 Bb6 (4... Be7 5. c3 Nf6 6. Qb3 O-O) 5. a4 a6 6. Nc3 Nf6 7. Nd5 Nxd5 8. exd5 e4 9. dxc6 O-O (9... exf3 10. Qxf3 Qe7+ 11. Kd1) 10. Bb2 exf3 11. Qxf3</span><br></pre></td></tr></table></figure>
<h3 id="åå¼ƒå…µ">åå¼ƒå…µ</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. b4 d5 5. Bxd5 (5. exd5 Nxb4 6. O-O Nf6 7. Nxe5 Nbxd5 (7... Bd4 8. c3 Bxe5 9. Re1)) 5... Nxb4</span><br></pre></td></tr></table></figure>
<h3 id="è§†é¢‘">è§†é¢‘</h3>
<p>æ¥å—å¼ƒå…µ <a
href="https://www.bilibili.com/video/BV15h411d7iN/?spm_id_from=333.788.recommend_more_video.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">yixinchess</a></p>
<p>æ¥å—å¼ƒå…µ åå¼ƒå…µ <a
href="https://www.bilibili.com/video/BV1op4y1v7Pi/?spm_id_from=333.788.recommend_more_video.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">yixinchess</a></p>
<p>å¤§è±¡å¼ƒå…µ</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/Elephant_gambit.png" style="height: 300px; width: auto;"/>
</center>
<center>
<b><font size ='2'>elephant Gambit</font></b>
</center>
<p></font></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 d5 3. exd5 e4 4. Qe2 (4. Nd4 Qxd5 5. Nb3 Qe5 6. Nc3 Nc6 7. Be2 Bd6 8. d3 exd3 9. Qxd3 Nb4 10. Qd1 Bf5 11. Nd4 Qxd4 12. Qxd4 Nxc2+ 13. Kf1 Nxd4) 4... Nf6 5. Nc3 Be7 6. Nxe4 O-O 7. d3 (7. c4 Nxe4 8. Qxe4 Re8 9. Qd3 Bf6+ 10. Be2 c6 11. O-O cxd5 12. cxd5 b6 13. d6 Ba6 14. Qd5 Bxe2 15. Qxa8 Bxf1 16. Kxf1 Qxd6 17. d4 Qd7 18. d5 Rc8 19. Bf4 Na6) (7. Nxf6+ Bxf6 8. d3 (8. d4 Qxd5 9. Be3 Bg4 10. h3 Bxf3 11. Qxf3 Qa5+ 12. Bd2 (12. c3 Nc6 13. Bd2 (13. Bd3 Bxd4 14. O-O Bxe3 15. Qxe3 Rfe8 16. Qg3 Rad8) 13... Rae8+ 14. Be2 Qb6 15. O-O-O Bxd4 16. cxd4 Nxd4 17. Qd3 Nxe2+ 18. Kb1) 12... Qb6) 8... Re8 9. Be3 Bxb2 10. Rb1 Bc3+ 11. Nd2 Qxd5 12. Rb3 Qa5 13. a3 Nc6 14. Qd1 Bg4 15. Be2 (15. f3 Rxe3+ 16. Kf2 Rae8 17. fxg4 Qf5+ 18. Qf3 Nd4 19. Qxf5 Nxf5) 15... Bxe2 16. Qxe2 Nd4) 7... Nxd5 8. Bd2 Re8 9. O-O-O f5 10. Nc3 (10. Ng3 Bf6 11. Be3 f4) 10... Nxc3 11. Bxc3 Bg5+ 12. Nxg5 Rxe2 13. Bxe2 Qxg5+</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 d5 3. Nxe5 Qe7 4. Nf3 (4. Ng4 Qxe4+ 5. Be2 Bxg4 6. f3 Bxf3 7. gxf3 Qh4+ 8. Kf1 Bc5) (4. d4 f6 5. Qh5+ (5. Ng4 Bxg4 6. Qxg4 Qxe4+ 7. Qxe4+ dxe4 8. Bc4 Nc6 9. c3 O-O-O 10. Bf4 Bd6 11. Bg3 Kb8) (5. Nf3 dxe4 6. Nfd2 f5 7. Bc4 Nc6 8. c3 Bd7 9. O-O O-O-O 10. Re1 Nf6 11. Nf1 (11. b4 Ng4 12. h3 h5 13. hxg4 (13. a4 Qh4 14. Qe2 Bd6 15. Nf1 f4 16. Qxe4 Qxf2+ 17. Kh1 f3 18. gxf3 Rde8) 13... hxg4 14. g3 g5)) (5. Nc3 fxe5 6. Nxd5 Qf7 7. Bc4 Be6 8. Nxc7+ Qxc7 9. Bxe6 Nc6 10. d5 (10. c3 exd4 11. cxd4 Qd6 12. Bxg8 (12. d5 Qb4+ 13. Bd2 Qxe4+ 14. Be3 Bb4+ 15. Kf1 Nf6 16. a3 Bd6 17. Qe2 Nd8 18. Qb5+ Ke7 19. Re1 Nxe6 20. dxe6 Rhe8) 12... Rxg8 13. Be3 Qb4+ 14. Qd2 O-O-O) 10... Nd4 11. O-O (11. c3 Nxe6 12. dxe6 Qd6 (12... Nf6))) 5... g6 6. Nxg6 Qxe4+ 7. Be2 Qxg6) 4... dxe4 5. Nd4 Qe5 6. Nb3 Nc6 7. Nc3 Nf6 8. Be2 Bd6 9. d4 exd3 10. Qxd3 Nb4 11. Qd1 Bf5 12. Nd4 Qxd4 13. Qxd4 Nxc2+ 14. Kf1 Nxd4</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. e4 e5 2. Nf3 d5 3. exd5 e4 4. Qe2 Nf6 5. d3 Qxd5 6. Nbd2 (6. Nc3 Bb4 7. Bd2 Bxc3 8. Bxc3 O-O 9. Bxf6 (9. dxe4 Nxe4 10. Rd1 Nxc3 11. Rxd5 Nxe2 12. Bxe2 Be6 13. Rd2 Nc6) 9... exf3 10. Qxf3 Qxf3 11. gxf3 Re8+ 12. Kd2 gxf6) (6. dxe4 Qxe4 7. Qxe4+ Nxe4) 6... Nc6 7. Nxe4 (7. dxe4 Qe6 8. Qc4 Qg4 9. h3 Qg6 10. e5 Be6 11. Qb5 O-O-O 12. exf6 Qxc2 13. fxg7 Bxg7 14. Be2 Rd5 15. Qc4 Rxd2 16. Qxc2 Rxc2 17. Bd1 Rxb2 18. Bxb2 Bxb2 19. Rb1 Bc3+ 20. Kf1 Bxa2) 7... Be6 8. Nxf6+ gxf6 9. Qe4 Qa5+ 10. Bd2 Qb6 11. O-O-O (11. Bc3 Bb4 12. Bxb4 (12. Be2 Bxc3+ 13. bxc3 Qa5 14. O-O Qxc3) 12... Nxb4 13. Qe2 O-O-O 14. O-O-O Nxa2+ 15. Kb1 Nc3+) 11... Qa6 12. a3 Bxa3 13. Bc3 Be7 14. Be2 O-O-O 15. d4 Qa4 16. Rhe1 f5 17. Qe3 Nb4 18. Bxb4 Qa1+ 19. Kd2 Bxb4+ 20. c3 Qxb2+ 21. Kd3 Qxc3#</span><br></pre></td></tr></table></figure>
<h2 id="å›½é™…è±¡æ£‹å¼€å±€ä»£ç ç®€ä»‹">å›½é™…è±¡æ£‹å¼€å±€ä»£ç ç®€ä»‹</h2>
<p>ç°åœ¨ä¸–ç•Œé€šè¡Œçš„å›½é™…è±¡æ£‹å¼€å±€ä»£ç å¹¿æ³›è¿ç”¨åœ¨å„ç§ç”µè„‘è½¯ä»¶ï¼Œæœ€æ—©æ˜¯å—æ–¯æ‹‰å¤«äººå‘æ˜çš„ï¼Œã€Šå›½é™…è±¡æ£‹å¼€å±€ç™¾ç§‘å…¨ä¹¦ã€‹å³æŒ‰æ­¤ç¼–æ’ï¼ŒæŠŠæ‰€æœ‰å¼€å±€åˆ†ä¸ºAã€Bã€Cã€Dã€Eäº”ç±»ï¼Œæ¯ä¸€ç±»åˆåˆ†ä¸º00-99ä¸€ç™¾ä¸ªå°ç±»ï¼Œä¾‹å¦‚C89æ˜¯è¥¿ç­ç‰™å¼€å±€é©¬æ­‡å°”å¼ƒå…µã€‚<br />
ä¸‹é¢è¯¦ç»†ä»‹ç»å„ä¸ªå¼€å±€çš„åˆ†ç±»ä»£ç ï¼š<br />
Aç±»ï¼š<br />
A00-A03æ˜¯å„ç§éä¸»æµå¼€å±€ï¼ŒåŒ…æ‹¬äº†ä¸€åˆ‡ç¬¬ä¸€æ­¥ä¸èµ°1.e4ã€1.d4ã€1.c4ã€1.Nf3çš„å¼€å±€ã€‚ä¾‹å¦‚1.f4åˆ«å°”å¾·å¼€å±€ï¼Œè¢«åˆ—å…¥åœ¨A02-A03<br />
A04-A09æ˜¯åˆ—è’‚å¼€å±€,1.Nf3ã€‚<br />
A10-A39æ˜¯è‹±å›½å¼å¼€å±€ï¼Œå…¶ä¸­A20-A29æ˜¯å…ˆæ‰‹è¥¿è¥¿é‡Œ,1.c4
e5ï¼›A30-A39æ˜¯å¯¹ç§°å˜ä¾‹1.c4 c5ã€‚<br />
A40-A56åŒ…æ‹¬äº†ä¸€äº›ä¸å¸¸è§çš„åå…µç±»å¼€å±€ã€‚<br />
A57-A59æ˜¯ä¼å°”åŠ å¼ƒå…µã€‚1.d4 Nf6 2.c4 c5 3.d5 b5<br />
A60-A79æ˜¯åˆ«è¯ºå°¼é˜²å¾¡ã€‚1.d4 Nf6 2.c4 c5 3.d5 e6<br />
A80-A89æ˜¯è·å…°é˜²å¾¡ã€‚1.d4 f5<br />
Bç±»ï¼šä¸»è¦æ˜¯å„ç§åŠå¼€æ”¾æ€§å¼€å±€ã€‚<br />
B01æ˜¯æ–¯å ªçš„çº³ç»´äºšé˜²å¾¡ï¼Œ1.e4 d5<br />
B02-B05æ˜¯é˜¿å»–æ¬£é˜²å¾¡ï¼Œ1.e4 Nf6<br />
B06é€šå¸¸å«ç°ä»£é˜²å¾¡ï¼Œ1.e4 g6<br />
B07-B09æ˜¯ä¹Œè²å§†é‡‡å¤«é˜²å¾¡ï¼Œ1.e4 d6<br />
B10-B19æ˜¯å¡ç½—å¡æ©é˜²å¾¡ï¼Œ1.e4 c6<br />
B20-B99æ˜¯è¥¿è¥¿é‡Œé˜²å¾¡ï¼Œ1.e4 c5ã€‚<br />
ä¸»è¦çš„å˜ä¾‹ä»‹ç»å¦‚ä¸‹ï¼š<br />
B33æ‹‰æ–¯å…‹å˜ä¾‹<br />
B37-B39é©¬æ´›å…¹ç»“æ„<br />
B40-B49ä¿å°”é€Šä½“ç³»<br />
B58-B59åšåˆ—æ–¯æ‹‰å¤«æ–¯åŸºå˜ä¾‹<br />
B60-B69æ‹‰ä¹Œå‰å°”å˜ä¾‹<br />
B70-B79é¾™å¼å˜ä¾‹<br />
B80-B85èˆæ–‡å®æ ¹å˜ä¾‹<br />
B86-B89ç´¢é‡‘æ”»å‡»<br />
B90-B99çº³é“å°”å¤«å˜ä¾‹<br />
Cç±»ï¼šåŒ…æ‹¬äº†æ³•å…°è¥¿é˜²å¾¡å’Œå…¨éƒ¨å¼€æ”¾æ€§å¼€å±€<br />
C00-C19æ³•å…°è¥¿é˜²å¾¡ï¼Œ1.e4 e6<br />
C21-C22ä¸­å¿ƒå¼€å±€ï¼Œ1.e4 e5 2.d4<br />
C23-C24é£è±¡å¼€å±€ï¼Œ1.e4 e5 2.Bc4<br />
C25-C29ç»´ä¹Ÿçº³å¼€å±€ï¼Œ1.e4 e5 2.Nc3<br />
C30-C39ç‹ç¿¼å¼ƒå…µï¼Œ1.e4 e5 2.f4<br />
C41è²ç«‹é“å°”é˜²å¾¡ï¼Œ1.e4 e5 2.Nf3 d6<br />
C42-C43ä¿„ç½—æ–¯é˜²å¾¡1.e4 e5 2.Nf3 Nf6<br />
C44-C45åŒ…æ‹¬è‹æ ¼å…°å¼€å±€1.e4 e5 2.Nf3 Nc6 3.d4<br />
C46ä¸‰é©¬å¼€å±€1.e4 e5 2.Nf3 Nc6 3.Nc3<br />
C47-C49å››é©¬å¼€å±€1.e4 e5 2.Nf3 Nc6 3.Nc3 Nf6<br />
C50åŒ…æ‹¬åŒˆç‰™åˆ©é˜²å¾¡1.e4 e5 2.Nf3 Nc63.Bc4 Be7<br />
C51-C52ä¼Šæ–‡æ€å¼ƒå…µ1.e4 e5 2.Nf3 Nc6 3.Bc4 Bc5 4.b4<br />
C53-C54æ„å¤§åˆ©å¼€å±€1.e4 e5 2.Nf3 Nc6 3.Bc4 Bc5 4.c3<br />
C55-C59åŒé©¬é˜²å¾¡1.e4 e5 2.Nf3 Nc6 3.Bc4 Nf6<br />
C60-C99è¥¿ç­ç‰™å¼€å±€1.e4 e5 2.Nf3 Nc6 3.Bb5<br />
ä¸»è¦å˜ä¾‹ä»‹ç»å¦‚ä¸‹ï¼š<br />
C65-C67æŸæ—é˜²å¾¡<br />
C68-C69å…‘æ¢å˜ä¾‹<br />
C71-C76ç°ä»£æ–¯å¦å°¼èŒ¨é˜²å¾¡<br />
C80-C83å¼€æ”¾å˜ä¾‹<br />
C88åŒ…æ‹¬å‰æ™®æ–¯é‡Œæ–¯å˜ä¾‹<br />
C89é©¬æ­‡å°”å¼ƒå…µ<br />
C92åŒ…æ‹¬æ‰ä¾é‡‡å¤«å˜ä¾‹<br />
C93æ–¯æ¢…æ–¯æ´›å¤«å˜ä¾‹<br />
C94-C95å¸ƒé›·è€¶å°”å˜ä¾‹<br />
C96-C99å¥‡æˆˆæ—å˜ä¾‹<br />
Dç±»ï¼š<br />
D00-D05åå…µå¼€å±€ï¼Œ1.d4 d5<br />
D06-D69åç¿¼å¼ƒå…µï¼Œ1.d4 d5 2.c4<br />
ä¸»è¦å˜ä¾‹ä»‹ç»å¦‚ä¸‹ï¼š<br />
D10-D19æ–¯æ‹‰å¤«é˜²å¾¡<br />
D20-D29æ¥å—åç¿¼å¼ƒå…µ<br />
D38-D39æ‹‰æˆˆé‡‘é˜²å¾¡<br />
D43-D49åŠæ–¯æ‹‰å¤«é˜²å¾¡<br />
D52å‰‘æ¡¥æ¸©æ³‰é˜²å¾¡<br />
D60-D69æ­£ç»Ÿé˜²å¾¡<br />
D70-D99æ ¼æ—è²å°”å¾·é˜²å¾¡ï¼Œ1.d4 Nf6 2.c4 g6 é»‘æ£‹ç¬¬ä¸‰ç€æœ‰3...d5<br />
Eç±»ï¼š<br />
E00-E09å¡å¡”é¾™å¼€å±€<br />
E12-E19æ–°å°åº¦é˜²å¾¡<br />
E20-E59å°¼å§†ä½ç»´å¥‡é˜²å¾¡<br />
E60-E99å¤å°åº¦é˜²å¾¡<br />
ä¸»è¦å˜ä¾‹ä»‹ç»å¦‚ä¸‹ï¼š<br />
E62-E69å‡ºä¾§ç¿¼è±¡å˜ä¾‹<br />
E76-E79å››å…µå˜ä¾‹<br />
E80-E89å‰ç±³ä»€å˜ä¾‹<br />
E90-E99å¤å…¸å˜ä¾‹</p>
<p><a href="http://blog.sina.com.cn/u/1085848081">åŸæ–‡åœ°å€</a></p>
]]></content>
      <tags>
        <tag>å›½é™…è±¡æ£‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨hexoæ­å»ºåšå®¢çš„å°è¯•</title>
    <url>/post/4a17b156.html</url>
    <content><![CDATA[<h2 id="githubå‡†å¤‡">githubå‡†å¤‡</h2>
<span id="more"></span>
<h2 id="node.js-å®‰è£…">Node.js å®‰è£…</h2>
<h2 id="hexoå®‰è£…">hexoå®‰è£…</h2>
<h2 id="hexoå‘½ä»¤">hexoå‘½ä»¤</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean &amp;&amp;hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr class="header">
<th>å‘½ä»¤</th>
<th>ç®€å†™</th>
<th>ä¸­æ–‡å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>hexo server</td>
<td>hexo s</td>
<td>æœ¬åœ°å¯åŠ¨</td>
</tr>
<tr class="even">
<td>hexo generate</td>
<td>hexo g</td>
<td>ç”Ÿæˆé™æ€æ–‡ä»¶</td>
</tr>
<tr class="odd">
<td>hexo deploy</td>
<td>hexo d</td>
<td>éƒ¨ç½²ç½‘ç«™</td>
</tr>
<tr class="even">
<td>hexo clean</td>
<td></td>
<td>æ¸…é™¤ç¼“å­˜å’Œå·²ç»ç”Ÿæˆçš„é™æ€æ–‡ä»¶</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>é‡è§ git@github.com: Permission denied (publickey).<br />
fatal: Could not read from remote repository.</p>
<p>å¯ä»¥æ£€æŸ¥ssh å¯†é’¥</p>
<p>1.<strong>æ£€æŸ¥ SSH å¯†é’¥æ˜¯å¦å­˜åœ¨</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> -al ~/.ssh</span><br></pre></td></tr></table></figure>
<p>æ£€æŸ¥æ˜¯å¦æœ‰ <code>id_rsa</code> å’Œ <code>id_rsa.pub</code>
æ–‡ä»¶ï¼ˆæˆ–å…¶ä»–ç±»ä¼¼åç§°çš„æ–‡ä»¶ï¼‰ã€‚å¦‚æœæ²¡æœ‰ï¼Œä½ éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„ SSH
å¯†é’¥ã€‚</p>
<p>2.<strong>ç”Ÿæˆæ–°çš„ SSH å¯†é’¥ï¼ˆå¦‚æœéœ€è¦ï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure>
<ul>
<li>æŒ‰ Enter ä½¿ç”¨é»˜è®¤æ–‡ä»¶è·¯å¾„ï¼ˆ<code>~/.ssh/id_rsa</code>ï¼‰ã€‚</li>
<li>è®¾ç½®ä¸€ä¸ªå¯†ç ï¼ˆå¯é€‰ï¼Œä½†å»ºè®®è®¾ç½®ä»¥å¢å¼ºå®‰å…¨æ€§ï¼‰ã€‚</li>
</ul>
<h3 id="å°†-ssh-å¯†é’¥æ·»åŠ åˆ°-ssh-ä»£ç†">3. <strong>å°† SSH å¯†é’¥æ·»åŠ åˆ° SSH
ä»£ç†</strong></h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">eval</span> <span class="string">&quot;<span class="subst">$(ssh-agent -s)</span>&quot;</span></span><br><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ ä½¿ç”¨äº†ä¸åŒçš„å¯†é’¥æ–‡ä»¶åï¼Œè¯·å°† <code>id_rsa</code>
æ›¿æ¢ä¸ºæ­£ç¡®çš„æ–‡ä»¶åã€‚</p>
<h3 id="å°†-ssh-å…¬é’¥æ·»åŠ åˆ°-github-è´¦æˆ·">4. <strong>å°† SSH å…¬é’¥æ·»åŠ åˆ°
GitHub è´¦æˆ·</strong></h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
<p>ç™»å½• GitHubï¼š</p>
<ol type="1">
<li>è¿›å…¥ <strong>Settings</strong> &gt; <strong>SSH and GPG
keys</strong>ã€‚</li>
<li>ç‚¹å‡» <strong>New SSH key</strong>ã€‚</li>
<li>åœ¨ "Key" å­—æ®µä¸­ç²˜è´´ä½ çš„å…¬é’¥ï¼Œå¹¶ä¸ºå…¶å‘½åã€‚</li>
<li>ç‚¹å‡» <strong>Add SSH key</strong>ã€‚</li>
</ol>
<h3 id="æµ‹è¯•-ssh-è¿æ¥">5. <strong>æµ‹è¯• SSH è¿æ¥</strong></h3>
<p>æµ‹è¯•ä¸ GitHub çš„è¿æ¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆåŠŸï¼Œä½ ä¼šçœ‹åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š</p>
<p><code>Hi &lt;username&gt;! You've successfully authenticated, but GitHub does not provide shell access.</code></p>
<h2 id="ä½¿ç”¨buttflyä¸»é¢˜">ä½¿ç”¨buttflyä¸»é¢˜</h2>
<h2 id="å†™åšå®¢">å†™åšå®¢</h2>
<p><code>hexo new [layout]  &lt;title&gt;</code></p>
<p>æ¯”å¦‚ <code>hexo new "æ—¶é—´åºåˆ—æ¯”èµ›(ä¸€)"</code></p>
<h2
id="npmæŸ¥çœ‹å·²å®‰è£…çš„åŒ…å…¨å±€å’Œæœ¬åœ°">npmæŸ¥çœ‹å·²å®‰è£…çš„åŒ…ï¼ˆå…¨å±€ã€å’Œæœ¬åœ°ï¼‰</h2>
<p>æŸ¥çœ‹å…¨å±€å·²å®‰è£…ï¼ˆ-g çš„æ„æ€æ˜¯ global å…¨å±€çš„æ„æ€ï¼‰<br />
<code>npm ls -g</code><br />
åŠ ä¸Šå±‚çº§æ§åˆ¶æ˜¾ç¤ºæ·±åº¦ï¼š<code>--depth 0</code><br />
<code>npm ls -g --depth 0</code><br />
æŸ¥çœ‹é¡¹ç›®ä¸­å·²å®‰è£…<br />
<code>npm ls</code><br />
å¦‚æœåªæƒ³æ˜¾ç¤ºç”Ÿäº§ç¯å¢ƒä¾èµ–çš„åŒ…<br />
<code>npm ls --depth 0 --prod</code><br />
åªæ˜¾ç¤ºå¼€å‘ç¯å¢ƒä¾èµ–çš„åŒ…<br />
<code>npm ls --depth 0 --dev</code></p>
<h2 id="hexo-å¤šç§markdownæ¸²æŸ“å™¨å¯¹æ¯”åˆ†æ">Hexo
å¤šç§Markdownæ¸²æŸ“å™¨å¯¹æ¯”åˆ†æ</h2>
<p>https://zsyyblog.com/b73ceb85.html</p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯</tag>
      </tags>
  </entry>
  <entry>
    <title>æ—¶é—´åºåˆ—æ¯”èµ›(ä¸€)</title>
    <url>/post/f9ac47d6.html</url>
    <content><![CDATA[<p>å°è¯•å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹ ç”¨å®ƒå‚åŠ æ¯”èµ›</p>
<span id="more"></span>
<h1 id="æ—¶é—´åºåˆ—æ¯”èµ›ä¸€è‰ç¨¿">æ—¶é—´åºåˆ—æ¯”èµ›(ä¸€)è‰ç¨¿</h1>
<h1 id="æ¯”èµ›å†…å®¹">æ¯”èµ›å†…å®¹</h1>
<p><a
href="https://www.marsbigdata.com/competition/details?id=40144958741">æ¯”èµ›ç½‘ç«™</a></p>
<h2 id="å‚æ•°">å‚æ•°</h2>
<p><img
src="https://file.public.marsbigdata.com/2023/09/28/62dfR3wroe_f0osL.png" /></p>
<h2 id="è¯„ä¼°æŒ‡æ ‡-rmse.">è¯„ä¼°æŒ‡æ ‡: RMSE.</h2>
<p><span class="math display">\[
R M S E=\sqrt{\frac{1}{\mathrm{n}}
\sum_{\mathrm{i}=1}^{\mathrm{n}}\left(\mathrm{y}_{\mathrm{i}}-\mathrm{y}_{\mathrm{i}}^*\right)^2}
\]</span><br />
<span class="math inline">\(\mathrm{y}_1\)</span>
å¼ä¸­ä¸ºç¬¬ä¸ªæ•°æ®çš„çœŸå®å€¼ï¼Œ <span
class="math inline">\(\mathrm{y}_1^*\)</span> ä¸ºç¬¬ä¸ªæ•°æ®çš„é¢„æµ‹å€¼ï¼Œ <span
class="math inline">\(\mathrm{n}\)</span> ä¸ºæ ·æœ¬æ€»æ•°ã€‚</p>
<h2 id="æƒ³æ³•">æƒ³æ³•</h2>
<p>è§‚å¯Ÿæ•°æ® ï¼ˆç€é‡è§‚å¯Ÿä¸€äº›æ ‡å‡†å·®å¥‡æ€ªçš„æ•°æ® æˆ–è€…
æ¨¡å‹é¢„æµ‹çš„å‡æ–¹è¯¯å·®å¾ˆå¤§çš„ç‚¹ï¼‰ è€ƒè™‘æ˜¯å¦å‰”é™¤ä¸€äº›æ•°æ®æ¯”å¦‚å»å¹´æ•°æ®
ä¸€äº›å¼‚å¸¸æ•°æ®å¯ä»¥å‰”é™¤ æˆ–è€… æ’å€¼</p>
<p>ç»“åˆæ•°æ®æŸ¥æ‰¾ å¤–éƒ¨æ•°æ® æ¯”å¦‚å¤©æ°”æ°”æ¸© èŠ‚å‡æ—¥ä¿¡æ¯</p>
<p>h3æ•°æ®è§£ç å¯ä»¥è€ƒè™‘è§£ç æˆç»çº¬åº¦ ç›´æ¥ä¸¢å…¥æ¨¡å‹é‡Œ
ä¹Ÿå¯ä»¥æ€»ç»“æˆåŸå¸‚ä½œä¸ºä¸€ä¸ªç‰¹å¾ï¼ˆåŒæ—¶å¦‚æœæœ‰åŸå¸‚çš„æ‹¥å µæ•°æ®ä¹Ÿå¯ä»¥åˆ©ç”¨ï¼‰</p>
<p>æ˜¯æŒ‰å°æ—¶çš„é¢„æµ‹ç„¶åç›¸åŠ é¢„æµ‹å¤© è¿˜æ˜¯æŒ‰å¤©é¢„æµ‹ï¼Ÿ</p>
<p>å–å†³äºä½ æœ‰æ²¡æœ‰å°æ—¶ç‰¹å¾çš„æ•°æ®æ²¡æœ‰çš„è¯ æŒ‰å¤©é¢„æµ‹ä¼šæ›´å¥½</p>
<h2 id="h3å®šä½åŸå¸‚">h3å®šä½åŸå¸‚</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment">#from bs4 import BeautifulSoup</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#import matplotlib.pyplot as plt</span></span><br><span class="line"><span class="comment">#from bs4 import BeautifulSoup</span></span><br><span class="line"><span class="comment">#import seaborn as sn</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> h3 <span class="keyword">import</span> h3</span><br><span class="line">train_stub_info = pd.read_csv(<span class="string">&quot;D:\\2023â€œSEEDâ€ç¬¬å››å±Šæ±Ÿè‹å¤§æ•°æ®å¼€å‘ä¸åº”ç”¨å¤§èµ›--æ–°èƒ½æºèµ›é“\\project\\data1\\train\\stub_info.csv&quot;</span>)</span><br><span class="line">test_stub_info = pd.read_csv(<span class="string">&quot;D:\\2023â€œSEEDâ€ç¬¬å››å±Šæ±Ÿè‹å¤§æ•°æ®å¼€å‘ä¸åº”ç”¨å¤§èµ›--æ–°èƒ½æºèµ›é“\\project\\data1\\test\\stub_info.csv&quot;</span>)</span><br><span class="line"><span class="keyword">from</span> h3 <span class="keyword">import</span> h3</span><br><span class="line"><span class="keyword">from</span> geopy.geocoders <span class="keyword">import</span> Nominatim</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">city_list=[]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(test_stub_info))</span><br><span class="line">latitude_list, longitude_list=[],[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(test_stub_info)):</span><br><span class="line"><span class="comment"># è·å–ç»çº¬åº¦ä¿¡æ¯</span></span><br><span class="line">   </span><br><span class="line">    latitude, longitude = h3.h3_to_geo(test_stub_info[<span class="string">&#x27;h3&#x27;</span>][i])</span><br><span class="line">    latitude_list.append(latitude)</span><br><span class="line">    longitude_list.append(longitude)</span><br><span class="line">    <span class="comment"># åˆ›å»ºåœ°ç†ç¼–ç å™¨å¯¹è±¡</span></span><br><span class="line">    geolocator = Nominatim(user_agent=<span class="string">&quot;my-app&quot;</span>)</span><br><span class="line">    <span class="comment"># è°ƒç”¨åœ°ç†ç¼–ç å™¨å¯¹è±¡çš„reverseæ–¹æ³•</span></span><br><span class="line">    location = geolocator.reverse(<span class="string">f&quot;<span class="subst">&#123;latitude&#125;</span>, <span class="subst">&#123;longitude&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="comment"># è¾“å‡ºè¯¦ç»†åœ°å€</span></span><br><span class="line">    address = location.address <span class="comment"># å­—ç¬¦ç±»å‹</span></span><br><span class="line">    <span class="comment"># æ±Ÿè‹åœ°çº§å¸‚ä¸€èˆ¬æ˜¯2-3ä¸ªä¸­æ–‡æ±‰å­—: å—äº¬å¸‚ã€è‹å·å¸‚ã€è¿äº‘æ¸¯å¸‚# æ­£åˆ™æå–åœ°çº§å¸‚</span></span><br><span class="line">    city = re.findall(<span class="string">r&#x27;,*?([\u4e00-\u9fa5]+å¸‚)&#x27;</span>,address, re.S)</span><br><span class="line">    <span class="keyword">if</span> i% <span class="number">10</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;ç¬¬<span class="subst">&#123;i&#125;</span>ä¸ªå¾ªç¯ running&quot;</span>,city)</span><br><span class="line">    city_list.append(city[-<span class="number">1</span>])</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">test_stub_info[<span class="string">&#x27;latitude&#x27;</span>]=latitude_list</span><br><span class="line">test_stub_info[<span class="string">&#x27;longitude&#x27;</span>]=longitude_list</span><br><span class="line">train_stub_info[<span class="string">&#x27;latitude&#x27;</span>]=latitude_list</span><br><span class="line">train_stub_info[<span class="string">&#x27;longitude&#x27;</span>]=longitude_list</span><br><span class="line">train_stub_info[<span class="string">&#x27;city&#x27;</span>]=city_list</span><br><span class="line">test_stub_info[<span class="string">&#x27;city&#x27;</span>]=city_list</span><br><span class="line"><span class="keyword">import</span> pypinyin</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pin</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.join(pypinyin.lazy_pinyin(x))</span><br><span class="line">city_name=<span class="built_in">set</span>(train_stub_info[<span class="string">&#x27;city&#x27;</span>].to_numpy())</span><br><span class="line">city_name_dict=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> city_name:</span><br><span class="line">    city_name_dict[i]=pin(i)[:-<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<h2 id="çˆ¬å–å¤©æ°”çš„ä»£ç ">çˆ¬å–å¤©æ°”çš„ä»£ç </h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span>  html5lib </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Get_data</span>(<span class="params">url</span>):</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;text/html;q=0.9,*/*;q=0.8&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Charset&#x27;</span>: <span class="string">&#x27;ISO-8859-1,utf-8;q=0.7,*;q=0.3&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Encoding&#x27;</span>: <span class="string">&#x27;gzip&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;close&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># è¯·æ±‚å¾—åˆ°ç½‘é¡µå†…å®¹</span></span><br><span class="line">    req = requests.get(url,headers=headers)</span><br><span class="line">    <span class="comment"># æ ¼å¼åŒ–ç½‘é¡µ</span></span><br><span class="line">    soup=BeautifulSoup(req.text,<span class="string">&quot;lxml&quot;</span>)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨soupå¯¹è±¡findlæ‰€éœ€å†…å®¹</span></span><br><span class="line">    tables = soup.find(name=<span class="string">&#x27;table&#x27;</span>)</span><br><span class="line">    <span class="comment"># æå–éœ€è¦çš„æ•°æ®</span></span><br><span class="line">    data=pd.read_html(<span class="built_in">str</span>(tables),encoding=<span class="string">&#x27;utf-8&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">data_process</span>(<span class="params">datac,c</span>):</span><br><span class="line">    datac.columns=datac.values.tolist()[<span class="number">0</span>];</span><br><span class="line">    datac.drop(<span class="number">0</span>,inplace=<span class="literal">True</span>);</span><br><span class="line">    datac[<span class="string">&#x27;ds&#x27;</span>] = datac[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>].apply(<span class="keyword">lambda</span> x: <span class="built_in">int</span>(<span class="string">&quot;&quot;</span>.join(re.split(<span class="string">&quot;å¹´|æœˆ|æ—¥&quot;</span>,x))));</span><br><span class="line">    datac[<span class="string">&#x27;ltmp&#x27;</span>] = datac[<span class="string">&#x27;æœ€ä½æ°”æ¸©/æœ€é«˜æ°”æ¸©&#x27;</span>].apply(<span class="keyword">lambda</span> x: <span class="built_in">int</span>(re.split(<span class="string">&quot;â„ƒ|/|æ—¥&quot;</span>,x)[<span class="number">0</span>]));</span><br><span class="line">    datac[<span class="string">&#x27;htmp&#x27;</span>] = datac[<span class="string">&#x27;æœ€ä½æ°”æ¸©/æœ€é«˜æ°”æ¸©&#x27;</span>].apply(<span class="keyword">lambda</span> x: <span class="built_in">int</span>(re.split(<span class="string">&quot;â„ƒ|/|æ—¥&quot;</span>,x)[<span class="number">2</span>]));</span><br><span class="line">    datac[<span class="string">&#x27;city&#x27;</span>]=c;</span><br><span class="line">    datac[<span class="string">&#x27;weather1&#x27;</span>]=datac[<span class="string">&#x27;å¤©æ°”çŠ¶å†µ&#x27;</span>].apply(<span class="keyword">lambda</span> x: re.split(<span class="string">&quot;/&quot;</span>,x)[<span class="number">0</span>]);</span><br><span class="line">    datac[<span class="string">&#x27;weather2&#x27;</span>]=datac[<span class="string">&#x27;å¤©æ°”çŠ¶å†µ&#x27;</span>].apply(<span class="keyword">lambda</span> x: re.split(<span class="string">&quot;/&quot;</span>,x)[<span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> datac</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">result=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> city_name:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> train_day:</span><br><span class="line">        create_url = <span class="string">&#x27;http://www.tianqihoubao.com/lishi/&#x27;</span>+city_name_dict[i]+<span class="string">&#x27;/month/&#x27;</span>+j+<span class="string">&#x27;.html&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">str</span>(i))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;æ­£åœ¨æ‰“å¼€ç½‘é¡µï¼š&#x27;</span>,create_url,i,j)</span><br><span class="line">        <span class="comment"># è·å–æ•°æ®</span></span><br><span class="line">        data = Get_data(create_url)</span><br><span class="line">       </span><br><span class="line">        <span class="comment"># æ•°æ®å¤„ç†</span></span><br><span class="line">        data = data_process(data,i)</span><br><span class="line">        <span class="built_in">print</span>(data)</span><br><span class="line">        namedata=i+j</span><br><span class="line">        data.to_csv(<span class="string">&#x27;cityweather/&#x27;</span>+namedata+<span class="string">&#x27;.csv&#x27;</span>,index=<span class="string">&#x27;False&#x27;</span>,encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">        result.append(data)</span><br><span class="line">        <span class="comment">#print(result[-1])</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data_all = pd.concat(result,axis=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(data_all)</span><br><span class="line"><span class="comment"># è¾“å‡ºåˆ°æœ¬åœ°</span></span><br><span class="line">data_all.to_csv(<span class="string">&#x27;cityweather.csv&#x27;</span>,index=<span class="string">&#x27;False&#x27;</span>,encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="æ•°æ®æ¸…ç†ä»¥åŠé¢„å¤„ç†">æ•°æ®æ¸…ç†ä»¥åŠé¢„å¤„ç†</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#import ç›¸å…³åº“</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> lightgbm <span class="keyword">as</span> lgb</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> StratifiedKFold, KFold, GroupKFold</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error, mean_absolute_error</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> gc</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">train_power_forecast_history = pd.read_csv(<span class="string">&#x27;./data1/train/power_forecast_history.csv&#x27;</span>,encoding = <span class="string">&#x27;GB18030&#x27;</span>)</span><br><span class="line">train_power = pd.read_csv(<span class="string">&#x27;./data1/train/power.csv&#x27;</span>,encoding = <span class="string">&#x27;GB18030&#x27;</span>)</span><br><span class="line"><span class="comment">#train_stub_info = pd.read_csv(&#x27;./data1/train/stub_info.csv&#x27;)</span></span><br><span class="line">train_stub_info = pd.read_csv(<span class="string">&#x27;./data1/train_stub_info.csv&#x27;</span>,encoding = <span class="string">&#x27;GB18030&#x27;</span>)</span><br><span class="line"></span><br><span class="line">test_power_forecast_history = pd.read_csv(<span class="string">&#x27;./data1/test/power_forecast_history.csv&#x27;</span>,encoding = <span class="string">&#x27;GB18030&#x27;</span>)</span><br><span class="line"><span class="comment">#test_stub_info = pd.read_csv(&#x27;./data1/test/stub_info.csv&#x27;)</span></span><br><span class="line">test_stub_info = pd.read_csv(<span class="string">&#x27;./data1/test_stub_info.csv&#x27;</span>,encoding = <span class="string">&#x27;GB18030&#x27;</span>)</span><br><span class="line">cityweather=pd.read_csv(<span class="string">&#x27;./data1/cityweather.csv&#x27;</span>,encoding = <span class="string">&#x27;GB18030&#x27;</span>)</span><br><span class="line"><span class="keyword">del</span> test_stub_info[<span class="string">&quot;Unnamed: 0&quot;</span>]</span><br><span class="line"><span class="keyword">del</span> train_stub_info[<span class="string">&quot;Unnamed: 0&quot;</span>]</span><br><span class="line"><span class="keyword">del</span> cityweather[<span class="string">&quot;Unnamed: 0&quot;</span>]</span><br><span class="line"><span class="keyword">del</span> cityweather[<span class="string">&quot;æ—¥æœŸ&quot;</span>]</span><br><span class="line"><span class="keyword">del</span> cityweather[<span class="string">&quot;å¤©æ°”çŠ¶å†µ&quot;</span>]</span><br><span class="line"><span class="comment"># èšåˆæ•°æ®</span></span><br><span class="line">train_df = train_power_forecast_history.groupby([<span class="string">&#x27;id_encode&#x27;</span>,<span class="string">&#x27;ds&#x27;</span>]).head(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">del</span> train_df[<span class="string">&#x27;hour&#x27;</span>]</span><br><span class="line"></span><br><span class="line">test_df = test_power_forecast_history.groupby([<span class="string">&#x27;id_encode&#x27;</span>,<span class="string">&#x27;ds&#x27;</span>]).head(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">del</span> test_df[<span class="string">&#x27;hour&#x27;</span>]</span><br><span class="line"></span><br><span class="line">tmp_df = train_power.groupby([<span class="string">&#x27;id_encode&#x27;</span>,<span class="string">&#x27;ds&#x27;</span>])[<span class="string">&#x27;power&#x27;</span>].<span class="built_in">sum</span>()</span><br><span class="line">tmp_df.columns = [<span class="string">&#x27;id_encode&#x27;</span>,<span class="string">&#x27;ds&#x27;</span>,<span class="string">&#x27;power&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶å……ç”µé‡æ•°æ®</span></span><br><span class="line">train_df = train_df.merge(tmp_df, on=[<span class="string">&#x27;id_encode&#x27;</span>,<span class="string">&#x27;ds&#x27;</span>], how=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### åˆå¹¶æ•°æ®</span></span><br><span class="line">train_df = train_df.merge(train_stub_info, on=<span class="string">&#x27;id_encode&#x27;</span>, how=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_df = test_df.merge(test_stub_info, on=<span class="string">&#x27;id_encode&#x27;</span>, how=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> train_df[<span class="string">&#x27;address&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> train_df[<span class="string">&#x27;center&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> train_df[<span class="string">&#x27;h3&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> test_df[<span class="string">&#x27;address&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> test_df[<span class="string">&#x27;center&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> test_df[<span class="string">&#x27;h3&#x27;</span>]</span><br><span class="line">city1=train_df[<span class="string">&#x27;city&#x27;</span>].tolist()</span><br><span class="line">ds1=train_df[<span class="string">&#x27;ds&#x27;</span>].tolist()</span><br><span class="line">ltmp=[]</span><br><span class="line">htmp=[]</span><br><span class="line">weather1=[]</span><br><span class="line">weather2=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">zip</span>(city1,ds1):</span><br><span class="line">    <span class="comment">#a=cityweather[cityweather[&#x27;city&#x27;]==i[0]]</span></span><br><span class="line">    <span class="comment">#print(i)</span></span><br><span class="line">    b=cityweather[cityweather[<span class="string">&#x27;ds&#x27;</span>]==i[<span class="number">1</span>]]</span><br><span class="line">    b= b[b[<span class="string">&#x27;city&#x27;</span>]==i[<span class="number">0</span>]]</span><br><span class="line">    ltmp.append(b[<span class="string">&#x27;ltmp&#x27;</span>].to_list()[<span class="number">0</span>])</span><br><span class="line">    htmp.append(b[<span class="string">&#x27;htmp&#x27;</span>].to_list()[<span class="number">0</span>]) </span><br><span class="line">    weather1.append(b[<span class="string">&#x27;weather1&#x27;</span>].to_list()[<span class="number">0</span>])</span><br><span class="line">    weather2.append(b[<span class="string">&#x27;weather2&#x27;</span>].to_list()[<span class="number">0</span>]) </span><br><span class="line"></span><br><span class="line">train_df[<span class="string">&#x27;ltmp&#x27;</span>]=ltmp</span><br><span class="line">train_df[<span class="string">&#x27;htmp&#x27;</span>]=htmp</span><br><span class="line">train_df[<span class="string">&#x27;weather1&#x27;</span>]=weather1</span><br><span class="line">train_df[<span class="string">&#x27;weather2&#x27;</span>]=weather2</span><br><span class="line">city2=test_df[<span class="string">&#x27;city&#x27;</span>].tolist()</span><br><span class="line">ds2=test_df[<span class="string">&#x27;ds&#x27;</span>].tolist()</span><br><span class="line">ltmp2=[]</span><br><span class="line">htmp2=[]</span><br><span class="line">weather1=[]</span><br><span class="line">weather2=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">zip</span>(city2,ds2):</span><br><span class="line">    b=cityweather[cityweather[<span class="string">&#x27;ds&#x27;</span>]==i[<span class="number">1</span>]]</span><br><span class="line">    b= b[b[<span class="string">&#x27;city&#x27;</span>]==i[<span class="number">0</span>]]</span><br><span class="line">    ltmp2.append(b[<span class="string">&#x27;ltmp&#x27;</span>].to_list()[<span class="number">0</span>])</span><br><span class="line">    htmp2.append(b[<span class="string">&#x27;htmp&#x27;</span>].to_list()[<span class="number">0</span>])</span><br><span class="line">    weather1.append(b[<span class="string">&#x27;weather1&#x27;</span>].to_list()[<span class="number">0</span>])</span><br><span class="line">    weather2.append(b[<span class="string">&#x27;weather2&#x27;</span>].to_list()[<span class="number">0</span>]) </span><br><span class="line">test_df[<span class="string">&#x27;ltmp&#x27;</span>]=ltmp2</span><br><span class="line">test_df[<span class="string">&#x27;htmp&#x27;</span>]=htmp2</span><br><span class="line">test_df[<span class="string">&#x27;weather1&#x27;</span>]=weather1</span><br><span class="line">test_df[<span class="string">&#x27;weather2&#x27;</span>]=weather2</span><br><span class="line">train_df[<span class="string">&#x27;flag&#x27;</span>] = train_df[<span class="string">&#x27;flag&#x27;</span>].<span class="built_in">map</span>(&#123;<span class="string">&#x27;A&#x27;</span>:<span class="number">0</span>,<span class="string">&#x27;B&#x27;</span>:<span class="number">1</span>&#125;)</span><br><span class="line">test_df[<span class="string">&#x27;flag&#x27;</span>] = test_df[<span class="string">&#x27;flag&#x27;</span>].<span class="built_in">map</span>(&#123;<span class="string">&#x27;A&#x27;</span>:<span class="number">0</span>,<span class="string">&#x27;B&#x27;</span>:<span class="number">1</span>&#125;)</span><br><span class="line">lcity=<span class="built_in">list</span>(<span class="built_in">set</span>(train_df[<span class="string">&#x27;city&#x27;</span>]))</span><br><span class="line">citymap=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(lcity)):</span><br><span class="line">    citymap[lcity[i]]=i</span><br><span class="line">    </span><br><span class="line">lweather=<span class="built_in">list</span>(<span class="built_in">set</span>(train_df[<span class="string">&#x27;weather1&#x27;</span>].tolist()+train_df[<span class="string">&#x27;weather2&#x27;</span>].tolist()))</span><br><span class="line">weathermap=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(lweather)):</span><br><span class="line">    weathermap[lweather[i]]=i</span><br><span class="line">train_df[<span class="string">&#x27;city&#x27;</span>] = train_df[<span class="string">&#x27;city&#x27;</span>].<span class="built_in">map</span>(citymap)</span><br><span class="line">test_df[<span class="string">&#x27;city&#x27;</span>] = test_df[<span class="string">&#x27;city&#x27;</span>].<span class="built_in">map</span>(citymap)</span><br><span class="line">train_df[<span class="string">&#x27;weatherA&#x27;</span>] = train_df[<span class="string">&#x27;weather1&#x27;</span>].<span class="built_in">map</span>(weathermap)</span><br><span class="line">test_df[<span class="string">&#x27;weatherA&#x27;</span>] = test_df[<span class="string">&#x27;weather1&#x27;</span>].<span class="built_in">map</span>(weathermap)</span><br><span class="line">train_df[<span class="string">&#x27;weatherB&#x27;</span>] = train_df[<span class="string">&#x27;weather2&#x27;</span>].<span class="built_in">map</span>(weathermap)</span><br><span class="line">test_df[<span class="string">&#x27;weatherB&#x27;</span>] = test_df[<span class="string">&#x27;weather2&#x27;</span>].<span class="built_in">map</span>(weathermap)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_time_feature</span>(<span class="params">df, col</span>):</span><br><span class="line">    </span><br><span class="line">    df_copy = df.copy()</span><br><span class="line">    prefix = col + <span class="string">&quot;_&quot;</span></span><br><span class="line">    df_copy[<span class="string">&#x27;new_&#x27;</span>+col] = df_copy[col].astype(<span class="built_in">str</span>)</span><br><span class="line">    </span><br><span class="line">    col = <span class="string">&#x27;new_&#x27;</span>+col</span><br><span class="line">    df_copy[col] = pd.to_datetime(df_copy[col], <span class="built_in">format</span>=<span class="string">&#x27;%Y%m%d&#x27;</span>)</span><br><span class="line">    df_copy[prefix + <span class="string">&#x27;year&#x27;</span>] = df_copy[col].dt.year</span><br><span class="line">    df_copy[prefix + <span class="string">&#x27;month&#x27;</span>] = df_copy[col].dt.month</span><br><span class="line">    df_copy[prefix + <span class="string">&#x27;day&#x27;</span>] = df_copy[col].dt.day</span><br><span class="line">    <span class="comment"># df_copy[prefix + &#x27;weekofyear&#x27;] = df_copy[col].dt.weekofyear</span></span><br><span class="line">    df_copy[prefix + <span class="string">&#x27;dayofweek&#x27;</span>] = df_copy[col].dt.dayofweek</span><br><span class="line">    df_copy[prefix + <span class="string">&#x27;is_wknd&#x27;</span>] = df_copy[col].dt.dayofweek // <span class="number">6</span></span><br><span class="line">    df_copy[prefix + <span class="string">&#x27;quarter&#x27;</span>] = df_copy[col].dt.quarter</span><br><span class="line">    df_copy[prefix + <span class="string">&#x27;is_month_start&#x27;</span>] = df_copy[col].dt.is_month_start.astype(<span class="built_in">int</span>)</span><br><span class="line">    df_copy[prefix + <span class="string">&#x27;is_month_end&#x27;</span>] = df_copy[col].dt.is_month_end.astype(<span class="built_in">int</span>)</span><br><span class="line">    <span class="keyword">del</span> df_copy[col]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> df_copy   </span><br><span class="line">    </span><br><span class="line">train_df = get_time_feature(train_df, <span class="string">&#x27;ds&#x27;</span>)</span><br><span class="line">test_df = get_time_feature(test_df, <span class="string">&#x27;ds&#x27;</span>)</span><br><span class="line"><span class="keyword">del</span> train_df[<span class="string">&#x27;weather1&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> train_df[<span class="string">&#x27;weather2&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> test_df[<span class="string">&#x27;weather1&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> test_df[<span class="string">&#x27;weather2&#x27;</span>]</span><br><span class="line">train_df.to_csv(<span class="string">&#x27;train_df.csv&#x27;</span>,index=<span class="string">&#x27;False&#x27;</span>,encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">test_df.to_csv(<span class="string">&#x27;test_df.csv&#x27;</span>,index=<span class="string">&#x27;False&#x27;</span>,encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é€šè¿‡é™„è¿‘çš„å€¼å¡«å……ç¼ºå¤±å€¼</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fillmy</span>(<span class="params">x,y</span>):</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(y)):</span><br><span class="line">       </span><br><span class="line">   </span><br><span class="line">       </span><br><span class="line">        id1= y[<span class="string">&#x27;id_encode&#x27;</span>][i]</span><br><span class="line">        <span class="keyword">if</span>  np.isnan(y[x][i]):<span class="comment">#if y[x][i]!=0.0 and y[x][i]!=np.NaN:</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> i-<span class="number">1</span>&gt;<span class="number">0</span>:</span><br><span class="line">               </span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span>(np.isnan(y[x][i-<span class="number">1</span>])) <span class="keyword">and</span> id1==y[<span class="string">&#x27;id_encode&#x27;</span>][i-<span class="number">1</span>]:</span><br><span class="line">                   </span><br><span class="line">                    y[x][i]= y[x][i-<span class="number">1</span>]</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> i+<span class="number">1</span>&lt;<span class="built_in">len</span>(y) :</span><br><span class="line">              </span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span>(np.isnan(y[x][i+<span class="number">1</span>])) <span class="keyword">and</span> id1==y[<span class="string">&#x27;id_encode&#x27;</span>][i+<span class="number">1</span>]:</span><br><span class="line">                   </span><br><span class="line">                    y[x][i]= y[x][i+<span class="number">1</span>]</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span>  np.isnan(y[x][i]):</span><br><span class="line">            y[x][i]=np.mean([t <span class="keyword">for</span> t <span class="keyword">in</span>  y[x][y[<span class="string">&#x27;id_encode&#x27;</span>] == id1] <span class="keyword">if</span> <span class="keyword">not</span> np.isnan(i)])</span><br><span class="line">        <span class="comment">#print(id1, &quot; &quot;,y[x][i])</span></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºç¼ºå¤±å€¼</span></span><br><span class="line">train_null_index=[i <span class="keyword">for</span> i <span class="keyword">in</span> (train_df.columns).tolist() <span class="keyword">if</span> <span class="built_in">sum</span>(train_df[i].isnull())&gt;<span class="number">0</span>]</span><br><span class="line">[(i,<span class="built_in">sum</span>(train_df[i].isnull())) <span class="keyword">for</span> i <span class="keyword">in</span> (train_df.columns).tolist()]</span><br><span class="line"><span class="comment">#æ˜¾ç¤ºç¼ºå¤±å€¼</span></span><br><span class="line">test_null_index=[i <span class="keyword">for</span> i <span class="keyword">in</span> (test_df.columns).tolist() <span class="keyword">if</span> <span class="built_in">sum</span>(test_df[i].isnull())&gt;<span class="number">0</span>]</span><br><span class="line">[(i,<span class="built_in">sum</span>(test_df[i].isnull())) <span class="keyword">for</span> i <span class="keyword">in</span> (test_df.columns).tolist()]</span><br><span class="line">[fillmy(i,train_df) <span class="keyword">for</span> i <span class="keyword">in</span> train_null_index]</span><br><span class="line">[fillmy(i,test_df) <span class="keyword">for</span> i <span class="keyword">in</span> test_null_index]</span><br><span class="line">train_df.to_csv(<span class="string">&#x27;train_df_fill.csv&#x27;</span>,index=<span class="string">&#x27;False&#x27;</span>,encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">test_df.to_csv(<span class="string">&#x27;test_df_fill.csv&#x27;</span>,index=<span class="string">&#x27;False&#x27;</span>,encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="æ¨¡å‹è®­ç»ƒ">æ¨¡å‹è®­ç»ƒ</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_model</span>(<span class="params">clf, train_x, train_y, test_x,params, folds = <span class="number">3</span>,n_iter=<span class="number">3000</span>,seed=<span class="number">2023</span></span>):</span><br><span class="line">    <span class="comment"># å®šä¹‰æŠ˜æ•°å¹¶åˆå§‹åŒ–KFold</span></span><br><span class="line">    <span class="comment">#folds = 3</span></span><br><span class="line">    kf = KFold(n_splits=folds, shuffle=<span class="literal">True</span>, random_state=seed)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–oofé¢„æµ‹å’Œæµ‹è¯•é›†é¢„æµ‹</span></span><br><span class="line">    oof = np.zeros(train_x.shape[<span class="number">0</span>])</span><br><span class="line">    test_predict = np.zeros(test_x.shape[<span class="number">0</span>])</span><br><span class="line">    cv_scores = []</span><br><span class="line">    cv_scores2 = []</span><br><span class="line">    <span class="comment"># KFoldäº¤å‰éªŒè¯</span></span><br><span class="line">    <span class="keyword">for</span> i, (train_index, valid_index) <span class="keyword">in</span> <span class="built_in">enumerate</span>(kf.split(train_x, train_y)):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;************************************ &#123;&#125; ************************************&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">str</span>(i+<span class="number">1</span>)))</span><br><span class="line">        trn_x, trn_y, val_x, val_y = train_x.iloc[train_index], train_y[train_index], train_x.iloc[valid_index], train_y[valid_index]</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è½¬æ¢æ•°æ®ä¸ºlightgbmæ•°æ®æ ¼å¼</span></span><br><span class="line">        train_matrix = clf.Dataset(trn_x, label=trn_y)</span><br><span class="line">        valid_matrix = clf.Dataset(val_x, label=val_y)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å®šä¹‰lightgbmå‚æ•°</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">        model = clf.train(params, train_matrix, n_iter, valid_sets=[train_matrix, valid_matrix], categorical_feature=[])</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è·å–éªŒè¯å’Œæµ‹è¯•é›†çš„é¢„æµ‹å€¼</span></span><br><span class="line">        val_pred = model.predict(val_x, num_iteration=model.best_iteration)</span><br><span class="line">        test_pred = model.predict(test_x, num_iteration=model.best_iteration)</span><br><span class="line">        </span><br><span class="line">        oof[valid_index] = val_pred</span><br><span class="line">        test_predict += test_pred / kf.n_splits</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è®¡ç®—å¹¶æ‰“å°å½“å‰æŠ˜çš„åˆ†æ•°</span></span><br><span class="line">        score = np.sqrt(mean_squared_error(val_pred, val_y))</span><br><span class="line">        cv_scores.append(score)</span><br><span class="line">        </span><br><span class="line">       </span><br><span class="line">        score2 = np.sqrt(mean_squared_error(train_pred, trn_y))</span><br><span class="line">        cv_scores2.append(score2)</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">print</span>(cv_scores)</span><br><span class="line">        <span class="built_in">print</span>(cv_scores2)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> oof, test_predict ,model</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨ä¸Šé¢çš„å‡½æ•°è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œé¢„æµ‹</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">params = &#123;</span><br><span class="line">            <span class="string">&#x27;boosting_type&#x27;</span>: <span class="string">&#x27;dart&#x27;</span>,<span class="comment">#&#x27;gbdt&#x27;,</span></span><br><span class="line">            <span class="string">&#x27;objective&#x27;</span>: <span class="string">&#x27;regression&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;metric&#x27;</span>: <span class="string">&#x27;rmse&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;min_child_weight&#x27;</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">&#x27;num_leaves&#x27;</span>: <span class="number">2</span> ** <span class="number">8</span>,</span><br><span class="line">            <span class="string">&#x27;lambda_l2&#x27;</span>: <span class="number">10</span>,</span><br><span class="line">            <span class="string">&#x27;feature_fraction&#x27;</span>: <span class="number">0.8</span>,</span><br><span class="line">            <span class="string">&#x27;bagging_fraction&#x27;</span>: <span class="number">0.8</span>,</span><br><span class="line">            <span class="string">&#x27;bagging_freq&#x27;</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="string">&#x27;learning_rate&#x27;</span>: <span class="number">0.1</span>,</span><br><span class="line">            <span class="string">&#x27;seed&#x27;</span>: <span class="number">2023</span>,</span><br><span class="line">            <span class="string">&#x27;nthread&#x27;</span> : <span class="number">16</span>,</span><br><span class="line">            <span class="string">&#x27;verbose&#x27;</span> : -<span class="number">1</span>,</span><br><span class="line">          <span class="string">&#x27;drop_rate&#x27;</span>:<span class="number">0.8</span>,</span><br><span class="line">        <span class="string">&#x27;skip_drop&#x27;</span>:<span class="number">0.7</span>,</span><br><span class="line">    <span class="string">&#x27;max_drop&#x27;</span>:<span class="number">5</span>,</span><br><span class="line">    <span class="string">&#x27;uniform_drop&#x27;</span>:<span class="literal">False</span>,</span><br><span class="line">    <span class="string">&#x27;xgboost_dart_mode&#x27;</span>:<span class="literal">True</span>,</span><br><span class="line">    <span class="string">&#x27;drop_seed&#x27;</span>:<span class="number">4</span>,</span><br><span class="line">            <span class="string">&#x27;device&#x27;</span>:<span class="string">&#x27;gpu&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">cols = [f <span class="keyword">for</span> f <span class="keyword">in</span> test_df.columns <span class="keyword">if</span> f <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&#x27;ds&#x27;</span>,<span class="string">&#x27;power&#x27;</span>,<span class="string">&#x27;h3&#x27;</span>,<span class="string">&#x27;f3&#x27;</span>,<span class="string">&#x27;ser_price&#x27;</span>,<span class="string">&#x27;newf1&#x27;</span>,<span class="string">&#x27;newf2&#x27;</span>]];</span><br><span class="line">lgb_oof, lgb_test = cv_model(lgb, train_df[cols], train_df[<span class="string">&#x27;power&#x27;</span>], test_df[cols],params)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test_df[<span class="string">&#x27;power&#x27;</span>] = lgb_test</span><br><span class="line">test_df[<span class="string">&#x27;power&#x27;</span>] = test_df[<span class="string">&#x27;power&#x27;</span>].apply(<span class="keyword">lambda</span> x: <span class="number">0</span> <span class="keyword">if</span> x&lt;<span class="number">0</span> <span class="keyword">else</span> x)</span><br><span class="line">test_df[[<span class="string">&#x27;id_encode&#x27;</span>,<span class="string">&#x27;ds&#x27;</span>,<span class="string">&#x27;power&#x27;</span>]].to_csv(<span class="string">&#x27;result.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p>æœå¯»å‚æ•°çš„ä»£ç </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">median_absolute_percentage_error</span>(<span class="params">y_true,y_pred</span>):</span><br><span class="line">    <span class="keyword">return</span> np.median(np.<span class="built_in">abs</span>((y_pred-y_true)/y_true))</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">RMSE</span>(<span class="params">y_true,y_pred</span>):</span><br><span class="line">    <span class="keyword">return</span> np.sqrt(mean_squared_error(y_true,y_pred))</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> RandomizedSearchCV</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> make_scorer</span><br><span class="line"></span><br><span class="line">neg_median_absolute_percentage_error=make_scorer(RMSE,<span class="comment">#median_absolute_percentage_error</span></span><br><span class="line">                                                 greater_is_better=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(time.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime()),<span class="string">&#x27;å¼€å§‹RandomizedSearchCV&#x27;</span>)</span><br><span class="line">model_lgb = lgb.LGBMRegressor(objective=<span class="string">&#x27;regression&#x27;</span>,<span class="comment">#&#x27;regression_l1&#x27;,</span></span><br><span class="line">                              metric= <span class="string">&#x27;rmse&#x27;</span>,<span class="comment">#&#x27;quantile&#x27;,</span></span><br><span class="line">                              <span class="comment">#learning_rate=0.05,</span></span><br><span class="line">                               bagging_freq=<span class="number">4</span>,boosting_type= <span class="string">&#x27;dart&#x27;</span>,verbose= -<span class="number">1</span>,</span><br><span class="line"><span class="comment">#            &#x27;drop_rate&#x27;:0.9,</span></span><br><span class="line"><span class="comment">#         &#x27;skip_drop&#x27;:0.7,</span></span><br><span class="line"><span class="comment">#     &#x27;max_drop&#x27;:5,</span></span><br><span class="line">    uniform_drop=<span class="literal">False</span>,</span><br><span class="line">    xgboost_dart_mode=<span class="literal">True</span>,</span><br><span class="line">    drop_seed=<span class="number">4</span>,</span><br><span class="line">            device=<span class="string">&#x27;gpu&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                             <span class="comment"># subsample_freq = 5)</span></span><br><span class="line">param_distributions=&#123;</span><br><span class="line">    <span class="string">&#x27;max_depth&#x27;</span>:[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>],</span><br><span class="line">    <span class="string">&#x27;num_leaves&#x27;</span>:<span class="built_in">range</span>(<span class="number">20</span>,<span class="number">60</span>,<span class="number">3</span>),</span><br><span class="line">    <span class="comment">#&#x27;subsample&#x27;: [0.7,0.8,0.9],</span></span><br><span class="line">    <span class="comment">#&#x27;colsample_bytree&#x27;: [0.7,0.8,0.9],</span></span><br><span class="line">    <span class="comment">#&#x27;reg_alpha&#x27;: [0, 0.001, 0.01, 0.03, 0.08, 0.3],</span></span><br><span class="line">    <span class="comment">#&#x27;reg_lambda&#x27;: [0, 0.001, 0.01, 0.03, 0.08, 0.3]</span></span><br><span class="line">    <span class="string">&#x27;learning_rate&#x27;</span>:[<span class="number">0.1</span>,<span class="number">0.05</span>,<span class="number">0.01</span>],</span><br><span class="line">    <span class="string">&#x27;min_child_weight&#x27;</span>: [<span class="number">5</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>,<span class="number">80</span>,<span class="number">150</span>],</span><br><span class="line">    <span class="string">&#x27;lambda_l2&#x27;</span>: <span class="built_in">range</span>(<span class="number">20</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">    <span class="string">&#x27;feature_fraction&#x27;</span>: [<span class="number">0.5</span>,<span class="number">0.6</span>,<span class="number">0.7</span>,<span class="number">0.8</span>,<span class="number">0.9</span>],</span><br><span class="line">            <span class="string">&#x27;bagging_fraction&#x27;</span>: [<span class="number">0.5</span>,<span class="number">0.6</span>,<span class="number">0.7</span>,<span class="number">0.8</span>,<span class="number">0.9</span>],</span><br><span class="line">    <span class="string">&#x27;drop_rate&#x27;</span>:np.arange(<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">0.1</span>),</span><br><span class="line">    <span class="string">&#x27;skip_drop&#x27;</span>:np.arange(<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">0.1</span>),</span><br><span class="line">      <span class="string">&#x27;max_drop&#x27;</span>:[<span class="number">5</span>,<span class="number">10</span>,<span class="number">15</span>,<span class="number">30</span>,<span class="number">100</span>],</span><br><span class="line">&#125;</span><br><span class="line">search = RandomizedSearchCV(estimator=model_lgb,</span><br><span class="line">                            n_iter=<span class="number">500</span>,</span><br><span class="line">                            param_distributions=param_distributions,</span><br><span class="line">                            scoring=neg_median_absolute_percentage_error,<span class="comment">#neg_mean_absolute_percentage_error,</span></span><br><span class="line">                            cv=<span class="number">3</span>,</span><br><span class="line">                            verbose=<span class="number">1</span>,</span><br><span class="line">                            n_jobs=-<span class="number">1</span>,</span><br><span class="line">                            random_state=<span class="number">0</span>)</span><br><span class="line">cols = [f <span class="keyword">for</span> f <span class="keyword">in</span> test_df.columns <span class="keyword">if</span> f <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&#x27;ds&#x27;</span>,<span class="string">&#x27;power&#x27;</span>,<span class="string">&#x27;h3&#x27;</span>,<span class="string">&#x27;f3&#x27;</span>,<span class="string">&#x27;ser_price&#x27;</span>,<span class="string">&#x27;newf1&#x27;</span>,<span class="string">&#x27;newf2&#x27;</span>]];</span><br><span class="line">X,y=train_df[cols], train_df[<span class="string">&#x27;power&#x27;</span>]</span><br><span class="line">search.fit(X, y)</span><br><span class="line"><span class="built_in">print</span>(time.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime()),<span class="string">&#x27;å®ŒæˆRandomizedSearchCV&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Best parameters found by grid search are:&#x27;</span>, search.best_params_)</span><br></pre></td></tr></table></figure>
<p>æ¥è‡ª<a
href="https://blog.csdn.net/m0_68165821/article/details/133887643">åˆ«äººçš„ç¬”è®°</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç›¸å¯¹æ—¶é—´å·®ç‰¹å¾</span></span><br><span class="line">df[<span class="string">&#x27;diff_from_start&#x27;</span>] = (df_copy[col] - df_copy[col].iloc[<span class="number">0</span>]).dt.days</span><br><span class="line">df[<span class="string">&#x27;diff_to_end&#x27;</span>] = (df_copy[col].iloc[-<span class="number">1</span>] - df_copy[col]).dt.days</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ„å»ºäº†å†å²å¹³ç§»ç‰¹å¾ã€å·®åˆ†ç‰¹å¾ã€å’Œçª—å£ç»Ÿè®¡ç‰¹å¾<br />
ï¼ˆ1ï¼‰å†å²å¹³ç§»ç‰¹å¾ï¼šé€šè¿‡å†å²å¹³ç§»è·å–ä¸Šä¸ªé˜¶æ®µçš„ä¿¡æ¯ï¼›</p>
<p>ï¼ˆ2ï¼‰å·®åˆ†ç‰¹å¾ï¼šå¯ä»¥å¸®åŠ©è·å–ç›¸é‚»é˜¶æ®µçš„å¢é•¿å·®å¼‚ï¼Œæè¿°æ•°æ®çš„æ¶¨å‡å˜åŒ–æƒ…å†µã€‚åœ¨æ­¤åŸºç¡€ä¸Šè¿˜å¯ä»¥æ„å»ºç›¸é‚»æ•°æ®æ¯”å€¼å˜åŒ–ã€äºŒé˜¶å·®åˆ†ç­‰ï¼›</p>
<p>ï¼ˆ3ï¼‰çª—å£ç»Ÿè®¡ç‰¹å¾ï¼šçª—å£ç»Ÿè®¡å¯ä»¥æ„å»ºä¸åŒçš„çª—å£å¤§å°ï¼Œç„¶ååŸºäºçª—å£èŒƒå›´è¿›ç»Ÿè®¡å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ã€ä¸­ä½æ•°ã€æ–¹å·®çš„ä¿¡æ¯ï¼Œå¯ä»¥åæ˜ æœ€è¿‘é˜¶æ®µæ•°æ®çš„å˜åŒ–æƒ…å†µã€‚<br />
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€ŒUnicornlyyã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0
BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br />
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/m0_68165821/article/details/133887643</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆå¹¶è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®</span></span><br><span class="line">df = pd.concat([train_df, test_df], axis=<span class="number">0</span>).reset_index(drop=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†å²å¹³ç§»</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">7</span>,<span class="number">36</span>):</span><br><span class="line">    df[<span class="string">f&#x27;power_shift<span class="subst">&#123;i&#125;</span>&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power&#x27;</span>].shift(i)</span><br><span class="line">    window_size = <span class="number">7</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å†å²å¹³ç§» + å·®åˆ†ç‰¹å¾</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>):</span><br><span class="line">    df[<span class="string">f&#x27;power_shift7_diff<span class="subst">&#123;i&#125;</span>&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power_shift7&#x27;</span>].diff(i)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># çª—å£ç»Ÿè®¡</span></span><br><span class="line"><span class="keyword">for</span> win <span class="keyword">in</span> [<span class="number">7</span>,<span class="number">14</span>,<span class="number">28</span>,<span class="number">35</span>,<span class="number">50</span>,<span class="number">70</span>]:</span><br><span class="line">    df[<span class="string">f&#x27;power_win<span class="subst">&#123;win&#125;</span>_mean&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).mean().values</span><br><span class="line">    df[<span class="string">f&#x27;power_win<span class="subst">&#123;win&#125;</span>_median&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).median().values</span><br><span class="line">    df[<span class="string">f&#x27;power_win<span class="subst">&#123;win&#125;</span>_max&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).<span class="built_in">max</span>().values</span><br><span class="line">    df[<span class="string">f&#x27;power_win<span class="subst">&#123;win&#125;</span>_min&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).<span class="built_in">min</span>().values</span><br><span class="line">    df[<span class="string">f&#x27;power_win<span class="subst">&#123;win&#125;</span>_std&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).std().values</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†å²å¹³ç§» + çª—å£ç»Ÿè®¡</span></span><br><span class="line"><span class="keyword">for</span> win <span class="keyword">in</span> [<span class="number">7</span>,<span class="number">14</span>,<span class="number">28</span>,<span class="number">35</span>,<span class="number">50</span>,<span class="number">70</span>]:</span><br><span class="line">    df[<span class="string">f&#x27;power_shift7_win<span class="subst">&#123;win&#125;</span>_mean&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power_shift7&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).mean().values</span><br><span class="line">    df[<span class="string">f&#x27;power_win<span class="subst">&#123;win&#125;</span>_median&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).median().values</span><br><span class="line">    df[<span class="string">f&#x27;power_shift7_win<span class="subst">&#123;win&#125;</span>_max&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power_shift7&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).<span class="built_in">max</span>().values</span><br><span class="line">    df[<span class="string">f&#x27;power_shift7_win<span class="subst">&#123;win&#125;</span>_min&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power_shift7&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).<span class="built_in">min</span>().values</span><br><span class="line">    df[<span class="string">f&#x27;power_shift7_win<span class="subst">&#123;win&#125;</span>_sum&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power_shift7&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).<span class="built_in">sum</span>().values</span><br><span class="line">    df[<span class="string">f&#x27;power_shift7_win<span class="subst">&#123;win&#125;</span>_std&#x27;</span>] = df.groupby(<span class="string">&#x27;id_encode&#x27;</span>)[<span class="string">&#x27;power_shift7&#x27;</span>].rolling(window=win, min_periods=<span class="number">3</span>, closed=<span class="string">&#x27;left&#x27;</span>).std().values</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">############################ ç»˜å›¾å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_plot</span>(<span class="params">df, id_encode, start_date, end_date, predict=<span class="literal">False</span></span>): </span><br><span class="line">    <span class="comment"># ç»˜åˆ¶æŠ˜çº¿å›¾</span></span><br><span class="line">    fig = plt.figure(figsize=(<span class="number">20</span>,<span class="number">10</span>))</span><br><span class="line">    df = df.loc[(df[<span class="string">&#x27;ds&#x27;</span>] &gt;= start_date) &amp; (df[<span class="string">&#x27;ds&#x27;</span>] &lt;= end_date)]</span><br><span class="line">    <span class="keyword">if</span> id_encode &gt; -<span class="number">1</span>:</span><br><span class="line">        df = df.loc[df[<span class="string">&#x27;id_encode&#x27;</span>] == id_encode]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    df_power = df.groupby(by = <span class="string">&#x27;ds&#x27;</span>)[<span class="string">&#x27;power&#x27;</span>].<span class="built_in">sum</span>().reset_index()</span><br><span class="line">    plt.plot(pd.to_datetime(df_power[<span class="string">&#x27;ds&#x27;</span>], <span class="built_in">format</span>=<span class="string">&#x27;%Y%m%d&#x27;</span>), df_power[<span class="string">&#x27;power&#x27;</span>], color = <span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> predict == <span class="literal">True</span>:</span><br><span class="line">        df_power_pre = df.groupby(by = <span class="string">&#x27;ds&#x27;</span>)[<span class="string">&#x27;power_pre&#x27;</span>].<span class="built_in">sum</span>().reset_index()</span><br><span class="line">        plt.plot(pd.to_datetime(df_power_pre[<span class="string">&#x27;ds&#x27;</span>], <span class="built_in">format</span>=<span class="string">&#x27;%Y%m%d&#x27;</span>), df_power_pre[<span class="string">&#x27;power_pre&#x27;</span>], color = <span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">            </span><br><span class="line">    <span class="comment"># æ·»åŠ æ ‡é¢˜å’Œè½´æ ‡ç­¾</span></span><br><span class="line">    plt.title(<span class="string">&#x27;Power vs Date&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Date&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Power&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºå›¾å½¢</span></span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="lightgbm">LightGBM</h2>
<h2 id="æ•°æ®é¢„å¤„ç†">æ•°æ®é¢„å¤„ç†</h2>
<p>LightGBM
é’ˆå¯¹æ ·æœ¬å¤šçš„é—®é¢˜æå‡ºäº†<strong>åŸºäºæ¢¯åº¦çš„å•è¾¹é‡‡æ ·ç®—æ³•ï¼ˆGradient-based
One-Side
Samplingï¼ŒGOSSï¼‰</strong>ï¼›é’ˆå¯¹ç‰¹å¾å¤šçš„é—®é¢˜æå‡ºäº†<strong>äº’æ–¥ç‰¹å¾æ†ç»‘ç®—æ³•ï¼ˆExclusive
Feature Bundlingï¼ŒEFBï¼‰</strong></p>
<p>GOSS å¤„ç†å¤§æ¢¯åº¦æ•°æ®åœ¨åŠ ä¸ŠéšæœºæŠ½æ ·å¾—åˆ°çš„æ¢¯åº¦çš„æ•°æ®</p>
<p>EFB</p>
<p>å¯¹äºç¨€ç–çš„ç‰¹å¾åˆå¹¶ï¼ˆåˆå¹¶çš„ç‰¹å¾ç›¸åº”çš„åç§»ä¸€å®šé‡ ç›¸åŠ ï¼‰
å‡å°‘ç‰¹å¾é™ä½ç»´åº¦</p>
<p>ç›´æ–¹å›¾åŠ é€Ÿè¿ç®—</p>
<h2 id="å¤šæœºå¹¶è¡Œ">å¤šæœºå¹¶è¡Œ</h2>
<p>é€‰ä¸¾å¹¶è¡Œ</p>
<p>æ¯ä¸ª worker
æ‹¥æœ‰ä¸€éƒ¨åˆ†æ•°æ®çš„å…¨éƒ¨ç‰¹å¾ï¼Œå®ƒä»¬è¾“å‡ºå„è‡ªçš„å±€éƒ¨ç›´æ–¹å›¾ï¼Œç„¶åæ±‡æ€»æˆå…¨å±€ç›´æ–¹å›¾ï¼Œåœ¨å…¨å±€ç›´æ–¹å›¾ä¸Šæ‰¾å‡ºæœ€ä¼˜åˆ†è£‚ç‚¹ã€‚</p>
]]></content>
      <tags>
        <tag>æ—¶é—´åºåˆ—</tag>
        <tag>python</tag>
        <tag>LSTM</tag>
        <tag>RNN</tag>
        <tag>LightGBM</tag>
      </tags>
  </entry>
  <entry>
    <title>è‹¹æœç—…å®³å›¾åƒè¯†åˆ«æŒ‘æˆ˜èµ›</title>
    <url>/post/326483f6.html</url>
    <content><![CDATA[<p>ä¸€æ¬¡æ¯”èµ›è®°å½•</p>
<span id="more"></span>
<p>æ•°æ®ä¸‹è½½<a
href="https://challenge.xfyun.cn/topic/info?type=apple-diseases&amp;option=stsj&amp;ch=vWxQGFU">åœ°å€</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os, sys, glob, argparse</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment">#%matplotlib inline</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split, StratifiedKFold, KFold</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">torch.manual_seed(<span class="number">0</span>)</span><br><span class="line">torch.backends.cudnn.deterministic = <span class="literal">False</span></span><br><span class="line">torch.backends.cudnn.benchmark = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torchvision.models <span class="keyword">as</span> models</span><br><span class="line"><span class="keyword">import</span> torchvision.transforms <span class="keyword">as</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision.datasets <span class="keyword">as</span> datasets</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="comment">#from torch.utils.data.dataset import Dataset</span></span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="keyword">import</span> albumentations <span class="keyword">as</span> A</span><br><span class="line"></span><br><span class="line">train_path = glob.glob(<span class="string">&#x27;./è‹¹æœç—…å®³å›¾åƒè¯†åˆ«æŒ‘æˆ˜èµ›å…¬å¼€æ•°æ®/train/*/*&#x27;</span>)</span><br><span class="line">test_path = glob.glob(<span class="string">&#x27;./è‹¹æœç—…å®³å›¾åƒè¯†åˆ«æŒ‘æˆ˜èµ›å…¬å¼€æ•°æ®/test/*&#x27;</span>)</span><br><span class="line"></span><br><span class="line">np.random.shuffle(train_path)</span><br><span class="line">np.random.shuffle(test_path)</span><br><span class="line"></span><br><span class="line">DATA_CACHE = &#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">XunFeiDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="comment">#DATA_CACHE = &#123;&#125;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, img_path, transform=<span class="literal">None</span></span>):</span><br><span class="line">        self.img_path = img_path</span><br><span class="line">        <span class="keyword">if</span> transform <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            self.transform = transform</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.transform = <span class="literal">None</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line">    	</span><br><span class="line">        <span class="keyword">if</span> self.img_path[index] <span class="keyword">in</span> DATA_CACHE:</span><br><span class="line">            img = DATA_CACHE[self.img_path[index]]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment">#img = cv2.imread(self.img_path[index])</span></span><br><span class="line">            img = cv2.imdecode(np.fromfile(self.img_path[index], dtype=np.uint8), -<span class="number">1</span>)<span class="comment">#ä¸­æ–‡è·¯å¾„è¯»å–</span></span><br><span class="line">            <span class="comment"># imdecodeè¯»å–çš„æ˜¯rgbï¼Œå¦‚æœåç»­éœ€è¦opencvå¤„ç†çš„è¯ï¼Œéœ€è¦è½¬æ¢æˆbgrï¼Œè½¬æ¢åå›¾ç‰‡é¢œè‰²ä¼šå˜åŒ–</span></span><br><span class="line">            <span class="comment">#img = cv2.cvtColor(img, cv2.COLOR_RGB2BGR)ä½†æ˜¯æµ‹è¯•ç»“æœæ˜¯è¯»å–ä¸ºbgræ‰€ä»¥ä¸ç”¨è½¬æ¢</span></span><br><span class="line">            DATA_CACHE[self.img_path[index]] = img</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#print(self.img_path[index].split(&#x27;\\&#x27;)[1])</span></span><br><span class="line">        <span class="keyword">if</span> self.transform <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            img = self.transform(image = img)[<span class="string">&#x27;image&#x27;</span>]</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> self.img_path[index].split(<span class="string">&#x27;\\&#x27;</span>)[<span class="number">1</span>] <span class="keyword">in</span> [<span class="string">&#x27;d1&#x27;</span>, <span class="string">&#x27;d2&#x27;</span>, <span class="string">&#x27;d3&#x27;</span>, <span class="string">&#x27;d4&#x27;</span>, <span class="string">&#x27;d5&#x27;</span>, <span class="string">&#x27;d6&#x27;</span>, <span class="string">&#x27;d7&#x27;</span>, <span class="string">&#x27;d8&#x27;</span>, <span class="string">&#x27;d9&#x27;</span>]:</span><br><span class="line">        <span class="comment">#if self.img_path[index].split(&#x27;/&#x27;)[-2] in [&#x27;d1&#x27;, &#x27;d2&#x27;, &#x27;d3&#x27;, &#x27;d4&#x27;, &#x27;d5&#x27;, &#x27;d6&#x27;, &#x27;d7&#x27;, &#x27;d8&#x27;, &#x27;d9&#x27;]:</span></span><br><span class="line">            label = [<span class="string">&#x27;d1&#x27;</span>, <span class="string">&#x27;d2&#x27;</span>, <span class="string">&#x27;d3&#x27;</span>, <span class="string">&#x27;d4&#x27;</span>, <span class="string">&#x27;d5&#x27;</span>, <span class="string">&#x27;d6&#x27;</span>, <span class="string">&#x27;d7&#x27;</span>, <span class="string">&#x27;d8&#x27;</span>, <span class="string">&#x27;d9&#x27;</span>].index(self.img_path[index].split(<span class="string">&#x27;\\&#x27;</span>)[<span class="number">1</span>])<span class="comment">#.split(&#x27;/&#x27;)[-2])</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            label = -<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        img = img.transpose([<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> img, torch.from_numpy(np.array(label))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.img_path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">XunFeiNet</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,l=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(XunFeiNet, self).__init__()</span><br><span class="line">                </span><br><span class="line">        model = models.resnet18(weights=models.ResNet18_Weights.DEFAULT)<span class="comment">#(True)</span></span><br><span class="line">        model.avgpool = nn.AdaptiveAvgPool2d(<span class="number">1</span>)</span><br><span class="line">        model.fc = nn.Linear(<span class="number">512</span>, <span class="number">9</span>)</span><br><span class="line">        <span class="keyword">if</span> l!=<span class="literal">None</span>:</span><br><span class="line">            model=model.load_state_dict(torch.load(<span class="string">&#x27;model1.pth&#x27;</span>))</span><br><span class="line">        self.resnet = model</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, img</span>):        </span><br><span class="line">        out = self.resnet(img)</span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">train</span>(<span class="params">train_loader, model, criterion, optimizer</span>):</span><br><span class="line">    model.train()</span><br><span class="line">    train_loss = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> i, (x, target) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader):</span><br><span class="line">        x = x.cuda(non_blocking=<span class="literal">True</span>)</span><br><span class="line">        target=target.<span class="built_in">float</span>()</span><br><span class="line">        target = target.cuda(non_blocking=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># compute output</span></span><br><span class="line">        output = model(x)</span><br><span class="line">        loss = criterion(output, target.long())</span><br><span class="line"></span><br><span class="line">        <span class="comment"># compute gradient and do SGD step</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> i % <span class="number">20</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Train loss&#x27;</span>, loss.item())</span><br><span class="line">            </span><br><span class="line">        train_loss += loss.item()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> train_loss/<span class="built_in">len</span>(train_loader)</span><br><span class="line">            </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">validate</span>(<span class="params">val_loader, model, criterion</span>):</span><br><span class="line">    model.<span class="built_in">eval</span>()</span><br><span class="line">    </span><br><span class="line">    val_acc = <span class="number">0.0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        end = time.time()</span><br><span class="line">        <span class="keyword">for</span> i, (x, target) <span class="keyword">in</span> <span class="built_in">enumerate</span>(val_loader):</span><br><span class="line">            x = x.cuda()</span><br><span class="line">            target=target.<span class="built_in">float</span>()</span><br><span class="line">            target = target.cuda()</span><br><span class="line"></span><br><span class="line">            <span class="comment"># compute output</span></span><br><span class="line">            output = model(x)</span><br><span class="line">            loss = criterion(output, target.long())</span><br><span class="line">            </span><br><span class="line">            val_acc += (output.argmax(<span class="number">1</span>) == target).<span class="built_in">sum</span>().item()</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">return</span> val_acc / <span class="built_in">len</span>(val_loader.dataset)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">test_loader, model, criterion</span>):</span><br><span class="line">    model.<span class="built_in">eval</span>()</span><br><span class="line">    val_acc = <span class="number">0.0</span></span><br><span class="line">    </span><br><span class="line">    test_pred = []</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        end = time.time()</span><br><span class="line">        <span class="keyword">for</span> i, (x, target) <span class="keyword">in</span> <span class="built_in">enumerate</span>(test_loader):</span><br><span class="line">            x = x.cuda()</span><br><span class="line">            target=target.<span class="built_in">float</span>()</span><br><span class="line">            target = target.cuda()</span><br><span class="line"></span><br><span class="line">            <span class="comment"># compute output</span></span><br><span class="line">            output = model(x)</span><br><span class="line">            test_pred.append(output.data.cpu().numpy())</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">return</span> np.vstack(test_pred)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train_loader = torch.utils.data.DataLoader(</span><br><span class="line">    XunFeiDataset(train_path[:-<span class="number">1000</span>],</span><br><span class="line">            A.Compose([</span><br><span class="line">            A.RandomRotate90(),</span><br><span class="line">            A.Resize(<span class="number">256</span>, <span class="number">256</span>),</span><br><span class="line">            A.RandomCrop(<span class="number">224</span>, <span class="number">224</span>),</span><br><span class="line">            A.HorizontalFlip(p=<span class="number">0.5</span>),</span><br><span class="line">            A.RandomBrightnessContrast(p=<span class="number">0.5</span>),<span class="comment">#A.RandomContrast(p=0.5),</span></span><br><span class="line">            A.RandomBrightnessContrast(p=<span class="number">0.5</span>),</span><br><span class="line">            A.Normalize(mean=(<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>), std=(<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>))</span><br><span class="line">        ])</span><br><span class="line">    ), batch_size=<span class="number">30</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">4</span><span class="comment">#, pin_memory=False</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">val_loader = torch.utils.data.DataLoader(</span><br><span class="line">    XunFeiDataset(train_path[-<span class="number">1000</span>:],</span><br><span class="line">            A.Compose([</span><br><span class="line">            A.Resize(<span class="number">256</span>, <span class="number">256</span>),</span><br><span class="line">            A.RandomCrop(<span class="number">224</span>, <span class="number">224</span>),</span><br><span class="line">            <span class="comment"># A.HorizontalFlip(p=0.5),</span></span><br><span class="line">            <span class="comment"># A.RandomContrast(p=0.5),</span></span><br><span class="line">            A.Normalize(mean=(<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>), std=(<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>))</span><br><span class="line">        ])</span><br><span class="line">    ), batch_size=<span class="number">30</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">4</span><span class="comment">#, pin_memory=False</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">test_loader = torch.utils.data.DataLoader(</span><br><span class="line">    XunFeiDataset(test_path,</span><br><span class="line">            A.Compose([</span><br><span class="line">            A.Resize(<span class="number">256</span>, <span class="number">256</span>),</span><br><span class="line">            A.RandomCrop(<span class="number">224</span>, <span class="number">224</span>),</span><br><span class="line">            A.HorizontalFlip(p=<span class="number">0.5</span>),</span><br><span class="line">            A.RandomBrightnessContrast(p=<span class="number">0.5</span>),<span class="comment">#RandomContrast(p=0.5),</span></span><br><span class="line">            A.Normalize(mean=(<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>), std=(<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>))</span><br><span class="line">        ])</span><br><span class="line">    ), batch_size=<span class="number">2</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">4</span><span class="comment">#, pin_memory=False</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">model = XunFeiNet()</span><br><span class="line"></span><br><span class="line">model = model.to(<span class="string">&#x27;cuda&#x27;</span>)</span><br><span class="line">criterion = nn.CrossEntropyLoss().cuda()</span><br><span class="line">optimizer = torch.optim.AdamW(model.parameters(), <span class="number">0.00005</span>)<span class="comment">#0.001)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">	<span class="keyword">for</span> i  <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">		<span class="built_in">print</span>(i,<span class="string">&#x27;å¼€å§‹&#x27;</span>)</span><br><span class="line">		train_loss = train(train_loader, model, criterion, optimizer)</span><br><span class="line">		val_acc  = validate(val_loader, model, criterion)</span><br><span class="line">		train_acc = validate(train_loader, model, criterion)</span><br><span class="line"></span><br><span class="line">		<span class="built_in">print</span>(train_loss, train_acc, val_acc)</span><br><span class="line">	torch.save(model.state_dict(), <span class="string">&#x27;model1.pth&#x27;</span>)</span><br><span class="line">	pred = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">		<span class="keyword">if</span> pred <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">			pred = predict(test_loader, model, criterion)</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			pred += predict(test_loader, model, criterion)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	submit = pd.DataFrame(</span><br><span class="line">    	&#123;</span><br><span class="line">        	<span class="string">&#x27;uuid&#x27;</span>: [(x.split(<span class="string">&quot;\\&quot;</span>)[-<span class="number">1</span>]).split(<span class="string">&quot;/&quot;</span>)[-<span class="number">1</span>] <span class="keyword">for</span> x <span class="keyword">in</span> test_path],</span><br><span class="line">        	<span class="string">&#x27;label&#x27;</span>: [[<span class="string">&#x27;d1&#x27;</span>, <span class="string">&#x27;d2&#x27;</span>, <span class="string">&#x27;d3&#x27;</span>, <span class="string">&#x27;d4&#x27;</span>, <span class="string">&#x27;d5&#x27;</span>, <span class="string">&#x27;d6&#x27;</span>, <span class="string">&#x27;d7&#x27;</span>, <span class="string">&#x27;d8&#x27;</span>, <span class="string">&#x27;d9&#x27;</span>][x] <span class="keyword">for</span> x <span class="keyword">in</span> pred.argmax(<span class="number">1</span>)]</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	submit = submit.sort_values(by=<span class="string">&#x27;uuid&#x27;</span>)</span><br><span class="line">	submit.to_csv(<span class="string">&#x27;submit1.csv&#x27;</span>, index=<span class="literal">None</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>é‚£äº›å¹´æˆ‘åšè¿‡çš„èœï¼ˆæŒç»­æ›´æ–°ï¼‰</title>
    <url>/post/%E2%80%980%E2%80%99.html</url>
    <content><![CDATA[<p><img
src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/default_cover5.jpg" /></p>
<h1 id="ä¸€äº›èœè°±å’Œå›¾ç‰‡">ä¸€äº›èœè°±å’Œå›¾ç‰‡</h1>
<span id="more"></span>
<h2 id="æŠ¹èŒ¶èŠå£«å°è›‹ç³•-6ä¸ª">æŠ¹èŒ¶èŠå£«å°è›‹ç³• 6ä¸ª</h2>
<p><a
href="https://www.bilibili.com/video/BV1J8411J7Vz/?spm_id_from=333.999.0.0">å‚è€ƒè§†é¢‘</a></p>
<ul>
<li><p>å¥¶æ²¹å¥¶é…ª 200g å¾®æ³¢ç‚‰10 s è‡³è½¯ä¹</p></li>
<li><p>åŠ å…¥ ç³– 10g</p></li>
<li><p>å¦ä¸€ä¸ª ç™½å·§å…‹åŠ›40g éš”æ°´åŠ çƒ­</p></li>
<li><p>åŠ å…¥ æŠ¹èŒ¶ç²‰ 8g éš”æ°´åŠ çƒ­ åŠ å…¥ å·§å…‹åŠ› æ…æ‹Œ</p></li>
<li><p>åŠ å…¥é¸¡è›‹ å¸¸æ¸© æ…æ‹Œ</p></li>
<li><p>åŠ å…¥ æ·¡å¥¶æ²¹ 80g åˆ° ç»†è…»å…‰æ»‘çš„ç³ŠçŠ¶ æŒ¤å…¥æ‘¸å…·çƒ¤ç›˜åŠ å…¥çƒ­æ°´ æ°´æµ´æ³•
çƒ¤ç®±ä¸­å±‚ 155åº¦ çƒ˜çƒ¤ 20åˆ†é’Ÿ æ™¾å‡‰ å†·è—ä¸€å¤œé£Ÿç”¨æ›´ä½³</p>
<!--more-->
<center>
<p><img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E5%A4%B1%E8%B4%A5%E7%9A%84%E6%8A%B9%E8%8C%B6%E8%8A%9D%E5%A3%AB%E5%B0%8F%E8%9B%8B%E7%B3%95.jpg"/></p>
</center>
<center>
<p><b><font size ='2'>å¤±è´¥çš„æŠ¹èŒ¶èŠå£«è›‹ç³•</font></b></p>
</center>
<p></font></p></li>
</ul>
<h2 id="å¹³åº•é”…å¯åšå¤¹å¿ƒé¢åŒ…">å¹³åº•é”…å¯åšå¤¹å¿ƒé¢åŒ…</h2>
<p><a
href="https://www.bilibili.com/video/BV16M411a7aG/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å‚è€ƒè§†é¢‘</a></p>
<ul>
<li><p>è›‹é»„3ä¸ª</p></li>
<li><p>ç‰ç±³æ·€ç²‰ 20g</p></li>
<li><p>ç»†ç ‚ç³–25g</p></li>
<li><p>ç‰›å¥¶200g<br />
è¿‡ç­›å¾—åˆ°ç»†è…»ç³ŠçŠ¶<br />
å€’å…¥ä¸ç²˜é”… ä¸­å°ç« ä¸åœæ…æ‹Œ<br />
ç†¬åˆ°èƒ½å¤ŸæŒ‚å‹ºå­ åå…³ç« æ”¾å‡‰å¾…ç”¨</p></li>
<li><p>é«˜ç­‹é¢ç²‰ 160g</p></li>
<li><p>ç»†ç ‚ç³–15g</p></li>
<li><p>ç‰›å¥¶120g</p></li>
<li><p>é…µæ¯ 2g</p></li>
<li><p>ç› 1g<br />
æ‰æˆå…‰æ»‘é¢å›¢ ç›–ä¸Šä¿é²œè†œ é†’å‘ 15åˆ†é’Ÿ<br />
ç”¨æ‰‹æŒ‰å‹æ’æ°”å å¹³å‡åˆ†æˆ8ç­‰åˆ† æ‰åœ†ä»¥å ç”¨æ“€é¢æ–æ“€æˆç‰›èˆŒçŠ¶<br />
æŒ¤å…¥ ä¹‹å‰å¡ä»•è¾¾é…± æèµ·é¢çš® ç›–ä¸Šæ”¶å£æè¾¹<br />
ç›–ä¸Šä¿é²œè†œå‘é…µè‡³1.5å€å¤§ å¹³åº•é”… å°ç«é¢„çƒ­ æ”¾å…¥é¢åŒ…èƒš è¾¹ç¼˜æ”¾å°‘è®¸æ¸…æ°´
ï¼ˆ20gï¼‰<br />
åŠ ç›–ç„–ç…è‡³åº•éƒ¨é‡‘é»„ç¿»é¢ é‡å¤</p></li>
</ul>
<h2 id="é›ªåªšå¨˜">é›ªåªšå¨˜</h2>
<p><a
href="https://www.bilibili.com/video/BV1rS4y1r7BW/?spm_id_from=333.999.0.0">å‚è€ƒç®€ç®€å¨æˆ¿è§†é¢‘</a></p>
<p>é¥¼çš®</p>
<ul>
<li><p>ç³¯ç±³ç²‰ 100g</p></li>
<li><p>ç‰ç±³æ·€ç²‰300g</p></li>
<li><p>ç»†ç ‚ç³–65g</p></li>
<li><p>ç‰›å¥¶180g<br />
æ…æ‹Œå‡åŒ€ è¿‡ç­› è’™ä¸Šä¿é²œè†œä¸Šé”…è’¸15åˆ°20åˆ†é’Ÿ</p></li>
<li><p>é»„æ²¹ 40g<br />
åŠ è¿›å» æ‹Œä¸€ä¸‹ æ”¾å‡‰ è½»å¾®çƒ«æ‰‹ æ‰ åœ¨æ”¾æ¿ä¸Šæ‰ è¦æ’’ä¸€äº›ç†Ÿæª½ç±³ç²‰é˜²ç²˜</p></li>
<li><p>è“é£è½¦ æ·¡å¥¶æ²¹ 150g ç³–ç²‰10.5g</p></li>
<li><p>å¥¶æ²¹75g æ°´æœ75gï¼ˆè‰è“æ¨è å¥¶æ²¹è‰è“ èŠ’æœå°å°å†œæœ€å¥½
å…¶æ¬¡å¤§å°å†œ</p></li>
</ul>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/å¤±è´¥é›ªåªšå¨˜1.png"/>
</center>
<center>
<b><font size ='2'>å¤±è´¥çš„é›ªåªšå¨˜</font></b>
</center>
<p></font></p>
<h2 id="çº¢è–¯å°æ–¹">çº¢è–¯å°æ–¹</h2>
<p><a
href="https://www.bilibili.com/video/BV1ve4y1K7KS/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å‚è€ƒè§†é¢‘</a></p>
<ul>
<li>200g çº¢è–¯</li>
</ul>
<p>ä¸Šé”…è’¸ç†Ÿ å‹æˆæ³¥</p>
<ul>
<li><p>25g ç™½ç ‚ç³–</p>
<p>æ‰æˆä¸ç²˜æ‰‹é¢å›¢ åˆ†æˆ25gå°å‰‚å­ï¼Œå†æ•´æˆå°æ–¹å—</p></li>
<li><p>150g ç³¯ç±³ç²‰</p>
<p>åˆ·ä¸€ç‚¹æ°´ åŠ èŠéº» ç©ºæ°”ç‚¸é”… 170åº¦20åˆ†é’Ÿ çƒ¤ç®±æ˜¯180åº¦äºŒååˆ†é’Ÿ</p>
<p><img
src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E7%BA%A2%E8%96%AF%E5%B0%8F%E6%96%B9.jpg" /></p></li>
</ul>
<h2 id="å’–å•¡æä»é¥¼">å’–å•¡æä»é¥¼</h2>
<p><a
href="https://www.bilibili.com/video/BV15K411276e/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å‚è€ƒé“¾æ¥</a></p>
<ul>
<li><p>é»„æ²¹ 70g</p></li>
<li><p>é«˜ç­‹é¢ç²‰100g</p></li>
<li><p>ç³–ç²‰ 37g</p></li>
<li><p>ç›1g</p></li>
<li><p>æä»ç‰‡40g</p>
<p>æ‰æ··åˆå‡åŒ€ ä¸èƒ½ é•¿æ—¶é—´æ…æ‹Œ</p></li>
<li><p>é€Ÿæº¶å’–å•¡ç²‰ 3g</p></li>
<li><p>ç‰›å¥¶ 30g</p>
<p>ç„¶ååŠ å…¥èåŒ–å’–å•¡ åŠ å…¥æä»ç‰‡ æ¡Œé¢ä¸Š åŠ ä¸€ç‚¹é¢ç²‰ æ‰æˆä¸€æ¡ å†·å†»
åŠå°æ—¶</p>
<p>é£ç‚‰æ¨¡å¼170åº¦ 20åˆ†é’Ÿ</p></li>
</ul>
<h2 id="ä¼¯çˆµçº¢èŒ¶æ›²å¥‡">ä¼¯çˆµçº¢èŒ¶æ›²å¥‡</h2>
<p><a
href="https://www.bilibili.com/video/BV1ZG4y1h7HP/?spm_id_from=333.337.search-card.all.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å‚è€ƒé“¾æ¥</a></p>
<ul>
<li><p>é»„æ²¹100g</p></li>
<li><p>ç³–ç²‰45g</p></li>
<li><p>è›‹é»„æ¶²10g æ…æ‹Œé¡ºæ»‘</p></li>
<li><p>ä½ç­‹ç²‰140g</p></li>
<li><p>ä¼¯çˆµçº¢èŒ¶ç²‰5g</p>
<p>æ‰æˆé¢å›¢ ææˆåœ†æŸ±çŠ¶ å†æ»šä¸€å±‚ç™½ç³– å†·å†»30åˆ†é’Ÿ åˆ‡ç‰‡ å®¤æ¸©æ”¾ä¸€ä¼š çƒ¤ç®±
170åº¦ 20åˆ†é’Ÿ</p></li>
</ul>
<h2 id="ææ‹‰ç±³è‹">ææ‹‰ç±³è‹</h2>
<p><a
href="https://www.bilibili.com/video/BV164411E78L/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å‚è€ƒå¤§ç¢—æ‹¿é“è§†é¢‘</a></p>
<ul>
<li>2åˆ°3ä¸ªè›‹é»„ ç³–60g ä¸€ç‚¹åˆ©å£é…’ éš”æ°´åŠ çƒ­</li>
<li>é©¬æ–¯å¡å½­250g åŠ ä¸€ç‚¹åˆ©å£é…’</li>
<li>å¥¶æ²¹200-250ml æ‰“å‘è‡³ä¸æµåŠ¨æœ‰æ¸…æ™°ç—•è¿¹</li>
</ul>
<h2 id="çŒ«èˆŒé¥¼å¹²è›‹æ¸…æ¶ˆè€—">çŒ«èˆŒé¥¼å¹²ï¼ˆè›‹æ¸…æ¶ˆè€—ï¼‰</h2>
<p><a
href="https://www.bilibili.com/video/BV14i4y1Q74v/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å‚è€ƒè§†é¢‘</a></p>
<p>é»„æ²¹40g ç³–ç²‰40g</p>
<p>åˆ†ä¸¤åˆ°ä¸‰æ¬¡åŠ å…¥è›‹æ¸…40g</p>
<p>å¯å¯å‘³ ä½ç­‹é¢ç²‰35gï¼Œå¯å¯ç²‰5g æŠ¹èŒ¶å‘³ ä½ç­‹é¢ç²‰37g æŠ¹èŒ¶ç²‰3g</p>
<p>çƒ¤ç®±é¢„çƒ­å ä¸Šä¸‹ç«180åº¦10åˆ†é’Ÿ</p>
<h2 id="èŠ’æœç­æˆŸ">èŠ’æœç­æˆŸ</h2>
<h3 id="é¥¼çš®">é¥¼çš®</h3>
<ul>
<li>å¤§å·é¸¡è›‹ä¸¤é¢— ï¼ˆ60-65å…‹/ä¸ªï¼‰</li>
<li>ç‰›å¥¶ 280å…‹</li>
<li>ä½ç­‹é¢ç²‰ 100å…‹</li>
<li>ç»†ç ‚ç³– 35å…‹</li>
<li>æ— ç›é»„æ²¹ï¼ˆèåŒ–ï¼‰20å…‹</li>
</ul>
<h3 id="é¦…æ–™">é¦…æ–™</h3>
<ul>
<li>æ·¡å¥¶æ²¹ 300å…‹</li>
<li>ç³–ç²‰ 25å…‹</li>
<li>2ä¸ªèŠ’æœ</li>
</ul>
<p>å†°ç®±å†·è—2å°æ—¶åé£Ÿç”¨<br />
<a
href="https://www.bilibili.com/video/BV1ZP411T7m5/?spm_id_from=333.337.search-card.all.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å‚è€ƒè§†é¢‘</a></p>
<h2 id="ç£…è›‹ç³•">ç£…è›‹ç³•</h2>
<ul>
<li>å‘é…µé»„æ²¹100g</li>
<li>ç»†ç ‚ç³–100g</li>
<li>é¸¡è›‹100g</li>
<li>ä½ç²‰100g</li>
<li>æ³¡æ‰“ç²‰2g</li>
<li>é¦™è‰åŠæ ¹</li>
</ul>
<ol type="1">
<li>ä½ç²‰è¿‡ç­›ã€æ³¡æ‰“ç²‰è¿‡ç­›ï¼Œæ··åˆã€‚</li>
<li>é»„æ²¹å®¤æ¸©è½¯åŒ–ï¼ŒåŠ å…¥ç»†ç ‚ç³–ï¼Œæ‰“è‡³é¢œè‰²å˜æµ…ã€‚</li>
<li>åˆ†3æ¬¡åŠ å…¥è›‹æ¶²ï¼Œæ¯åŠ ä¸€æ¬¡ï¼Œæ‰“å‘èåˆå†åŠ å…¥ä¸‹ä¸€æ¬¡ã€‚</li>
<li>ç­›å…¥ç²‰ç±»ï¼Œæ‹Œè‡³æ— å¹²ç²‰ï¼Œå‡ºç°å…‰æ³½ã€‚</li>
<li>è£…å…¥è£±èŠ±è¢‹ï¼ŒæŒ¤å…¥æ¨¡å…·ï¼Œåˆ®åˆ€æ•´æˆä¸¤è¾¹é«˜ä¸­é—´ä½ã€‚</li>
<li>çƒ¤ç®±ä¸­ä¸‹å±‚ï¼Œå®é™…æ¸©åº¦170çƒ¤45åˆ†é’Ÿå·¦å³ã€‚</li>
<li>è·ç¦»å·¥ä½œå°10cméœ‡ä¸€ä¸‹ï¼Œè„±è†œå†·å´ã€‚</li>
<li>æ”¾å‡‰åè£¹ä¸Šä¿é²œè†œï¼Œå†°ç®±å†·è—åˆ°ç¬¬ä¸‰å¤©ï¼Œå¯é£Ÿç”¨ã€‚</li>
</ol>
<p>è§†é¢‘ä¸­æ¨¡å…·å°ºå¯¸:é•¿20cm ä¸Šå£å®½10cm åº•å®½9cm é«˜7cm</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E9%A6%99%E8%8D%89%E7%A3%85%E8%9B%8B%E7%B3%95.jpg"/>
</center>
<center>
<b><font size ='2'>ç£…è›‹ç³•</font></b>
</center>
<p></font></p>
<h2 id="ç²‘ç²‘ç³•">ç²‘ç²‘ç³•</h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E6%AA%BD%E7%B1%B3%E7%B2%91%E7%B2%91%E7%B3%95.jpg"/>
</center>
<center>
<b><font size ='2'>æª½ç±³ç²‘ç²‘ç³•</font></b>
</center>
<p></font></p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E7%B2%91%E7%B2%91%E7%B3%95.jpg"/>
</center>
<center>
<b><font size ='2'>ç²‘ç²‘ç³•</font></b>
</center>
<p></font></p>
<ul>
<li>å…¨è›‹150g</li>
<li>ç»†ç ‚ç³–40g</li>
<li>ç³¯ç±³ç²‰90g</li>
<li>æ³¡æ‰“ç²‰2g</li>
<li>é»„æ²¹30g</li>
<li>ç‰›å¥¶30g</li>
</ul>
<ol type="1">
<li>ç³¯ç±³ç²‰å’Œæ³¡æ‰“ç²‰æå‰æ··åˆï¼Œé»„æ²¹ã€ç‰›å¥¶ï¼Œéš”æ°´åŠ çƒ­è‡³50-60åº¦å·¦å³ã€‚</li>
<li>è›‹æ¶²é‡ŒåŠ å…¥ç ‚ç³–ï¼Œé«˜é€Ÿæ‰“å‘4åˆ†é’Ÿå·¦å³ï¼Œç”»Zå­—ç¼“æ…¢æ¶ˆå¤±ï¼Œä½é€Ÿæ‰“å‘2åˆ†é’Ÿå·¦å³ã€‚</li>
<li>ç­›å…¥ä½ç²‰ï¼Œæ…æ‹Œè‡³æ— å¹²ç²‰å (çº¦40ä¸‹)ã€‚</li>
<li>é¡ºç€åˆ®åˆ€æ·‹å…¥é»„æ²¹å’Œç‰›å¥¶(æ¸©åº¦åœ¨50-60åº¦ä¹‹é—´)
ï¼Œç»§ç»­æ…æ‹Œ30æ¬¡å·¦å³ï¼Œæ‹ŒåŒ€å³å¯ã€‚</li>
<li>å€’å…¥æ¨¡å…·ï¼Œéœ‡ä¸¤ä¸‹ï¼Œçƒ¤ç®±å®é™…æ¸©åº¦150åº¦çƒ¤30-35åˆ†é’Ÿå·¦å³.å‡ºç‚‰è„±æ¨¡æ™¾å‡‰ã€‚</li>
</ol>
<p><a
href="https://www.bilibili.com/video/BV1UG4y1479Q/?spm_id_from=333.337.search-card.all.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">è§†é¢‘</a>ä¸­åŒå€çƒ¤äº†40åˆ†é’Ÿï¼Œç”¨çš„å¤æ—©æ¨¡å…·
(24cm 24cm 8cm)</p>
<h2 id="è›‹ç³•å·">è›‹ç³•å·</h2>
<p>è›‹ç³•ä½“:</p>
<p>è›‹é»„85g ç‰ç±³æ²¹50g ç‰›å¥¶60g ä½ç²‰70g<br />
è›‹ç™½170g ç ‚ç³–60g ç›1g æŸ æª¬æ±æˆ–ç™½é†‹5g</p>
<ol type="1">
<li>è›‹é»„å’Œè›‹ç™½åˆ†ç¦»ï¼Œè›‹ç™½å†·å†»ã€‚è›‹é»„å¸¸æ¸©æˆ–è€…éš”æ°´åŠ çƒ­åˆ°20-30åº¦ã€‚</li>
<li>ç‰ç±³æ²¹å’Œç‰›å¥¶éš”æ°´åŠ çƒ­åˆ°40åº¦å·¦å³ï¼ŒåŒæ—¶ä¹³åŒ–ã€‚</li>
<li>ä¹³åŒ–å¥½çš„ç‰ç±³æ²¹å’Œç‰›å¥¶åŠ å…¥åˆ°è›‹é»„é‡Œæ…æ‹Œèåˆã€‚</li>
<li>ç­›å…¥ä½ç²‰ç”¨Zå­—æ…æ‹Œæ³•æ‹ŒåŒ€ã€‚</li>
<li>è›‹ç™½é‡ŒåŠ å…¥ç›ã€æŸ æª¬æ±æˆ–è€…ç™½é†‹ï¼Œä¸‰æ¬¡åŠ ç³–æ‰“è‡³å°å¼¯é’©ã€‚</li>
<li>å–3åˆ†ä¹‹ä¸€è›‹ç™½åŠ å…¥è›‹é»„ç³Šï¼Œæ‹ŒåŒ€åï¼Œå…¨éƒ¨å€’å…¥å‰©ä¸‹è›‹ç™½éœœé‡Œæ‹ŒåŒ€ã€‚</li>
<li>ä»é«˜å¤„å€’å…¥çƒ¤ç›˜150åº¦çƒ¤30åˆ†é’Ÿï¼ŒæŒ‰éœ€å†åŠ çƒ¤5åˆ†é’Ÿå·¦å³ (çƒ­é£å¾ªç¯)</li>
<li>å‡ºç‚‰å‡‰è‡³æ¸©çƒ­ã€‚æŠ¹ä¸Šé¦™æå¥¶æ²¹ï¼Œæ”¾ä¸ŠèŠ’æœç²’ï¼Œå·èµ·æ¥å†·è—1å°æ—¶ã€‚</li>
</ol>
<p>å¤¹å¿ƒ: æ·¡å¥¶æ²¹250g ç³–ç²‰15gå°å†œèŠ’æœç²’200g</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E8%9B%8B%E7%B3%95%E5%8D%B7%E8%BF%98%E6%B2%A1%E5%8D%B7.jpg"/>
</center>
<center>
<b><font size ='2'>è›‹ç³•å·è¿˜æ²¡æœ‰å·</font></b>
</center>
<p></font></p>
<p><a
href="https://www.bilibili.com/video/BV1QY4y1t7fu/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">è§†é¢‘</a></p>
<h2 id="èŠ’æœæˆšé£è›‹ç³•">èŠ’æœæˆšé£è›‹ç³•</h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E8%8A%92%E6%9E%9C%E5%A5%B6%E6%B2%B9%E6%88%9A%E9%A3%8E%E8%9B%8B%E7%B3%95.jpg"/>
</center>
<center>
<b><font size ='2'>æ²¡æœ‰æŠ¹é¢çš„å·¥å…· æ‰€ä»¥å“ç›¸ä¸å¤ªå¥½</font></b>
</center>
<p></font></p>
<h2 id="å·´æ–¯å…‹èŠå£«è›‹ç³•">å·´æ–¯å…‹èŠå£«è›‹ç³•</h2>
<p>å¥¶æ²¹å¥¶é…ª 350<br />
ç™½ç ‚ç³– 90g<br />
2å…¨è›‹+1è›‹ é»„<br />
é²œå¥¶æ²¹ 150g<br />
ä½ç­‹é¢ç²‰ 10g</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E5%B7%B4%E6%96%AF%E5%85%8B%E8%8A%9D%E5%A3%AB.jpg"/>
</center>
<center>
<b><font size ='2'>å·´æ–¯å…‹èŠå£«è›‹ç³•</font></b>
</center>
<p></font></p>
<p><a
href="https://www.bilibili.com/video/BV1P5411L7hY/?spm_id_from=333.337.search-card.all.click&amp;vd_source=89cd1bd958a3eea212de763dc113559e">è§†é¢‘</a></p>
<h2 id="å¤æ—©è›‹ç³•">å¤æ—©è›‹ç³•</h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E5%8F%A4%E6%97%A9%E8%9B%8B%E7%B3%95%E5%A4%AA%E6%B9%BF%E4%BA%86.jpg"/>
</center>
<center>
<b><font size ='2'>å¤æ—©è›‹ç³•å¤ªæ¹¿äº†</font></b>
</center>
<p></font></p>
<p>è›‹é»„120 è›‹ç™½260 ä½ç²‰105 ç ‚ç³–85 æ¤ç‰©æ²¹85 ç‰›å¥¶96 æª¬æ±æˆ–ç™½é†‹5g</p>
<ol type="1">
<li>è›‹ç™½è›‹é»„åˆ†ç¦»ï¼Œè›‹ç™½æ‹¿å»å†·å†»ã€‚</li>
<li>ç‰›å¥¶åŠ çƒ­è‡³40åº¦å·¦å³å¤‡ç”¨ï¼Œä½ç²‰è¿‡ç­›.</li>
<li>ç‰ç±³æ²¹åŠ çƒ­è‡³70åº¦ï¼Œå€’å…¥é¢ç²‰é‡Œæ‹ŒåŒ€ï¼Œå¾€é¢ç²‰é‡Œå€’çš„æ—¶å€™æ¸©åº¦æ˜¯75åº¦å·¦å³</li>
<li>åŠ å…¥ç”Ÿå¥¶æ‹ŒåŒ€ï¼ŒåŠ å…¥è›‹é»„æ‹ŒåŒ€ã€‚</li>
<li>è›‹ç™½åŠ ç›ã€æŸ æª¬æ±æˆ–ç™½é†‹ï¼Œä½é€Ÿæ‰“å‘è‡³é±¼çœ¼æ³¡åŠ å…¥ä¸‰åˆ†ä¹‹ä¸€ç ‚ç³–ï¼Œé«˜é€Ÿæ‰“å‘åˆ°ç»†è…»çŠ¶æ€</li>
<li>å†åŠ å…¥ä¸‰åˆ†ä¹‹ä¸€ç ‚ç³–ï¼Œä¸­é€Ÿæ‰“å‘åˆ°æœ‰çº¹è·¯çŠ¶æ€</li>
<li>åŠ å…¥å‰©ä¸‹ç ‚ç³–ã€‚ä½é€Ÿåˆ°æ‰“è‡³æèµ·æ‰“è›‹å¤´ä¸ºå°å¼¯é’©ç›†é‡Œæ˜¯å¤§å¼¯é’©çš„çŠ¶æ€ã€‚çº¦6åˆ†é’Ÿå·¦å³ã€‚</li>
<li>ä¸‰åˆ†ä¹‹ä¸€è›‹ç™½åŠ å…¥è›‹é»„æ‹ŒåŒ€ï¼Œå†å€’å…¥å‰©ä¸‹è›‹ç™½æ‹ŒåŒ€</li>
<li>æ°´æµ´æ³• (åŠ å…¥2-3cmå¸¸æ¸©æ°´)</li>
<li>40å‡ä»¥ä¸‹çƒ¤ç®±140åº¦90åˆ†é’Ÿå·¦å³ã€‚æˆ–è€…130åº¦çƒ˜çƒ¤110åˆ†é’Ÿå·¦å³40å‡ä»¥ä¸Šçƒ¤ç®±150åº¦70åˆ†é’Ÿå·¦å³ã€‚</li>
<li>è„±æ¨¡æ’•æ‰æ²¹çº¸æˆ–æ²¹å¸ƒå³å¯ã€‚</li>
</ol>
<p>å¦‚æœæ˜¯æ´»åº•ç£¨å…·ï¼Œå¯ä»¥çƒ¤ç›˜åŠ æ°´æ”¾åœ¨æœ€ä¸‹å±‚ç„¶åä¸Šé¢æ”¾çƒ¤ç½‘ï¼Œçƒ¤ç½‘ä¸Šæ”¾è›‹ç³•æ¨¡å…·ã€‚æˆ–è€…å¤šåŒ…å‡ å±‚é”¡çº¸ã€‚</p>
<h2 id="é¦™è•‰å·§å…‹åŠ›è›‹ç³•">é¦™è•‰å·§å…‹åŠ›è›‹ç³•</h2>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E9%A6%99%E8%95%89%E5%B7%A7%E5%85%8B%E5%8A%9B%E8%9B%8B%E7%B3%95.jpg"/>
</center>
<center>
<b><font size ='2'> é¦™è•‰å·§å…‹åŠ›è›‹ç³•</font></b>
</center>
<p></font></p>
<h2 id="çƒ¤é¸¡ç¿…">çƒ¤é¸¡ç¿…</h2>
<p><a
href="https://www.bilibili.com/video/BV14b411g7Gm/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å¤§ç¢—æ‹¿é“ç‰ˆ</a></p>
<p>13ä¸ªé¸¡ç¿…ç‰ˆ</p>
<ul>
<li>ç› 1g</li>
<li>èƒ¡æ¤’ç²‰ 1g</li>
<li>ç”ŸæŠ½é…±æ²¹ 10g è€—æ²¹ 8g</li>
<li>é£Ÿç”¨æ²¹ 20g å½“ä¸­æ¶¦æ»‘å‰‚</li>
</ul>
<p>é¸¡ç¿…ä¸¤é¢åŒ…å¥½é”¡çº¸ï¼Œæ”¾åˆ°é¢„çƒ­åˆ°150åº¦çš„çƒ¤ç®±45åˆ†é’Ÿï¼Œåˆ·èœ‚èœœæ°´
å†æ”¾è¿›230åº¦çš„çƒ¤ç®±3åˆ†é’Ÿå·¦å³ ç¿»é¢åœ¨3åˆ†é’Ÿï¼ˆæˆ–è®¸è¦ä¹…ä¸€ç‚¹è¿˜æœ‰å¾…ç ”ç©¶ å¦‚æœç‚™çƒ¤
ï¼ˆå¯ä»¥é€‰é«˜æ¸©å’Œä½æ¸© å°±é€‰ä½æ¸©ï¼‰3åˆ†é’Ÿä¸€é¢ é¸¡ç¿…å‡ºç°é»‘ç­å°±æ¢ä¸€é¢ï¼‰</p>
<p><a
href="https://www.bilibili.com/video/BV1JK4y1v77U/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">äºŒç‹—ç‰ˆ</a></p>
<ul>
<li><p>èœ‚èœœ1å‹º</p></li>
<li><p>è€—æ²¹1å‹º</p></li>
<li><p>ç”ŸæŠ½2å‹º</p></li>
<li><p>è’œç²‰ 1å‹º</p></li>
<li><p>æ–™é…’ 0.5å‹º</p></li>
<li><p>èƒ¡æ¤’ç²‰ä¸€ç‚¹ç‚¹</p></li>
<li><p>åä¸‰é¦™ä¸€ç‚¹ç‚¹</p>
<p>çƒ¤ç®±180åº¦ åˆ·èœ‚èœœ ä¸Šä¸‹ç«150 åº¦ çƒ¤15åˆ†é’Ÿ å†åˆ·æ°´ ç»§ç»­180Â°
10åˆ†é’Ÿ</p></li>
</ul>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/çƒ¤ç¿…1.png"/>
</center>
<center>
<b><font size ='2'>çƒ¤ç¿… è¡¨é¢è¿˜ä¸å¤Ÿç„¦</font></b>
</center>
<p></font></p>
<h2 id="è‘±çˆ†ç¾Šè‚‰">è‘±çˆ†ç¾Šè‚‰</h2>
<p><a
href="https://www.bilibili.com/video/BV1tM411b7PU/?spm_id_from=333.999.0.0&amp;vd_source=89cd1bd958a3eea212de763dc113559e">å‚è€ƒç®€ç®€å¨æˆ¿è§†é¢‘</a></p>
<p>è…Œåˆ¶</p>
<ul>
<li>å°è‹æ‰“1g</li>
<li>ç³– 2g</li>
<li>æ–™é…’12g</li>
<li>é…±æ²¹12 g</li>
<li>ç”Ÿç²‰ï¼ˆç‰ç±³æ·€ç²‰ï¼‰5g</li>
<li>æ¤ç‰©æ²¹25g</li>
</ul>
<p>è…Œåˆ¶30åˆ†é’Ÿ</p>
<p>æ–™æ±</p>
<ul>
<li>ç›1g</li>
<li>ç™½ç³–3g</li>
<li>æ–™é…’5g</li>
<li>é…±æ²¹ 5g</li>
<li>é™ˆé†‹5g</li>
<li>å‘³ç²¾1g</li>
</ul>
<p>å¤§è‘±ï¼ˆåˆ‡æˆæ»šåˆ€è‘± éœ²å‡ºæˆªé¢ï¼‰</p>
<p>å¤§ç«é”…çƒ­ 300Â°c æ”¾æ²¹è½¬åŒ€ æ”¾ç¾Šè‚‰ åœå‡ ç§’ å†ç¿»é¢ ç¾Šè‚‰8æˆç†Ÿ è¾¹ç¼˜å¾®ç„¦</p>
å€’æ‰ä¸€äº›æ²¹ ç•™ä¸€ç‚¹ å¤§ç«æš´é¦™å¤§è‘± åŠ å…¥ ç¾Šè‚‰ æ–™æ± å¤§ç«ä¸€åˆ†é’Ÿ<br />

<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/è‘±çˆ†ç¾Šè‚‰1.png"/>
</center>
<center>
<b><font size ='2'>ç¬¬ä¸€æ¬¡å°è¯•çš„è‘±çˆ†ç¾Šè‚‰</font></b>
</center>
<p></font></p>
<h1 id="çƒ¹é¥ªçŸ¥è¯†">çƒ¹é¥ªçŸ¥è¯†</h1>
<h2 id="é£ç‚‰çƒ­é£å¹³ç‚‰æ¨¡å¼æ€ä¹ˆç”¨">é£ç‚‰ã€çƒ­é£ã€å¹³ç‚‰æ¨¡å¼æ€ä¹ˆç”¨ï¼Ÿ</h2>
<p>è®¸å¤šå‡†å¤‡å…¥æ‰‹å’Œæ–°å…¥æ‰‹é£ç‚‰ä¸€ä½“çƒ¤ç®±çš„é›†ç¾ï¼Œäº†è§£è¿™2ç‚¹ï¼Œé£ç‚‰ã€çƒ­é£ã€å¹³ç‚‰3âƒ£ï¸ç§æ¨¡å¼è½»æ¾æŒæ¡åˆ‡æ¢ï¼</p>
<p>é¦–å…ˆæˆ‘ä»¬äº†è§£ä¸‰ç§æ¨¡å¼çš„è¿ä½œæ–¹å¼ï¼š</p>
<p>â¤ï¸å¹³ç‚‰ï¼šé€šè¿‡ä¸Šä¸‹ç®¡å‘çƒ­è¿›è¡Œçƒ˜çƒ¤ï¼Œæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„çƒ¤ç®±æ¨¡å¼ï¼›</p>
<p>â¤ï¸çƒ­é£ï¼šé€šè¿‡ä¾§é¢é£æ‰‡é…åˆä¸Šä¸‹å‘çƒ­ç®¡è¿›è¡Œçƒ˜çƒ¤ï¼›</p>
<p>â¤ï¸é£ç‚‰ï¼šé€šè¿‡åç½®é£æ‰‡é…åˆåç½®å‘çƒ­ç®¡è¿›è¡Œçƒ˜çƒ¤ï¼›</p>
<p>æ¥ç€æˆ‘ä»¬äº†è§£è¿™3ç§æ¨¡å¼çš„ä½¿ç”¨ï¼š</p>
<p>â¤ï¸å¹³ç‚‰ï¼šå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œé€‚åˆçƒ¤åˆ¶è›‹ç³•ã€é¢åŒ…ã€å¸åº·ç­‰æ¹¿æ¶¦å£æ„Ÿçš„é£Ÿç‰©ï¼›</p>
<p>â¤ï¸çƒ­é£ï¼šä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œä¸€èˆ¬åœ¨å¹³ç‚‰æœ€å10åˆ†é’Ÿå¼€å¯ï¼Œé€‚åˆéœ€è¦è¡¨é¢ä¸Šè‰²å‡åŒ€ï¼Œå¦‚å·´æ–¯å…‹è›‹ç³•ã€è›‹æŒã€ç„¦ç³–ç±»é£Ÿç‰©ï¼›</p>
<p>â¤ï¸é£ç‚‰ï¼šå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œé€‚åˆçƒ¤åˆ¶éº»è–¯ã€é¥¼å¹²ã€è›‹é»„é…¥ã€è–„è„†ç­‰é…¥æ¾å£æ„Ÿç±»é£Ÿç‰©ï¼›</p>
<p>å¸Œæœ›é€šè¿‡ä»¥ä¸Šè¿™2ç‚¹èƒ½è®©å¤§å®¶æ›´ç›´é¢çš„åˆ†æ¸…çƒ¤ç®±çš„å¹³ç‚‰ã€çƒ­é£ã€é£ç‚‰ä¸‰ä¸ªæ¨¡å¼ã€‚</p>
<p>å¯¹äºé£ç‚‰ä¸€ä½“çƒ¤ç®±æˆ‘ä¸ªäººä¹Ÿæœ‰ä¸€äº›å»ºè®®ï¼š</p>
<p>ä¸è®ºæ˜¯ç§æˆ¿çƒ˜ç„™è¿˜æ˜¯æ–°æ‰‹å…¥é—¨ï¼Œé€‰æ‹©é£ç‚‰ä¸€ä½“çƒ¤ç®±æ˜¯æœ€èƒ½ä¸€æ­¥åˆ°ä½çš„ï¼›</p>
<p>1.å®¹é‡é€‰50Læˆ–ä»¥ä¸Šï¼Œè¿™æ ·èƒ½ä¿è¯å‡ºå“é‡å’Œæ•ˆç‡ï¼›</p>
<p>2.å†…èƒ†æè´¨é€‰æ˜“æ¸…æ´—ã€è€ç”¨çš„é™¶ç“·æ²¹å†…èƒ†ï¼›</p>
<p>3.ç‚‰ç¯é€‰èƒ½é•¿äº®çš„ï¼Œé…åˆæ‹æ‘„å½•åƒï¼›</p>
<p>4.ç»ç’ƒé—¨é€‰åŒå±‚ï¼Œéš”çƒ­å’Œé˜²çˆ†ç‚¸ï¼›</p>
<h2
id="çƒ¤ç®±æ²¡æœ‰é£ç‚‰æ¨¡å¼å¯ä»¥ç”¨ä»€ä¹ˆæ›¿ä»£">çƒ¤ç®±æ²¡æœ‰é£ç‚‰æ¨¡å¼å¯ä»¥ç”¨ä»€ä¹ˆæ›¿ä»£</h2>
<p>æ²¡æœ‰çƒ­é£æ¨¡å¼ä¸€æ ·å¯ä»¥çƒ¤ï¼Œä½†æ˜¯è¦é€šè¿‡ä¸€æ¬¡æ¬¡è¯•éªŒï¼ŒæŒæ¡æ¸©åº¦ï¼Œç”¨165åº¦ä¸­å±‚ã€‚<br />
æ ¹æ®çƒ¤ç®±å’Œçƒ¤ç›˜åšè–„è°ƒæ•´ã€‚ä½†æ˜¯å†³å®šæˆè´¥çš„ç»ä¸ä»…ä»…æ˜¯çƒ¤ç®±å’Œæ¸©åº¦ï¼Œæœ‰å¾ˆå¤šå› ç´ ï¼Œæ¯”å¦‚è›‹æ¸…å¹²æ¹¿ç¨‹åº¦ã€ç³–ç²‰è´¨é‡ã€ç³–æµ†æ¸©åº¦ã€æ…æ‹Œæ‰‹æ³•ç­‰ç­‰ã€‚<br />
å¦‚æœæ˜¯é£å¹²é£Ÿæçš„æ•°é‡æ¯”è¾ƒå¤§çš„è¯ï¼Œå»ºè®®è¿˜æ˜¯é‡‡ç”¨é£å¹²æœºã€‚å› ä¸ºçƒ¤ç®±çƒ­é£å¾ªç¯åŠŸèƒ½å¯¹äºé£Ÿæçš„æ¸©åº¦ä¸€èˆ¬åœ¨230â„ƒå·¦å³ï¼Œçƒ˜çƒ¤æ—¶é—´ä¼šæ¯”è¾ƒé•¿ã€‚å¦‚æœæ˜¯å¯¹é£Ÿæçš„çƒ˜å¹²ç¨‹åº¦å’Œæ—¶é—´æœ‰è¿½æ±‚çš„è¯ï¼Œå»ºè®®è¿˜æ˜¯é‡‡ç”¨é£å¹²æœºã€‚</p>
<h2 id="ä¸åŒé¢ç²‰åˆ†ç±»ä»¥åŠç‰¹æ€§ç”¨æ³•">ä¸åŒé¢ç²‰åˆ†ç±»ä»¥åŠç‰¹æ€§ç”¨æ³•</h2>
<h3 id="åˆ†ç±»">åˆ†ç±»</h3>
<p>æŒ‰ç…§é¢ç²‰ä¸­è›‹ç™½è´¨å«é‡çš„é«˜ä½ï¼Œé¢ç²‰åˆ†ä¸ºç‰¹é«˜ç­‹é¢ç²‰ã€é«˜ç­‹é¢ç²‰ã€ä¸­ç­‹é¢ç²‰ã€ä½ç­‹é¢ç²‰å››ç±»ã€‚ç‰¹é«˜ç­‹é¢ç²‰ä¸­è›‹ç™½è´¨å«é‡ä¸º14%ä»¥ä¸Šï¼›é«˜ç­‹é¢ç²‰ä¸­è›‹ç™½è´¨å«é‡çº¦12.5-13.5%ï¼›ä¸­ç­‹é¢ç²‰ä¸­è›‹ç™½è´¨å«é‡ä¸º9.5-12.0%ï¼›ä½ç­‹é¢ç²‰ä¸­è›‹ç™½è´¨å«é‡åœ¨8.5%ä»¥ä¸‹</p>
<h3 id="ç‰¹æ€§ç”¨æ³•">ç‰¹æ€§ç”¨æ³•</h3>
<p>ç‰¹é«˜ç­‹é¢ç²‰ï¼šé¢ç²‰ä¸­è›‹ç™½è´¨å«é‡æœ€é«˜çš„ä¸€ç§é¢ç²‰ï¼Œå®ƒçš„è›‹ç™½è´¨å«é‡åœ¨14%ä»¥ä¸Šã€‚å› ä¸ºç‰¹é«˜ç­‹é¢ç²‰å…·æœ‰çš„ç­‹åº¦å¼ºã€ç²˜åº¦å¤§çš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥æ¯”è¾ƒé€‚åˆç”¨æ¥ç‚¸æ²¹æ¡ã€åšç©ºå¿ƒé¢æ¡ï¼Œä»¥åŠåšé¢ç­‹ï¼Œè¿˜æœ‰å…¶ä»–å’¬åŠ²å¤§çš„é¢é£Ÿå’Œç‚¹å¿ƒç”¨ã€‚</p>
<p>é«˜ç­‹é¢ç²‰ï¼šå®ƒçš„è›‹ç™½è´¨å«é‡åœ¨13.5%å·¦å³ï¼Œä¸€èˆ¬è›‹ç™½è´¨å«é‡è¶…è¿‡11.5%ï¼Œå°±å¯ä»¥ç§°ä¸ºé«˜ç­‹é¢ç²‰ã€‚é«˜ç­‹é¢ç²‰çš„ç­‹åº¦æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨åšé¢åŒ…æ—¶ï¼Œåº”è¯¥é€‰æ‹©é«˜ç­‹é¢ç²‰ï¼ŒåŠ å…¥é»„æ²¹ä»¥åï¼Œå¯ä»¥æ‰å‡ºâ€œæ‰‹å¥—è†œâ€ã€‚å¹³æ—¶æˆ‘ä»¬åœ¨åˆ¶ä½œå¼¹æ€§å¤§ï¼Œæœ‰åš¼åŠ²çš„é¢åŒ…ã€é¢æ¡ï¼Œä»¥åŠä¸ªåˆ«çƒ˜ç„™é£Ÿå“å¦‚ï¼šæ³¡èŠ™ã€åƒå±‚é…¥æ—¶ï¼Œéƒ½è¦é€‰æ‹©ä½¿ç”¨é«˜ç­‹é¢ç²‰ã€‚</p>
<p>ä¸­ç­‹é¢ç²‰ï¼šæˆ‘ä»¬å¹³æ—¶æœ€å¸¸è§ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§é¢ç²‰ï¼Œè¢«ç§°ä¸ºæ™®é€šé¢ç²‰ã€‚åœ¨æˆ‘ä»¬åŒ—æ–¹äººå®¶é‡Œï¼Œä¸€å¹´å››å­£åƒçš„éƒ½æ˜¯è¿™ç§æ™®é€šé¢ç²‰ã€‚è’¸é¦’å¤´ã€è’¸åŒ…å­ã€åšæ‰‹æ“€é¢ã€åŒ…é¥ºå­éƒ½æ˜¯ç”¨çš„ä¸­ç­‹é¢ç²‰ã€‚è¿™ç§é¢ç²‰å¤–åŒ…è£…è¢‹ä¸Šå¯èƒ½ä¸ä¼šç‰¹åˆ«æ ‡æ˜æ˜¯ä¸­ç­‹é¢ç²‰ã€‚åœ¨è´­ä¹°æ—¶ï¼Œåªè¦çœ‹åˆ°ç”¨é€”å†™ç€å¯ä»¥ç”¨æ¥åšé¦’å¤´ã€åŒ…å­ã€é¢æ¡ã€çƒ™é¥¼ã€é¥ºå­çš„ï¼Œå°±æ˜¯ä¸­ç­‹é¢ç²‰ã€‚</p>
<p>ä½ç­‹é¢ç²‰ï¼šç­‹æ€§æ¯”è¾ƒå¼±çš„ä¸€ç§é¢ç²‰ï¼Œå¸¸è¢«ç”¨æ¥åšè›‹ç³•ã€‚åƒæœ€è¿‘æ¯”è¾ƒç«çš„æˆšé£è›‹ç³•ã€å¤æ—©è›‹ç³•ã€ä»¥åŠè™çš®è›‹ç³•ç­‰ï¼Œéƒ½æ˜¯éœ€è¦ç”¨ä½ç­‹é¢ç²‰æ¥åˆ¶ä½œçš„ã€‚</p>
<p><strong><a href="https://github.com/Anduin2017/HowToCook"><br />
HowToCook</a></strong> ä¸€ä¸ªgithubä¸Šåˆ«äººå†™çš„å¼€æºèœè°±</p>
<center>
<img src="https://cdn.jsdelivr.net/gh/catcooc/catcoocblogimg@main/img/%E5%A5%B6%E6%B2%B9%E5%8F%91%E6%B3%A1.png"/>
</center>
<center>
<b><font size ='2'>å¥¶æ²¹å‘æ³¡ç½‘å›¾</font></b>
</center>
<p></font></p>
]]></content>
      <tags>
        <tag>èœ</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°å½•mathematica bug</title>
    <url>/post/cddd7c2a.html</url>
    <content><![CDATA[<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">f</span> <span class="operator">=</span> <span class="built_in">Gamma</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span> <span class="operator">+</span> <span class="variable">n1</span><span class="punctuation">]</span><span class="operator">/</span><span class="punctuation">(</span><span class="built_in">Gamma</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">n2</span><span class="punctuation">]</span> <span class="built_in">Gamma</span><span class="punctuation">[</span><span class="variable">b</span> <span class="operator">+</span> <span class="variable">n1</span> <span class="operator">-</span> <span class="variable">n2</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="variable">x</span><span class="operator">^</span><span class="punctuation">(</span></span><br><span class="line">   <span class="variable">a</span> <span class="operator">+</span> <span class="variable">n1</span> <span class="operator">-</span> <span class="number">1</span><span class="punctuation">)</span> <span class="punctuation">(</span><span class="number">1</span> <span class="operator">-</span> <span class="variable">x</span><span class="punctuation">)</span><span class="operator">^</span><span class="punctuation">(</span><span class="variable">b</span> <span class="operator">+</span> <span class="variable">n1</span> <span class="operator">-</span> <span class="variable">n2</span> <span class="operator">-</span> <span class="number">1</span><span class="punctuation">)</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">a</span> <span class="operator">-&gt;</span> <span class="number">3</span><span class="operator">,</span> <span class="variable">b</span> <span class="operator">-&gt;</span> <span class="number">5.67</span><span class="operator">,</span> </span><br><span class="line">   <span class="variable">n1</span> <span class="operator">-&gt;</span> <span class="number">15</span><span class="operator">,</span> <span class="variable">n2</span> <span class="operator">-&gt;</span> <span class="number">10</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Integrate</span><span class="punctuation">[</span> <span class="variable">f</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Integrate</span><span class="punctuation">[</span> </span><br><span class="line"> <span class="built_in">PDF</span><span class="punctuation">[</span><span class="built_in">BetaDistribution</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">n2</span><span class="operator">,</span> <span class="variable">b</span> <span class="operator">+</span> <span class="variable">n1</span> <span class="operator">-</span> <span class="variable">n2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x</span><span class="punctuation">]</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">a</span> <span class="operator">-&gt;</span> <span class="number">3</span><span class="operator">,</span> <span class="variable">b</span> <span class="operator">-&gt;</span> <span class="number">5.67</span><span class="operator">,</span> </span><br><span class="line">   <span class="variable">n1</span> <span class="operator">-&gt;</span> <span class="number">15</span><span class="operator">,</span> <span class="variable">n2</span> <span class="operator">-&gt;</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<p>ç§¯åˆ†ç»“æœä¸ä¸€è‡´å‰é¢çš„æ˜¯0.0671263ï¼Œåé¢æ˜¯1.</p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Plot</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">f</span><span class="operator">,</span> <span class="built_in">PDF</span><span class="punctuation">[</span><span class="built_in">BetaDistribution</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">n2</span><span class="operator">,</span> <span class="variable">b</span> <span class="operator">+</span> <span class="variable">n1</span> <span class="operator">-</span> <span class="variable">n2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x</span><span class="punctuation">]</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">a</span> <span class="operator">-&gt;</span> <span class="number">3</span><span class="operator">,</span> </span><br><span class="line">    <span class="variable">b</span> <span class="operator">-&gt;</span> <span class="number">5.67</span><span class="operator">,</span> <span class="variable">n1</span> <span class="operator">-&gt;</span> <span class="number">15</span><span class="operator">,</span> <span class="variable">n2</span> <span class="operator">-&gt;</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="built_in">PlotRange</span> <span class="operator">-&gt;</span> <span class="built_in">All</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<p>ç»˜å›¾ç»“æœä¹Ÿä¸ä¸€è‡´
fç”»å‡ºæ¥çš„å³°å€¼æ˜æ˜¾ä½äºç”¨PDFåŠ BetaDistributionçš„å³°å€¼ã€‚</p>
]]></content>
      <tags>
        <tag>mathematica</tag>
      </tags>
  </entry>
</search>
